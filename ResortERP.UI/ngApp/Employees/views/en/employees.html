<div class="app-content">
    <div class="main-content">
        <div class="wrap-content container" id="container">
            <div class="container-fluid container-fullw ">
                <div class="row">
                    <div class="col-md-12">
                        <div class="panel " style="height:100%;overflow:auto;">
                            <div class="panel-heading border-bottom  panel-white ">
                                <h4 class="panel-title">
                                    Employees
                                </h4>
                                <div class="panel-tools">
                                    <a data-original-title="Refresh" data-toggle="tooltip" data-placement="top" data-trigger="hover" class="btn btn-transparent btn-sm panel-refresh" href="#"><i class="fa fa-circle-o"></i></a>
                                    <a data-original-title="Expand" data-toggle="tooltip" data-placement="top" data-trigger="hover" class="btn btn-transparent btn-sm panel-expand" href="#"><i class="fa fa-compress expand-on"></i><i class="fa fa-expand expand-off"></i></a>
                                </div>
                            </div>

                            <div class="panel-body panel-body panel-white">

                                <ng-form id="test" name="test">
                                    <div class="col-md-9">

                                        <div ng-class="{'has-error': test.$invalid}" class="">
                                            <div class="form-group col-md-6">
                                                <label>Employee Code :</label>
                                                <div class="help-block error" style="display:inline" ng-show="test.code.$error.required">*</div>
                                                <input type="text" name="code" class="form-control" placeholder="Employee Code" ng-model="employees.EMP_CODE" required>
                                            </div>
                                        </div>

                                        <div ng-class="{'has-error': test.$invalid}" class="">
                                            <div class="form-group col-md-6">
                                                <label>Job:</label>
                                                <div class="help-block error" style="display:inline" ng-show="test.ddljob.$error.required">*</div>
                                                <select ng-model="employees.EMP_TYPE_ID" name="ddljob" class="js-example-basic-hide-search js-states form-control" ng-options="x.EMP_TYPE_ID as x.EMP_TYPE_AR_NAME for x in EmployeeTypesList" required>
                                                    <option value=""> choose Job</option>
                                                </select>
                                            </div>
                                        </div>

                                        <div ng-class="{'has-error': test.$invalid}" class="">
                                            <div class="form-group col-md-6">
                                                <label>Employee Arabic Name :</label>
                                                <div class="help-block error" style="display:inline" ng-show="test.arname.$error.required">*</div>
                                                <input type="text" class="form-control" name="arname" placeholder="Employee Arabic Name " ng-model="employees.EMP_AR_NAME" required>
                                            </div>
                                        </div>

                                        <div ng-class="{'has-error': test.$invalid}" class="">
                                            <div class="form-group col-md-6">
                                                <label>Employee Latin Name :</label>
                                                <div class="help-block error" style="display:inline" ng-show="test.enname.$error.required">*</div>
                                                <input type="text" class="form-control" name="enname" placeholder="Employee Latin Name" ng-model="employees.EMP_EN_NAME" required>
                                            </div>
                                        </div>

                                        <div class="form-group col-md-6">
                                            <label>National ID :</label>
                                            <input type="text" class="form-control" placeholder="National ID " ng-model="employees.EMP_NATIONAL_ID" only-Number>
                                        </div>

                                        <div class="form-group col-md-6">
                                            <label>Nationality:</label>
                                            <select ng-model="employees.NATIONALITY_ID" class="js-example-basic-hide-search js-states form-control" ng-options="x.NATION_ID as x.NATIONALITY_AR_NAME for x in NationList">
                                                <option value="">Choose Nationality</option>
                                            </select>
                                        </div>

                                        <div class="form-group col-md-6">
                                            <label>Employee Account:</label>
                                            <select ng-model="employees.ACC_ID" class="js-example-basic-hide-search js-states form-control" ng-options="x.ACC_ID as x.ACC_AR_NAME for x in CustomersAccountsList">
                                                <option value="">Employee Account</option>
                                            </select>
                                        </div>

                                        <div class="form-group col-md-6">
                                            <label>Employee barcode:</label>
                                            <input type="text" class="form-control" placeholder="Employee barcode" ng-model="employees.EMP_BARCODE">
                                        </div>

                                        <div class="form-group col-md-12">
                                            <label>Notes:</label>
                                            <textarea rows="5" style="resize:none;" class="form-control" placeholder="Notes" ng-model="employees.EMP_REMARKS"></textarea>
                                        </div>

                                    </div>

                                    <div class="col-md-3">
                                        <div class="space12 center margin-top-30 margin-bottom-30">
                                            <img id="imgPersonal" class="img-responsive img-rounded img-thumbnail margin-bottom-15" style="width:100%;height:150px !important;" />
                                            <span class="btn btn btn-primary btn-block fileinput-button">
                                                <i class="glyphicon glyphicon-plus"></i> <span>CHhoose Image</span>
                                                <input type="file" class="btn btn-primary" title="Show " style="width:100% !important;" />
                                            </span>
                                        </div>
                                    </div>
                                    <!--/.col-md-3-->

                                    <div class="col-md-12">

                                        <div class="col-md-12">
                                            <div class="panel panel-white min-height-270">
                                                <div class="panel-heading border-bottom">
                                                    <div class="panel-title">
                                                        Employee Address
                                                    </div>
                                                </div>
                                                <div class="panel-body">
                                                    <div class="form-group col-md-6">
                                                        <label>Country:</label>
                                                        <select ng-model="employees.NATION_ID" class="js-example-basic-hide-search js-states form-control" ng-options="x.NATION_ID as x.NATION_AR_NAME for x in NationList" ng-change="getAllNastionGovernate()">
                                                            <option value="">Choose Country</option>
                                                        </select>
                                                    </div>
                                                    <div class="form-group col-md-6">
                                                        <label>Governerate:</label>
                                                        <select ng-model="employees.GOV_ID" class="js-example-basic-hide-search js-states form-control" ng-options="x.GOV_ID as x.GOV_AR_NAME for x in GovernateListByNationID" ng-change="getAllGovernateTown()">
                                                            <option value=""> Choose Governerate</option>
                                                        </select>
                                                    </div>
                                                    <div class="form-group col-md-6">
                                                        <label>City:</label>

                                                        <select ng-model="employees.TOWN_ID" class="js-example-basic-hide-search js-states form-control" ng-options="x.TOWN_ID as x.TOWN_AR_NAME for x in TownsListByGovernateID" ng-change="getAllTownVillage()">
                                                            <option value="">Choose City</option>
                                                        </select>
                                                    </div>
                                                    <div class="form-group col-md-6">
                                                        <label>Village:</label>
                                                        <select ng-model="employees.VILLAGE_ID" class="js-example-basic-hide-search js-states form-control" ng-options="x.VILLAGE_ID as x.VILLAGE_AR_NAME for x in VillagesListByTownID">
                                                            <option value="">Choose Village</option>
                                                        </select>
                                                    </div>
                                                    <div class="form-group col-md-12">
                                                        <label>Address Details:</label>
                                                        <input type="text" class="form-control" placeholder="Address Details" ng-model="employees.COM_STORE_ADDR_REMARKS">
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <!--/.col-md-12-->


                                        <div class="col-md-6">
                                            <div class="panel panel-white">
                                                <div class="panel-heading border-bottom">
                                                    <div class="panel-title">Company Data</div>
                                                </div>
                                                <div class="panel-body min-height-200">
                                                    <div class="form-group col-md-6">
                                                        <label>Company Branch:</label>
                                                        <select ng-model="employees.COM_BRN_ID" class="js-example-basic-hide-search js-states form-control" ng-options="x.COM_BRN_ID as x.COM_BRN_AR_NAME for x in CompanyBranchesList" ng-change="GetDepartmentByCompanyBranchID()">
                                                            <option value=""> Choose Company Branch</option>
                                                        </select>
                                                    </div>
                                                    <div class="form-group col-md-6">
                                                        <label>Department:</label>
                                                        <select ng-model="employees.DEPT_ID" class="js-example-basic-hide-search js-states form-control" ng-options="x.DEPT_ID as x.DEPT_AR_NAME for x in GetDepartmentByCompanyBranchIDList">
                                                            <option value="">Choose Department</option>
                                                        </select>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <!--/.col-md-6-->

                                        <div class="col-md-6">
                                            <div class="panel panel-white">
                                                <div class="panel-heading border-bottom">
                                                    <div class="panel-title">
                                                        Employee Phones
                                                    </div>
                                                </div>
                                                <div class="panel-body min-height-200">
                                                    <div class="table-responsive no-border">

                                                        <div class="col-md-12">
                                                            <table class="table table-bordered table-hover table-full-width ps-scrollbar-x small  panel-full-screen  fc-scroller  " style="overflow:auto;" id="sample-table-2">
                                                                <thead>
                                                                    <tr>
                                                                        <td class="center text-extra-large"><i class="ti-arrow-down"></i></td>
                                                                        <td class="center"> Phone No. </td>
                                                                        <td class="center">Phone Type </td>
                                                                        <td></td>
                                                                    </tr>
                                                                </thead>
                                                                <tbody>
                                                                    <tr ng-repeat="tele in TelephoneList track by $index" style="max-height:50px !important;">
                                                                        <!--track by $index-->
                                                                        <td>
                                                                            {{ $index+1 }}
                                                                        </td>
                                                                        <td>
                                                                            <span e-name="TELE_NUMBER" ng-show="rowform.$show()" editable-text="tele.TELE_NUMBER" e-form="rowform" e-only-Number>
                                                                                {{ tele.TELE_NUMBER || 'empty' }}
                                                                            </span>

                                                                        </td>
                                                                        <td>
                                                                            <span e-name="TELE_CAT_ID" editable-select="tele.TELE_CAT_ID" ng-show="rowform.$show()" e-form="rowform" e-ng-options="x.TELE_CAT_ID as x.TELE_CAT_AR_NAME for x in catList">
                                                                                {{ showSelectedTeleCatTypes(tele.TELE_CAT_ID) }}
                                                                            </span>
                                                                        </td>
                                                                        <td style="white-space: nowrap">
                                                                            <!-- form -->
                                                                            <form editable-form name="rowform" ng-show="!rowform.$show()" class="form-buttons form-inline" shown="telephoneItem == tele" onbeforesave="insertItem($data,$index)">
                                                                                <button type="submit" class="btn btn-info" ng-click="rowform.$show()" ng-show="hideButton($index);">Add&nbsp;<i class="fa fa-plus-circle"></i></button>
                                                                                <button type="button" class="btn btn-danger" ng-click="removeGridItem($index)" ng-show="showButton($index);">Delete&nbsp;<i class="fa fa-remove"></i></button>
                                                                            </form>
                                                                        </td>
                                                                    </tr>
                                                                </tbody>
                                                            </table>
                                                        </div>
                                                        <!--/.col-md-12-->
                                                    </div>
                                                </div>
                                                <!--/.panel-body-->
                                            </div>
                                        </div>
                                        <!--/.col-md-6-->

                                    </div>
                                    <!--/.col-md-12-->

                                    <div class="col-md-12 my-btn-group margin-bottom-25 text-center">
                                        <button type="button" class="btn btn-primary margin-top-10" ng-disabled="test.$invalid" ng-click="saveemployees()"><i class="fa fa-save"></i>Save</button>
                                        <button type="button" class="btn btn-success margin-top-10" ng-click="refreshData()"><i class="fa fa-refresh"></i>Refresh</button>
                                        <button type="button" class="btn btn-info margin-top-10" ng-click="clearEnity()"><i class="fa fa-paste"></i>New</button>
                                    </div>

                                </ng-form>
                            </div>

                            <div class="panel">
                                <div class="panel-group accordion" id="accordion">
                                    <div class="panel panel-white">
                                        <div class="panel-heading">
                                            <h5 class="panel-title"><a class="accordion-toggle collapsed" data-toggle="collapse" data-parent="#accordion" data-target="#collapseTwo"> <i class="icon-arrow"></i> Previously Defined Employees </a></h5>
                                        </div>

                                        <div id="collapseTwo" class="collapse">
                                            <div class="panel-body">
                                                <div class="table-responsive">
                                                    <div class="col-md-3 pull-left ">
                                                        <table class="table table-stylish">
                                                            <tbody>
                                                                <tr>
                                                                    <td class="center text-extra-large"><i class="ti-save"></i></td>
                                                                    <td><span class="text-dark block"> Employees Number Total :</span></td>
                                                                    <td class="center">{{employeesTotalCount}}</td>
                                                                    <td class="center"><i class="fa fa-caret-down text-red"></i></td>
                                                                </tr>

                                                            </tbody>
                                                        </table>
                                                    </div>
                                                    <div class="col-md-12">
                                                        <table class="table table-bordered table-hover table-full-width ps-scrollbar-x small  panel-full-screen  fc-scroller  " style="height:150px;overflow:auto;" id="sample-table-2">
                                                            <thead>
                                                                <tr class="success">
                                                                    <th>#</th>
                                                                    <th>
                                                                        Employee Code
                                                                    </th>
                                                                    <th>
                                                                        Employee Arabic Name
                                                                    </th>
                                                                    <th>
                                                                        Employee Latin Name
                                                                    </th>
                                                                    <th>
                                                                        National ID
                                                                    </th>
                                                                    <th>
                                                                        Nationality
                                                                    </th>
                                                                    <th>
                                                                        Employee Account
                                                                    </th>
                                                                    <th>
                                                                        Employee Barcode
                                                                    </th>
                                                                    <th>Edit / Delete</th>
                                                                </tr>
                                                            </thead>
                                                            <tbody>
                                                                <tr ng-repeat="emp in employeesList">
                                                                    <td class="hidden-xs">{{ $index + 1 }}</td>
                                                                    <td>{{ emp.EMP_CODE }}</td>
                                                                    <td>{{ emp.EMP_AR_NAME }}</td>
                                                                    <td>{{ emp.EMP_EN_NAME }}</td>
                                                                    <td class="hidden-xs">{{ emp.EMP_NATIONAL_ID }}</td>
                                                                    <td class="hidden-xs">{{ emp.NATIONALITY_ID }}</td>
                                                                    <td class="hidden-xs">{{ emp.ACC_ID }}</td>
                                                                    <td class="hidden-xs">{{ emp.EMP_BARCODE }}</td>
                                                                    <td class="center">

                                                                        <div class="visible-md visible-lg hidden-sm hidden-xs">
                                                                            <a href="" ng-click="dirEnity(emp)" class="btn btn-transparent btn-xs" data-toggle="tooltip" data-placement="top" title="Edit"><i class="fa fa-pencil"></i></a>
                                                                            <a href="" ng-click="deleteEnity(emp)" class="btn btn-transparent btn-xs tooltips" data-toggle="tooltip" data-placement="top" title="Remove"><i class="fa fa-times fa fa-white"></i></a>
                                                                        </div>
                                                                        <div class="visible-xs visible-sm hidden-md hidden-lg">
                                                                            <div class="btn-group dropdown">

                                                                                <button type="button" class="btn btn-o btn-sm dropdown-toggle" data-toggle="dropdown">
                                                                                    <i class="fa fa-cog"></i>&nbsp;<span class="caret"></span>
                                                                                </button>

                                                                                <ul class="dropdown-menu pull-right dropdown-light" role="menu">
                                                                                    <li><a href="" ng-click="dirEnity(emp)"> Edit </a></li>
                                                                                    <li><a href="" ng-click="deleteEnity(emp)"> Remove </a></li>
                                                                                </ul>

                                                                            </div>
                                                                        </div>
                                                                    </td>
                                                                </tr>
                                                            </tbody>
                                                        </table>
                                                        <ul uib-pagination total-items="employeesTotalCount" ng-model="pageNum" max-size="maxSize" class="pagination-sm" boundary-links="true" num-pages="numPages" ng-change="pageChanged()"></ul>
                                                        <pre>Page: {{pageNum}} / {{numPages}}</pre>
                                                    </div>
                                                    <!--/.col-md-12-->
                                                </div>
                                                <!--/.table-responsive-->
                                            </div>
                                            <!--/.panel-body-->
                                        </div>
                                        <!--/.panel-collapse-->
                                    </div>
                                    <!--/.panel-->
                                </div>
                                <!--/.panel-group-->

                            </div>
                            <!--/.panel /.panel-white-->

                        </div>
                        <!--/.panel-->
                    </div>
                    <!--/.col-md-12-->
                </div>
                <!--/.row-->
            </div>
            <!--/.container-fluid-->
        </div>
        <!--/.wrap-content-->
    </div>
    <!--/.main-content-->
</div>
<!--/.app-content-->
