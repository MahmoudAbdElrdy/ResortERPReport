<div class="app-content">
    <div class="main-content">
        <div class="wrap-content container" id="container">
            <div class="container-fluid container-fullw ">                
                <div class="col-xs-12 margin-top-10 margin-bottom-10">
                    <div class="breadcrumb-wrapper no-margin">
                        <h4 class="mainTitle no-margin">بيانات المخزن</h4>
                        <ul class="pull-right breadcrumb">
                            <li><a href="#!"><i class="fa fa-home margin-left-5 text-large text-dark"></i>الرئيسية</a></li>
                            <li>بيانات المخزن</li>
                        </ul>
                    </div>
                </div>

                <div class="col-xs-12 margin-bottom-10">
                    <div class="panel-white panel-body no-margin">
                        <button type="button" class="btn btn-o btn-default no-border" ng-disabled="test.$invalid" ng-click="saveCompanyStores()"><i class="fa fa-save"></i><span>حفظ</span></button>
                        <button type="button" class="btn btn-o btn-default no-border" ng-click="refreshData()"><i class="fa fa-refresh"></i><span>تحديث</span></button>
                        <button type="button" class="btn btn-o btn-default no-border" ng-click="clearEnity()"><i class="fa fa-paste"></i><span>جديد</span></button>
                    </div>
                </div>

                <div class="col-md-12">
                    <div class="panel ">                        
                            <ng-form id="test" name="test">
                                    <div class="panel-body panel-white">
                                        <div class="row">

                                            <div class="col-md-12">
                                                <div ng-class="{'has-error': test.$invalid}" class="form-group col-md-4">
                                                    <div class="">
                                                        <label>كود المخزن:</label>
                                                        <div class="help-block error" style="display:inline" ng-show="test.code.$error.required">*</div>
                                                        <input type="text" name="code" class="form-control" placeholder="كود المخزن" ng-model="companyStore.COM_STORE_CODE" readonly required autofocus>
                                                    </div>
                                                </div>
                                                <!--/.form-group-->

                                                <div class="form-group col-md-4">
                                                    <label>المخزن الرئيسى:</label>
                                                    <div class="help-block error" style="display:inline" ng-show="test.master.$error.required">*</div>
                                                    <select ng-model="companyStore.COM_MASTER_STORE_ID" name="master" class="js-example-basic-hide-search js-states form-control" ng-options="x.COM_STORE_ID as x.COM_STORE_AR_NAME for x in companyStoresList">
                                                        <option value="">اختر المخزن الرئيسى</option>
                                                    </select>
                                                </div>
                                                <!--/.form-group-->

                                                <div ng-class="{'has-error': test.$invalid}" class="form-group">
                                                    <div class="form-group col-md-4">
                                                        <label>اسم المخزن العربى:</label>
                                                        <div class="help-block error" style="display:inline" ng-show="test.arname.$error.required">*</div>
                                                        <input type="text" class="form-control" name="=arname" placeholder="اسم المخزن العربى" ng-model="companyStore.COM_STORE_AR_NAME" required>
                                                    </div>
                                                </div>

                                                <div ng-class="{'has-error': test.$invalid}" class="">
                                                    <div class="form-group col-md-4">
                                                        <label>اسم المخزن اللاتينى:</label>
                                                        <div class="help-block error" style="display:inline" ng-show="test.enname.$error.required">*</div>
                                                        <input type="text" class="form-control" name="enname" placeholder="اسم المخزن اللاتينى" ng-model="companyStore.COM_STORE_EN_NAME" required>
                                                    </div>
                                                </div>

                                                <div class="form-group col-md-4">
                                                    <label>اسم الإختصار العربى:</label>
                                                    <input type="text" class="form-control" placeholder="اسم الإختصار العربى" ng-model="companyStore.COM_STORE_AR_ABRV">
                                                </div>
                                                <!--/.form-group-->

                                                <div class="form-group col-md-4">
                                                    <label>اسم الإختصار اللاتينى:</label>
                                                    <input type="text" class="form-control" placeholder="اسم الإختصار اللاتينى" ng-model="companyStore.COM_STORE_EN_ABRV">
                                                </div>
                                                <!--/.form-group-->

                                                <div class="form-group col-md-4">
                                                    <label>فرع الشركة:</label>

                                                    <div class="input-group">
                                                        <select ng-model="companyStore.COM_BRN_ID" class="js-example-basic-hide-search js-states form-control" ng-options="x.COM_BRN_ID as x.COM_BRN_AR_NAME for x in CompanyBranchesList">
                                                            <option value="">اختر فرع الشركة</option>
                                                        </select>
                                                        <span class="input-group-addon"><i class="fa fa-binoculars"></i></span>
                                                    </div>
                                                </div>
                                                <!--/.form-group-->

                                                <div class="form-group col-md-4">
                                                    <label>مسئول المخزن:</label>
                                                    <div class="input-group">
                                                        <select ng-model="companyStore.EMP_ID" class="js-example-basic-hide-search js-states form-control" ng-options="x.EMP_ID as x.EMP_AR_NAME for x in EmployeesList">
                                                            <option value="">اختر مسئول المخزن</option>
                                                        </select>
                                                        <span class="input-group-addon"><i class="fa fa-binoculars"></i></span>
                                                    </div>
                                                </div>
                                                <!--/.form-group-->
                                                <div class="form-group col-md-4">
                                                    <label>الطابعه:</label>
                                                    <div class="input-group">
                                                        <input type="text" class="form-control" placeholder="الطابعه" ng-model="companyStore.COM_PRINTER_NAME">
                                                        <span class="input-group-addon"><i class="fa fa-print"></i></span>
                                                    </div>
                                                </div>
                                                <!--/.form-group-->
                                                <div class="form-group col-md-12">
                                                    <label>ملاحظات المخزن:</label>
                                                    <textarea rows="3" class="form-control" placeholder="ملاحظات" ng-model="companyStore.COM_STORE_REMARKS" style="resize:none"></textarea>
                                                </div>
                                                <!--/.form-group-->
                                                <div class="form-group col-md-12">

                                                    <div class="panel-group accordion" id="accordion">
                                                        <div class="panel panel-white">
                                                            <div class="panel-heading">
                                                                <h5 class="panel-title"><a class="accordion-toggle collapsed" data-toggle="collapse" data-parent="#accordion" data-target="#collapse2"> <i class="icon-arrow"></i> مجموعة الاصناف الخاصة بالمخزن </a></h5>
                                                            </div>
                                                            <div id="collapse2" class="panel-collapse collapse">
                                                                <div class="panel-body">
                                                                    <p>بيانات مجموعات الاصناف و اضافة مجموعات جديدة</p>
                                                                </div>
                                                                <!--/.panel-body-->
                                                            </div>
                                                            <!--/.panel-collapse-->
                                                        </div>
                                                        <!--/.panel-->
                                                    </div>
                                                    <!--/.panel-group-->
                                                    <!--/.panel /.panel-white-->
                                                </div>
                                                <!--/.col-md-12-->
                                            </div>
                                            <!--/.panel-body-->
                                        </div>
                                </div>
                                
                                <div class="row">
                                    <div class="col-sm-12 col-md-6 padding-left-5">
                                        <div class="panel panel-white">
                                            <div class="panel-heading border-bottom">
                                                <div class="panel-title text-primary">عنوان المخزن</div>
                                                <div class="panel-tools">
                                                    <a data-original-title="Collapse" data-toggle="tooltip" data-placement="top" class="btn btn-transparent btn-sm panel-collapse" href="#"><i class="ti-minus collapse-off"></i><i class="ti-plus collapse-on"></i></a>
                                                </div>
                                            </div>

                                            <div class="panel-body min-height-280">
                                                <div class="form-group col-md-6">
                                                    <label>الدولة:</label>
                                                    <select ng-model="companyStore.NATION_ID" class="js-example-basic-hide-search js-states form-control" ng-options="x.NATION_ID as x.NATION_AR_NAME for x in NationList" ng-change="getAllNastionGovernate()">
                                                        <option value="">اختر الدولة</option>
                                                    </select>
                                                </div>
                                                <!--/.form-group-->

                                                <div class="form-group col-md-6">
                                                    <label>المحافظه:</label>
                                                    <select ng-model="companyStore.GOV_ID" class="js-example-basic-hide-search js-states form-control" ng-options="x.GOV_ID as x.GOV_AR_NAME for x in GovernateListByNationID" ng-change="getAllGovernateTown()">
                                                        <option value="">اختر المحافظة</option>
                                                    </select>
                                                </div>
                                                <!--/.form-group-->

                                                <div class="form-group col-md-6">
                                                    <label>المركز:</label>
                                                    <select ng-model="companyStore.TOWN_ID" class="js-example-basic-hide-search js-states form-control" ng-options="x.TOWN_ID as x.TOWN_AR_NAME for x in TownsListByGovernateID" ng-change="getAllTownVillage()">
                                                        <option value="">اختر المركز</option>
                                                    </select>
                                                </div>
                                                <!--/.form-group-->

                                                <div class="form-group col-md-6">
                                                    <label>الحي:</label>
                                                    <select ng-model="companyStore.VILLAGE_ID" class="js-example-basic-hide-search js-states form-control" ng-options="x.VILLAGE_ID as x.VILLAGE_AR_NAME for x in VillagesListByTownID">
                                                        <option value="">اختر الحي</option>
                                                    </select>
                                                </div>
                                                <!--/.form-group-->

                                                <div class="form-group col-md-12 no-margin">
                                                    <label>ملاحظات المخزن:</label>
                                                    <textarea rows="3" class="form-control" placeholder="ملاحظات" ng-model="companyStore.COM_STORE_ADDR_REMARKS" style="resize:none"></textarea>
                                                </div>
                                                <!--/.form-group-->

                                            </div>
                                            <!--/.panel-body-->
                                        </div>
                                        <!--/.panel-white-->
                                    </div>
                                    <!--/.col-sm-6-->

                                    <div class="col-sm-12 col-md-6 padding-right-5">
                                        <div class="panel panel-white">
                                            <div class="panel-heading border-bottom">
                                                <div class="panel-title text-primary">تليفونات المخزن</div>
                                                <div class="panel-tools">
                                                    <a data-original-title="Collapse" data-toggle="tooltip" data-placement="top" class="btn btn-transparent btn-sm panel-collapse" href="#"><i class="ti-minus collapse-off"></i><i class="ti-plus collapse-on"></i></a>
                                                </div>
                                            </div>
                                            <div class="panel-body min-height-280">
                                                <div class="table-responsive no-border">
                                                    <div class="form-group col-md-4">
                                                        <label>رقم التليفون </label>
                                                        <input type="text" class="form-control" ng-model="teleNumber" placeholder="رقم التليفون">
                                                    </div>

                                                    <div class="form-group col-md-4">
                                                        <label> نوع التليفون </label>
                                                        <select ng-model="teleCatId" class="js-example-basic-hide-search js-states form-control" ng-options="x.TELE_CAT_ID as x.TELE_CAT_AR_NAME for x in catList">
                                                            <option value="">اختر نوع التليفون</option>
                                                        </select>
                                                    </div>

                                                    <div class="form-group col-md-4">
                                                        <label> &nbsp;</label>
                                                        <button type="submit" class="btn btn-block btn-info" ng-click="addTeleToList()">إضافة<i class="fa fa-plus-circle"></i></button>
                                                    </div>

                                                    <div class="form-group col-md-12 no-margin">

                                                        <table class="table table-responsive">
                                                            <tr class="success">
                                                                <th>رقم التليفون</th>
                                                                <th>نوع التليفون</th>
                                                                <th>حذف</th>
                                                            </tr>
                                                            <tr ng-repeat="tele in TelephoneList">
                                                                <td>{{tele.TELE_NUMBER}}</td>
                                                                <td>{{tele.TeleCatName}}</td>
                                                                <td><button type="button" class="btn btn-warning" ng-click="removeGridItem($index)">حذف&nbsp;&nbsp;<i class="fa fa-remove"></i></button></td>
                                                            </tr>
                                                        </table>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <!--/.panel panel-white-->
                                    </div>
                                    <!--/.col-sm-12 col-md-6-->
                                </div>
                            </ng-form>

                        
                        <div class="clearfix"></div>
                        <div class="panel-group accordion" id="accordion">
                            <div class="panel panel-white">
                                <div class="panel-heading">
                                    <h5 class="panel-title"><a class="accordion-toggle collapsed" data-toggle="collapse" data-parent="#accordion" data-target="#collapseTwo"> <i class="icon-arrow"></i> مخازن الشركة المعرفة سابقا </a></h5>
                                </div>
                                <!--/.panel-heading-->
                                <div id="collapseTwo" class="panel-collapse collapse">
                                    <div class="panel-body">
                                        <div class="col-md-3 pull-left">
                                            <table class="table table-stylish">
                                                <tbody>
                                                    <tr>
                                                        <td class="center text-extra-large"><i class="ti-save"></i></td>
                                                        <td><span class="text-dark block">إجمالي المخازن :</span></td>
                                                        <td class="center">{{companyStoresTotalCount}}</td>
                                                        <td class="center"><i class="fa fa-caret-down text-red"></i></td>
                                                    </tr>

                                                </tbody>
                                            </table>
                                        </div>
                                        <div class="col-md-12">
                                            <table class="table table-bordered table-hover center" id="sample-table-2">
                                                <thead>
                                                    <tr class="border-right  success ">
                                                        <th class="hidden-xs">#</th>
                                                        <th>كود المخزن</th>
                                                        <th>المخزن الرئيسى</th>
                                                        <th>اسم المخزن العربي</th>
                                                        <th>اسم المخزن اللاتينى</th>
                                                        <th class="hidden-xs">اسم الإختصار العربى</th>
                                                        <th class="hidden-xs">اسم الإختصار اللاتينى</th>
                                                        <th class="hidden-xs">فرع الشركة</th>
                                                        <th class="hidden-xs">مسئول المخزن</th>
                                                        <th>تعديل / حذف</th>
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    <tr ng-repeat="store in companyStoresList">
                                                        <td class="hidden-xs">{{ $index + 1 }}</td>
                                                        <td>{{ store.COM_STORE_CODE }}</td>
                                                        <td>{{ store.CompanyMainStore }}</td>
                                                        <td>{{ store.COM_STORE_AR_NAME }}</td>
                                                        <td>{{ store.COM_STORE_EN_NAME }}</td>
                                                        <td class="hidden-xs">{{ store.COM_STORE_AR_ABRV }}</td>
                                                        <td class="hidden-xs">{{ store.COM_STORE_EN_ABRV }}</td>
                                                        <td class="hidden-xs">{{store.CompanyBranchAR}}</td>
                                                        <td class="hidden-xs">{{ store.StoreManagerNameAr }}</td>
                                                        <td class="center">
                                                            <div class="visible-md visible-lg hidden-sm hidden-xs">
                                                                <a href="" class="btn btn-transparent btn-xs" ng-click="dirEnity(store)" data-toggle="tooltip" data-placement="top" title="" data-original-title="تعديل"><i class="fa fa-pencil"></i></a>
                                                                <a href="" ng-click="deleteEnity(store)" class="btn btn-transparent btn-xs tooltips" data-toggle="tooltip" data-placement="top" title="" data-original-title="حذف"><i class="fa fa-times fa fa-white"></i></a>
                                                            </div>
                                                            <div class="visible-xs visible-sm hidden-md hidden-lg">
                                                                <div class="btn-group dropdown ">
                                                                    <button type="button" class="btn btn-o btn-sm dropdown-toggle" data-toggle="dropdown"><i class="fa fa-cog"></i>&nbsp;<span class="caret"></span></button>
                                                                    <ul class="dropdown-menu pull-right dropdown-light" role="menu">
                                                                        <li><a href="" class="btn btn-transparent btn-xs" ng-click="dirEnity(store)" data-toggle="tooltip" data-placement="top" title="" data-original-title="تعديل"><i class="fa fa-pencil"></i> تعديل </a></li>
                                                                        <li><a href="" ng-click="deleteEnity(store)" class="btn btn-transparent btn-xs tooltips" data-toggle="tooltip" data-placement="top" title="" data-original-title="حذف"><i class="fa fa-times fa fa-white"></i> حذف </a></li>
                                                                    </ul>
                                                                </div>
                                                            </div>
                                                        </td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                            <ul uib-pagination total-items="companyStoresTotalCount" ng-model="pageNum" max-size="maxSize" class="pagination-sm" boundary-links="true" num-pages="numPages" ng-change="pageChanged()"></ul>
                                            <pre>صفحه: {{pageNum}} / {{numPages}}</pre>
                                        </div>
                                    </div>
                                    <!--/.panel-body-->
                                </div>
                                <!--/.panel-collapse-->
                            </div>
                            <!--/.panel-collapse-->
                        </div>
                        <!--/.panel-group-->
                    </div>
                    <!--/.panel /.panel-white-->
                </div>
                <!--/.col-md-12-->
            </div>
            <!--/.container-fluid-->
        </div>
        <!--/.wrap-content-->
    </div>
    <!--/.main-content-->
</div>
<!--/.app-content-->
