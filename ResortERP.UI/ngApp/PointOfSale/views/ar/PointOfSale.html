<div class="app-content">
    <div class="main-content">
        <div class="wrap-content container" id="container">
            <div class="container-fluid container-fullw ">
                <div class="col-xs-12 margin-bottom-5">
                    <div class="breadcrumb-wrapper no-margin">
                        <h3 class="mainTitle text-center text-bold text-primary no-margin" style="font-size: 18px"> {{BILL_SHOW_NAME}}</h3>
                        <ul class="pull-right breadcrumb">
                            <li>
                                <a href="#!"><i class="fa fa-home margin-left-5 text-large text-dark"></i>الرئيسية</a>
                            </li>
                            <li> {{BILL_SHOW_NAME}}</li>
                        </ul>
                    </div>
                </div>

                <div class="col-xs-12 actionBar">
                    <div class="panel-white panel-body no-margin overf">
                        <div class="pull-right">
                            <button type="button" ng-click="clearEnity()" class="btn btn-o btn-default no-border"><i class="glyphicon glyphicon-file"></i>جديد</button>
                            <button type="button" ng-click="savePointOfSale()" class="btn btn-o btn-default no-border">
                                <i class="glyphicon glyphicon-save"></i>حفظ
                            </button>
                            <button type="button" ng-click="deleteEnity(billMaster)" class="btn btn-o btn-default no-border">
                                <i class="glyphicon glyphicon-trash"></i>حذف
                            </button>

                            <button type="button" class="btn btn-o btn-default no-border" ng-click="openEntryPopup()">
                                <i class="glyphicon glyphicon-folder-close"></i>{{billMaster.ENTRY_ID}}سند
                            </button>
                            <button type="button" ng-disabled="autoTransfer" ng-click=saveEntry() class="btn btn-o btn-default no-border">
                                <i class="glyphicon glyphicon-refresh"></i>تحويل
                            </button>
                            <button type="button" ng-disabled="hidePrintOnNewBill()" ng-click='printDiv( "Bill")' class="btn btn-o btn-default no-border">
                                <i class="glyphicon glyphicon-print"></i>طباعة
                            </button>
                            <button type="button" ng-disabled="hidePrintOnNewBill()" ng-click='printDiv( "BillWithEntry")' class="btn btn-o btn-default no-border">
                                <i class="glyphicon glyphicon-print"></i>طباعة مع القيد
                            </button>
                            <button type="button" class="btn btn-o btn-default no-border"><i class="glyphicon glyphicon-eye-open"></i>معاينة</button>
                            <button type="button" class="btn btn-o btn-default no-border"><i class="glyphicon glyphicon-shopping-cart"></i>الكاشير</button>
                            <button type="button" class="btn btn-o btn-default no-border"><i class="glyphicon glyphicon-search"></i>بحث</button>
                        </div>
                        <div class="pull-left">
                            <button class="btn btn-o btn-sm btn-default radius-10" ng-click="goldCredit(billMaster.CUST_ACC_ID)">رصيد عميل</button>
                            <button class="btn btn-o btn-sm btn-default radius-10" ng-click="goldCredit(billMaster.PAY_ACC_ID)">
                                صندوق النقد
                            </button>
                            <button class="btn btn-o btn-sm btn-default radius-10" ng-click="goldCredit(billMaster.GOLD_ACC_ID)">
                                صندوق
                                الذهب
                            </button>
                        </div>

                    </div>
                </div>

                <div class="col-md-12 ">
                    <div class="panel panel-white main-side-border">
                        <!--<div class="panel-heading border-light">
                                <h4 class="panel-title text-primary">بيانات اساسية</h4>
                                <div class="panel-tools">
                                    <a data-original-title="Collapse" data-toggle="tooltip" data-placement="top" class="btn btn-transparent btn-sm panel-collapse" href="#"><i class="ti-minus collapse-off"></i><i class="ti-plus collapse-on"></i></a>
                                </div>
                            </div>-->
                        <div class="panel-body radius-5">


                            <div class="form-group col-lg-2 col-md-3" ng-hide="IsBillDate">
                                <label> التاريخ </label>
                                <input type="date" name="BILL_DATE" id="BILL_DATETxt" ng-model="billMaster.BILL_DATE" class="form-control input-sm">
                            </div>

                            <div class="form-group col-lg-2 col-md-3">
                                <label>حساب {{BillAccountName}}</label>
                                <div class="input-group">
                                    <ui-select style="margin-top:0" ng-model="billMaster.CUST_ACC_ID" theme="bootstrap" focus-on="UiSelectDemo1"
                                               id="custDdl" name="custDdl" on-select="select2EventEnter()">
                                        <ui-select-match allow-clear="false" placeholder="اختر حساب {{BillAccountName}}">
                                            {{$select.selected.ACC_AR_NAME}}
                                        </ui-select-match>
                                        <ui-select-choices repeat="x.ACC_ID as x in CustomersAccounts | filter: $select.search" onfocus="true"
                                                           ui-select-opened on-select="select2EventEnter()">
                                            <div ng-bind-html="x.ACC_AR_NAME | highlight: $select.search"></div>
                                        </ui-select-choices>
                                    </ui-select>

                                    <!-- <select ng-model="billMaster.CUST_ACC_ID" ng-options="x.ACC_ID as x.ACC_AR_NAME for x in CustomersAccounts" class="js-example-basic-hide-search js-states form-control input-sm"></select>-->
                                    <span style="margin-top:-1px" class="input-group-btn">
                                        <button class="btn btn-primary input-sm text-small"
                                                type="button" ng-click="addNew()">
                                            +
                                        </button>
                                    </span>
                                    <span class="input-group-btn" style="position: absolute; top: 9px">
                                        <span class="text-small" ng-click="goldCredit(billMaster.CUST_ACC_ID)"><i class="glyphicon glyphicon-info-sign"></i></span>
                                    </span>
                                </div>
                            </div>

                            <div class="form-group col-lg-2 col-md-3" ng-show="IsShowDeliveryPerson">
                                <label>مناوله</label>
                                <input type="text" ng-model="billMaster.DeliveryPersonName" id="deliveryTxt" class="form-control input-sm text-extra-small input-mask-date"
                                       press-enter="deliveryEnterEvent()">
                            </div>

                            <div class="form-group col-lg-2 col-md-3">
                                <label> رقم السند </label>
                                <input type="number" name="BILL_NUMBER" ng-model="billMaster.BILL_NUMBER" class="form-control input-sm"
                                       placeholder="رقم السند" press-enter="searchBill()">
                            </div>



                            <div class="form-group col-lg-2 col-md-3" ng-hide="IsCurrency">
                                <label> سعر الصرف </label>
                                <input type="text" ng-model="billMaster.CURRENCY_RATE" id="form-field-mask-1" class="form-control input-sm text-extra-small input-mask-date">
                            </div>

                            <div class="form-group col-lg-2 col-md-3" ng-hide="IsCurrency">
                                <label> العملة </label>
                                <select ng-model="billMaster.CURRENCY_ID" ng-options="x.CURRENCY_ID as x.CURRENCY_AR_NAME for x in currenciesList"
                                        ng-change="changeCurrencyRate()" class="js-example-basic-hide-search js-states form-control input-sm">
                                    <optgroup label="العملة"></optgroup>
                                </select>
                            </div>

                            <div class="form-group col-lg-2 col-md-3" ng-hide="IsCustAccID">
                                <label>صندوق النقد</label>
                                <div class="data-info">
                                    <select ng-model="billMaster.PAY_ACC_ID" ng-options="x.ACC_ID as x.ACC_AR_NAME for x in BoxAccounts" class="js-example-basic-hide-search js-states form-control input-sm"
                                            ng-change="changePayBalance(billMaster.PAY_ACC_ID)"></select>
                                    <span class="input-group-btn">
                                        <span class="text-small" ng-click="goldCredit(billMaster.PAY_ACC_ID)">
                                            <i class="glyphicon glyphicon-info-sign"></i>
                                        </span>
                                    </span>
                                </div>
                            </div>

                            <div class="form-group col-lg-2 col-md-3" ng-hide="IsItemAccID || !HasGoldModule">
                                <label>صندوق الذهب</label>
                                <div class="data-info">
                                    <select ng-model="billMaster.GOLD_ACC_ID" ng-options="x.ACC_ID as x.ACC_AR_NAME for x in GoldBoxAccounts"
                                            class="js-example-basic-hide-search js-states form-control input-sm" ng-change="changeGoldBalance(billMaster.GOLD_ACC_ID)"
                                            ng-focus="IsDateFocus"></select>
                                    <span class="input-group-btn">
                                        <span class="text-small" ng-click="goldCredit(billMaster.GOLD_ACC_ID)">
                                            <i class="glyphicon glyphicon-info-sign"></i>
                                        </span>
                                    </span>
                                </div>
                            </div>

                            <div class="form-group col-lg-2 col-md-3" ng-hide="IsEmpID">
                                <label>اسم الحساب {{BillEmpName}}</label>
                                <input type="text" ng-model="billMaster.EMP_ID" id="empId" class="form-control input-sm text-extra-small input-mask-date"
                                       readonly />
                            </div>

                            <div class="form-group col-lg-2 col-md-3" ng-hide="ShowWagesDiscount || !HasGoldModule">
                                <label>قيمة خصم اجور التصنيع</label>
                                <input type="number" name="BILL_Wages_Discount" ng-model="wagesDiscountVal" class="form-control input-sm">
                            </div>

                            <div class="form-group col-lg-2 col-md-3" ng-hide="IsShiftNumber">
                                <label> الوقت </label>
                                <input type="time" name="BILL_DATE" ng-model="billMaster.BILL_DATE" class="form-control input-sm">
                            </div>

                            <div class="form-group col-lg-2 col-md-3" ng-hide="IsCompStoreID">
                                <label> المخزن </label>
                                <select ng-model="billMaster.COM_STORE_ID" ng-options="x.COM_STORE_ID as x.COM_STORE_AR_NAME for x in CompanyStores"
                                        class="js-example-basic-hide-search js-states form-control input-sm">
                                    <optgroup label="المخزن"></optgroup>
                                </select>
                            </div>

                            <div class="form-group col-lg-2 col-md-3" ng-hide="IsToCompStore">
                                <label> الي المخزن </label>
                                <select ng-model="billMaster.TO_COM_STORE_ID" ng-options="x.COM_STORE_ID as x.COM_STORE_AR_NAME for x in CompanyStores"
                                        class="js-example-basic-hide-search js-states form-control input-sm">
                                    <optgroup label="المخزن"></optgroup>
                                </select>
                            </div>

                            <div class="form-group col-lg-2 col-md-3" ng-hide="IsShiftNumber">
                                <label> الدرج </label>
                                <input type="number" ng-model="billMaster.SHIFT_NUMBER" name="SHIFT_NUMBER" class="form-control input-sm"
                                       placeholder="الدرج">
                            </div>

                            <div class="form-group col-lg-2 col-md-3" ng-hide="IsSellType">
                                <label> نوع السعر </label>
                                <select ng-model="billMaster.SELL_TYPE_ID" ng-options="x.SELL_TYPE_ID as x.SELL_TYPE_AR_NAME for x in SellsTypes"
                                        class="js-example-basic-single js-states form-control">
                                    <optgroup label="نوع السعر"></optgroup>
                                </select>
                            </div>

                            <div class="form-group col-lg-2 col-md-3" ng-hide="IsSellType">
                                <label> الدفع </label>
                                <select ng-model="billMaster.BILL_PAY_WAY" ng-options="x.PAY_TYPE_ID as x.PAY_TYPE_AR_NAME for x in tpayTypes"
                                        class="js-example-basic-hide-search js-states form-control input-sm" ng-change="changePayTypeID()">
                                    <optgroup label="طريقة الدفع"></optgroup>
                                </select>
                            </div>

                            <div class="form-group col-lg-2 col-md-3" ng-hide="IsCostCenter">
                                <label> مركز التكلفة </label>
                                <select ng-model="billMaster.CostCenterID" ng-options="x.COST_CENTER_ID as x.COST_CENTER_AR_NAME for x in mainCostCenterList"
                                        class="form-control">
                                    <option value="">اختر مركز التكلفة</option>
                                </select>
                            </div>
                            <div class="form-group col-lg-2 col-md-3" ng-hide="IsCostCenter" ng-show="IsShowExternalNumber">
                                <label> رقم الافاده </label>
                                <input type="text" ng-model="billMaster.ExternalNumber" id="form-field-mask-1" class="form-control input-sm text-extra-small input-mask-date">
                            </div>

                            <div class="form-group col-lg-2 col-md-3 hide" ng-show="IsShowTaxesBox">
                                <label> نسبه ضريبه المعفي </label>
                                <input type="number" name="ExemptOfTaxRate" ng-model="billMaster.ExemptOfTaxRate" class="form-control input-sm"
                                       readonly>
                            </div>
                            <div class="form-group col-lg-2 col-md-3 hide" ng-show="IsShowTaxesBox">
                                <label> نسبه ضريبه الاساسيه </label>
                                <input type="number" name="MainVatRate" ng-model="billMaster.MainVatRate" class="form-control input-sm"
                                       readonly>
                            </div>
                            <div class="form-group col-lg-2 col-md-3" ng-show="disabledDiscount()">
                                <label> قيمة الخصم </label>
                                <input type="text" ng-model="billMaster.DiscountAmount"  id="form-field-mask-1" ng-change="updateDiscount(billMaster.DiscountAmount)" class="form-control input-sm text-extra-small input-mask-date">

                            </div>
                            <div class="form-group col-xs-12 margin-top-15" ng-hide="IsBillRemarks">
                                <label class="col-md-1">البـــيان </label>
                                <textarea style="resize: vertical ; height: 35px" name="Text1" placeholder="البـــيان" cols="40"
                                          id="remarksTxt" rows="1" ng-model="billMaster.BILL_REMARKS" class="form-control col-md-11 input-sm text-extra-small input-mask-date"
                                          press-enter="RemarksEnterEvent()"></textarea>
                            </div>
                           
                            <div class="form-group col-md-12 margin-top-15" ng-show="isEditReason">
                                <textarea style="resize: vertical" name="Text1" cols="40" rows="3" ng-model="billMaster.EditReason" placeholder="سبب التعديل"
                                          class="form-control input-sm text-extra-small input-mask-date"></textarea>
                            </div>
                          
                        </div>
                    </div>
                </div>

                <div class="col-md-12" ng-hide="BILL_SHORTCUT">
                    <div class="panel panel-white lightBlue-side-border margin-bottom-10" ng-hide="BILL_SHORTCUT">
                        <!--<div class="panel-heading border-light">
                                <h4 class="panel-title ">الفاتورة</h4>
                                <div class="panel-tools">
                                    <a data-original-title="Collapse" data-toggle="tooltip" data-placement="top" class="btn btn-transparent btn-sm panel-collapse" href="#"><i class="ti-minus collapse-off"></i><i class="ti-plus collapse-on"></i></a>
                                </div>
                            </div>-->
                        <div class="panel-body row">
                            <div class="col-md-12">
                                <div class="my-Table-responsive fatoora no-margin">
                                    <table class="table table-bordered" id="sample-table-1">
                                        <tr class="success" style="font-weight: bold">
                                            <td>#</td>
                                            <td>{{gridData.ARCode}}</td>
                                            <td style="width:100px !important" ng-hide="isItem">{{gridData.ARItem}}</td>
                                            <td ng-hide="isQty">{{gridData.ARQuantity}}</td>
                                            <td ng-hide="isActualWeight || !HasGoldModule">{{gridData.ARActualWeight}}</td>

                                            <td ng-hide="isItemGmWages || !HasGoldModule">{{gridData.ARItemGmWages}}</td>
                                            <td ng-hide="isTotalItemGmWages || !HasGoldModule">{{gridData.ARTotalItemGmWages}}</td>
                                            <td ng-hide="isManufactWages || !HasGoldModule">{{gridData.ARManufacturingWages}}</td>
                                            <td ng-hide="isWagesDiscValue || !HasGoldModule">{{gridData.ARWagesDiscValue}}</td>
                                            <td ng-hide="isWagesDiscRate || !HasGoldModule">{{gridData.ARWagesDiscRate}}</td>
                                            <td ng-hide="isUnit">{{gridData.ARUnit}}</td>
                                            <td ng-hide="isARName || !HasGoldModule">{{gridData.ARCaliberName}}</td>
                                            <td ng-hide="isUnitCost">{{gridData.ARPrice}}</td>
                                            <td ng-hide="isLockPrice">{{gridData.ARLockPrice}}</td>
                                            <td ng-hide="isItemPrice">{{gridData.ARItemPrice}}</td>
                                            <td ng-hide="isDiscValue">{{gridData.ARDiscount}}</td>
                                            <td ng-hide="isDiscRate">{{gridData.ARDiscRate}}</td>

                                            <td ng-hide="isAfterDiscount">{{gridData.ARAfterDiscount}}</td>

                                            <td ng-hide="isTotal">{{gridData.ARTotal}}</td>
                                            <td ng-hide="isTotalGoldManfact || !HasGoldModule">{{gridData.ARTotalGoldManufact}}</td>

                                            <td ng-hide="isClearnessRate || !HasGoldModule">{{gridData.ARClearnessRate}}</td>
                                            <td ng-hide="isItemWeight || !HasGoldModule">{{gridData.ARItemWeight}}</td>
                                            <td ng-hide="isCostCenter">{{gridData.ARCostCenter}}</td>

                                            <td ng-hide="isExemptOfTax">{{gridData.ARExemptOfTax}}</td>

                                            <td ng-hide="isSubjectToVAT">{{gridData.ARSubjectToVat}}</td>
                                            <td ng-hide="isVATRate"> {{gridData.ARVatRate}}</td>
                                            <td ng-hide="isVatValue"> {{gridData.ARVatValue}}</td>
                                            <td ng-hide="isTaxTotal"> {{gridData.ARTaxTotal}}</td>
                                            <td>حذف</td>
                                        </tr>
                                        <tr ng-repeat="item in selectedItems track by $index " id="tablebody">
                                            <td>{{ $index+1 }}</td>
                                            <td>
                                                <span e-name="ITEM_CODE" ng-show="rowform.$show()" editable-text="item.ITEM_CODE" e-form="rowform"
                                                      e-press-enter="searchCodeName($data)">{{item.ITEM_CODE || 'empty'}}</span>
                                            </td>
                                            <td ng-hide="isItem">
                                                <span editable-text="item.ITEM_AR_NAME" e-name="ITEM_AR_NAME" ng-show="rowform.$show()" e-form="rowform"
                                                      e-press-enter="searchCodeName($data)">
                                                    {{item.ITEM_AR_NAME || 'empty'}}
                                                </span>
                                            </td>
                                            <td ng-hide="isQty">
                                                <span e-name="Quantity" e-ng-model-options='{ debounce: 750 }' e-ng-change="updateItemListOnChange('Quantity',$data,$index)"
                                                      ng-show="rowform.$show()" editable-text="item.Quantity" e-form="rowform">{{ item.Quantity || 1 }}</span>
                                            </td>
                                            <td ng-hide="isActualWeigh || !HasGoldModule">
                                                <span e-name="ActualItemWeight" ng-show="rowform.$show()" editable-text="item.ActualItemWeight"
                                                      e-form="rowform" e-ng-model-options='{ debounce: 750 }' e-ng-readonly="!IsEnableWeight" e-ng-change="updateItemListOnChange('ActualItemWeight',$data,$index)">
                                                    {{item.ActualItemWeight || 1}}
                                                </span>
                                            </td>

                                            <td ng-hide="isItemGmWages || !HasGoldModule">
                                                <span e-name="itemGmWages" ng-show="rowform.$show()" editable-text="item.itemGmWages"
                                                      e-form="rowform" e-ng-model-options='{ debounce: 750 }' e-ng-change="updateItemListOnChange('gm',$data,$index)"
                                                      e-ng-readonly="!IsEnableGmWages">{{item.itemGmWages || 1}}</span>
                                            </td>
                                            <td ng-hide="isTotalItemGmWages || !HasGoldModule">
                                                <span e-name="TotalItemGmWages" ng-show="rowform.$show()" editable-text="item.TotalItemGmWages"
                                                      e-form="rowform" e-ng-model-options='{ debounce: 750 }' e-ng-change="updateItemListOnChange('gm',$data,$index)"
                                                      e-readonly="readonly">{{item.TotalItemGmWages || 1}}</span>
                                            </td>
                                            <td ng-hide="isManufactWages || !HasGoldModule">
                                                <span e-name="ManufacturingWages" ng-show="rowform.$show()" editable-text="item.ManufacturingWages"
                                                      e-form="rowform" e-ng-model-options='{ debounce: 750 }' e-ng-change="updateItemListOnChange('man',$data,$index)"
                                                      e-readonly="readonly">{{item.ManufacturingWages || 1}}</span>
                                            </td>
                                            <td ng-hide="isWagesDiscValue || !HasGoldModule">
                                                <span e-name="WagesDiscValue" ng-show="rowform.$show()" editable-text="item.WagesDiscValue"
                                                      e-form="rowform" e-ng-model-options='{ debounce: 750 }' e-ng-change="updateItemListOnChange('WagesDiscVal',$data,$index)">
                                                    {{item.WagesDiscValue|| 1}}
                                                </span>
                                            </td>
                                            <td ng-hide="isWagesDiscRate || !HasGoldModule">
                                                <span e-name="WagesDiscRate" ng-show="rowform.$show()" editable-text="item.WagesDiscRate"
                                                      e-form="rowform" e-ng-model-options='{ debounce: 750 }' e-ng-change="updateItemListOnChange('WagesDiscRate',$data,$index)">
                                                    {{item.WagesDiscRate|| 1}}
                                                </span>
                                            </td>
                                            <td ng-hide="isUnit">
                                                <span editable-text="item.Unit" e-readonly="readonly" e-name="Unit" ng-show="rowform.$show()"
                                                      e-form="rowform">{{ item.Unit || 'empty' }}</span>
                                            </td>
                                            <td ng-hide="isARName || !HasGoldModule">
                                                <span editable-text="item.ARName" e-readonly="readonly" e-name="ARName" ng-show="rowform.$show()"
                                                      e-form="rowform">{{ item.ARName || 'empty' }}</span>
                                            </td>
                                            <td ng-hide="isUnitCost">
                                                <span editable-text="item.GmPrice" e-name="GmPrice" e-ng-model-options='{ debounce: 750 }'
                                                      e-ng-change="updateItemListOnChange('GmPrice',$data,$index)" ng-show="rowform.$show()" e-form="rowform">
                                                    {{item.Price|| 0}}
                                                </span>
                                            </td>
                                            <td ng-hide="isLockPrice">
                                                <span editable-text="item.LockPrice" e-name="LockPrice" e-ng-model-options='{ debounce: 750 }'
                                                      e-ng-change="updateItemListOnChange('LockPrice',$data,$index)" ng-show="rowform.$show()" e-form="rowform">
                                                    {{item.Price|| 0}}
                                                </span>
                                            </td>
                                            <td ng-hide="isItemPrice">
                                                <span editable-text="item.Price" e-name="Price" e-readonly="readonly"
                                                      e-ng-model-options='{ debounce: 750 }' e-ng-change="updateItemListOnChange('Price',$data,$index)" ng-show="rowform.$show()"
                                                      e-form="rowform">{{item.Price || 0}}</span>
                                            </td>
                                            <td ng-hide="isDiscValue">
                                                <span editable-text="item.DISC_VALUE" e-name="Discount" e-ng-model-options='{ debounce: 750 }'
                                                      e-ng-change="updateItemListOnChange('Discount',$data,$index)" ng-show="rowform.$show()" e-form="rowform">
                                                    {{item.Discount|| 0}}
                                                </span>
                                            </td>
                                            <td ng-hide="isDiscRate">
                                                <span editable-text="item.DISC_RATE" e-max-Num="100" e-name="DISC_RATE"
                                                      e-ng-model-options='{ debounce: 750 }' e-ng-change="updateItemListOnChange('DISC_RATE',$data,$index)"
                                                      ng-show="rowform.$show()" e-form="rowform">{{item.DISC_RATE || 0}}</span>
                                            </td>

                                            <td ng-hide="isAfterDiscount">
                                                <span editable-text="item.AfterDiscount" e-name="AfterDiscount"
                                                      e-ng-model-options='{ debounce: 750 }' e-ng-change="updateItemListOnChange('AfterDiscount',$data,$index)"
                                                      ng-show="rowform.$show()" e-form="rowform" e-readonly="readonly">{{item.AfterDiscount || 0}}</span>
                                            </td>


                                            <td ng-hide="isTotal">
                                                <span e-name="Total" editable-text="item.NetTotal" e-readonly="readonly" ng-show="rowform.$show()"
                                                      e-form="rowform">{{ item.NetTotal || 0 }}</span>
                                            </td>

                                            <td ng-hide="isTotalGoldManfact || !HasGoldModule">
                                                <span e-name="TotalGoldManfact" editable-text="item.TotalGoldManfact"
                                                      e-readonly="readonly" ng-show="rowform.$show()" e-form="rowform">{{ item.TotalGoldManfact || 0 }}</span>
                                            </td>

                                            <td ng-hide="isClearnessRate || !HasGoldModule">
                                                <span editable-text="item.ClearnessRate" e-name="ClearnessRate" ng-show="rowform.$show()"
                                                      e-ng-change="updateItemListOnChange('ClearnessRate',$data,$index)" e-ng-model-options='{ debounce: 750 }'
                                                      e-form="rowform">{{item.ClearnessRate || 'empty'}}</span>
                                            </td>
                                            <td ng-hide="isItemWeight || !HasGoldModule">
                                                <span e-name="ItemWeight" ng-show="rowform.$show()" editable-text="item.ItemWeight"
                                                      e-form="rowform" e-ng-model-options='{ debounce: 750 }' e-ng-change="updateItemListOnChange('ItemWeight',$data,$index)"
                                                      e-readonly="readonly">{{item.ItemWeight || 1}}</span>
                                            </td>
                                            <td ng-hide="isCostCenter">
                                                <span editable-select="item.CostCenterID" e-placeholder="اختر مركز التكلفة"
                                                      e-name="costCenter" ng-show="rowform.$show()" e-form="rowform" e-ng-options="x.COST_CENTER_ID as x.COST_CENTER_AR_NAME for x in costCentersList"
                                                      e-ng-change="updateItemListOnChange('CostCenter',$data,$index)">{{item.COST_CENTER_ID || 0}}</span>
                                            </td>


                                            <td ng-hide="isExemptOfTax">
                                                <div class="checkbox clip-check check-primary" style="margin: 0 !important">
                                                    <input id="my{{$index}}" type="checkbox"
                                                           name="" ng-model="item.IsExemptOfTax" ng-change="updateItemListOnChange('ExemptOfTax',$data,$index)"><label for="my{{$index}}"></label>
                                                </div>
                                            </td>

                                            <td ng-hide="isSubjectToVAT">
                                                <div class="checkbox clip-check check-primary" style="margin: 0 !important">
                                                    <input id="my1{{$index}}" type="checkbox" name="" ng-model="item.SubjectToVAT" ng-disabled="IsEnableTaxEdit"
                                                           ng-change="updateItemListOnChange('SubjectToVAT',$data,$index)">
                                                    <label for="my1{{$index}}"></label>
                                                </div>
                                            </td>
                                            <td ng-hide="isVATRate">
                                                <span editable-text="item.VATRate" ng-show="rowform.$show()" e-form="rowform"
                                                      e-ng-model-options='{ debounce: 750 }' e-ng-change="updateItemListOnChange('VatRate',$data,$index)">
                                                    {{item.VATRate|| 0}}
                                                </span>
                                            </td>
                                            <td ng-hide="isVatValue">
                                                <span editable-text="item.VatValue" ng-show="rowform.$show()" e-form="rowform"
                                                      e-ng-model-options='{ debounce: 750 }' e-ng-change="updateItemListOnChange('VatValue',$data,$index)">
                                                    {{item.VatValue|| 0}}
                                                </span>
                                            </td>
                                            <td ng-hide="isTaxTotal">
                                                <span editable-text="item.TaxTotal" ng-show="rowform.$show()" e-form="rowform"
                                                      e-ng-model-options='{ debounce: 750 }' e-ng-change="updateItemListOnChange('TaxTotal',$data,$index)">
                                                    {{item.TaxTotal|| 0}}
                                                </span>
                                            </td>

                                            <td class="center">
                                                <form editable-form name="rowform" onbeforesave="calculateTotals()" ng-show="rowform.$show()" class="form-buttons form-inline"
                                                      shown="inserted == item"></form>
                                                <div class="visible-md visible-lg hidden-sm hidden-xs  buttons" ng-show="!rowform.$show()">
                                                    <a href=""
                                                       ng-click="removeGridBillDetailsItem($index)" class="btn btn-transparent btn-xs tooltips" data-toggle="tooltip"
                                                       data-placement="top" title="Remove"><i class="fa fa-times fa fa-white"></i></a>
                                                </div>
                                                <div class="visible-xs visible-sm hidden-md hidden-lg">
                                                    <div class="btn-group dropdown buttons" ng-show="!rowform.$show()">
                                                        <button type="button" class="btn btn-primary btn-o btn-sm dropdown-toggle" data-toggle="dropdown">
                                                            <i class="fa fa-cog"></i>&nbsp;<span class="caret"></span>
                                                        </button>
                                                        <ul class="dropdown-menu pull-right dropdown-light" role="menu">
                                                            <li><a href="" ng-click="removeGridBillDetailsItem($index)">حذف</a></li>
                                                        </ul>
                                                    </div>
                                                </div>
                                            </td>
                                        </tr>
                                        <tfoot>
                                            <tr style="font-weight: bold; background: #ccffff">
                                                <td></td>
                                                <td></td>
                                                <td ng-hide="isItem">&nbsp;</td>
                                                <td ng-hide="isQty">{{billMaster.totalQuantity}}</td>
                                                <td ng-hide="isActualWeight || !HasGoldModule"></td>

                                                <td ng-hide="isItemGmWages || !HasGoldModule">{{billMaster.totalItemWages}}</td>
                                                <td ng-hide="isTotalItemGmWages || !HasGoldModule">{{footerTotalItemGmWages}}</td>
                                                <td ng-hide="isManufactWages || !HasGoldModule">{{billMaster.totalManufactWages}}</td>
                                                <td ng-hide="isWagesDiscValue || !HasGoldModule">{{billMaster.TotalWagesDiscValue}}</td>
                                                <td ng-hide="isWagesDiscRate || !HasGoldModule"></td>
                                                <td ng-hide="isUnit"></td>
                                                <td ng-hide="isARName || !HasGoldModule"></td>
                                                <td ng-hide="isUnitCost">{{footerTotalGmPrice}}</td>
                                                <td ng-hide="isItemPrice">{{footerTotalPrice}}</td>
                                                <td ng-hide="isDiscValue">{{billMaster.TotalDisc}}</td>
                                                <td ng-hide="isDiscRate"></td>
                                                <td ng-hide="isAfterDiscount">{{footerAfterDiscount}}</td>
                                                <td ng-hide="isTotal">{{billMaster.totalPrice}}</td>


                                                <td ng-hide="isTotalGoldManfact || !HasGoldModule">{{footerTotalGoldMan}}</td>

                                                <td ng-hide="isClearnessRate || !HasGoldModule">{{footerTotalClearness}} </td>
                                                <td ng-hide="isItemWeight || !HasGoldModule"></td>
                                                <td ng-hide="isCostCenter"></td>

                                                <td ng-hide="isExemptOfTax"></td>

                                                <td ng-hide="isSubjectToVAT"></td>
                                                <td ng-hide="isVATRate"></td>
                                                <td ng-hide="isVatValue"> {{footerTotalVatValue}} </td>
                                                <td ng-hide="isTaxTotal"> {{footerTaxTotal}} </td>
                                                <td></td>
                                            </tr>
                                        </tfoot>
                                    </table>
                                </div>
                            </div>


                        </div>
                    </div>
                </div>

                <!--<div class="col-md-12 " ng-show="IsTotalsSummary">
                        <div class="panel lightBlue-side-border panel-white"  style="margin-bottom: 10px !important">
                            <div class="panel-heading border-light">
                                <h4 class="panel-title">اجماليات</h4>
                                <div class="panel-tools">
                                    <a data-original-title="Collapse" data-toggle="tooltip" data-placement="top" class="btn btn-transparent btn-sm panel-collapse" href="#"><i class="ti-minus collapse-off"></i><i class="ti-plus collapse-on"></i></a>
                                </div>
                            </div>
                            <div class="panel-body">
                                <div class="col-xs-12">
                                    <table class="table table-bordered">
                                        <thead class="success">
                                            <tr>
                                                <th>عيار 24</th>
                                                <th>عيار 22</th>
                                                <th>عيار 21</th>
                                                <th>عيار 18</th>
                                                <th ng-hide="bill_type_Id ==13 || bill_type_Id ==14">الغير خاضع للضريبه</th>
                                                <th ng-hide="bill_type_Id ==13 || bill_type_Id ==14">الخاضع للضريبه</th>
                                                <th ng-hide="isDiscValue">الخصم</th>
                                                <th ng-hide="bill_type_Id ==13 || bill_type_Id ==14">الضريبه</th>
                                                <th ng-hide="bill_type_Id ==13 || bill_type_Id ==14">{{totalName}}</th>
                                            </tr>
                                        </thead>

                                        <tbody>
                                            <tr>
                                                <th>{{billMaster.total24Quantity}} &nbsp;</th>
                                                <th>{{billMaster.total22Quantity}} &nbsp;</th>
                                                <th>{{billMaster.total21Quantity}} &nbsp;</th>
                                                <th>{{billMaster.total18Quantity}} &nbsp;</th>
                                                <th ng-hide="bill_type_Id ==13 || bill_type_Id ==14">{{billMaster.TotalNotTaxableAmount}}&nbsp;</th>
                                                <th ng-hide="bill_type_Id ==13 || bill_type_Id ==14">{{billMaster.TotalTaxableAmount}}&nbsp;</th>
                                                <th ng-hide="isDiscValue">{{billMaster.TotalDisc}}&nbsp;</th>
                                                <th ng-hide="bill_type_Id ==13 || bill_type_Id ==14">{{billMaster.MainVatValue}}&nbsp;</th>
                                                <th ng-hide="bill_type_Id ==13 || bill_type_Id ==14">{{billMaster.totalMustPaid}}&nbsp;</th>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>-->
                <!--اجماليات-->
                <div class="col-md-12" ng-hide="IsTotalsSummary">
                    <div class="panel panel-white red-side-border">
                        <div class="panel-heading border-light">
                            <h4 class="panel-title">اجماليات</h4>
                            <div class="panel-tools">
                                <a data-original-title="Collapse" data-toggle="tooltip" data-placement="top" class="btn btn-transparent btn-sm panel-collapse"
                                   href="#"><i class="ti-minus collapse-off"></i><i class="ti-plus collapse-on"></i></a>
                            </div>
                        </div>
                        <div class="panel-body overflow-hidden height-350">
                            <div class="row">
                                <div class="col-md-12">
                                    <div class="my-box col-xs-12">
                                        <div class="col-md-3" ng-hide="isItemGmWages || bill_type_Id == 23 || !HasGoldModule">
                                            <div class="form-group">
                                                <label class=" "> اجمالي اجرة الجرام </label>
                                                <input type="text" name="totalItemWages" ng-model="billMaster.totalItemWages" class="form-control"
                                                       placeholder=" اجمالي اجرة الجرام " readonly>
                                            </div>
                                        </div>

                                        <div class="col-md-3" ng-hide="isManufactWages || bill_type_Id == 23">
                                            <div class="form-group">
                                                <label class=" "> اجمالي اجرة الفاتوره </label>
                                                <input type="text" name="totalManufactWages" ng-model="billMaster.totalManufactWages" class="form-control"
                                                       placeholder=" اجمالي اجرة الفاتوره" readonly>
                                            </div>
                                        </div>
                                        <!--مرجع ذهب مشغول فقط 23-->
                                        <div class="col-md-3" ng-hide="bill_type_Id != 23">
                                            <div class="form-group">
                                                <label class=" ">الاجمالي قبل الضريبة :</label>
                                                <label>{{billMaster.totalManufactWages}}</label>
                                            </div>
                                        </div>
                                        <div class="col-md-3" ng-hide="bill_type_Id != 23">
                                            <div class="form-group">
                                                <label class=" "> قيمة الضريبة : </label>
                                                <label>{{TotalWagesTaxValue = billMaster.totalManufactWages * wages_taxValue / 100 }}</label>
                                            </div>
                                        </div>
                                        <div class="col-md-3" ng-hide="bill_type_Id != 23">
                                            <div class="form-group">
                                                <label class=" ">الاجمالي بعد الضريبة :</label>
                                                <label>{{billMaster.totalManufactWages -- TotalWagesTaxValue }}</label>
                                            </div>
                                        </div>
                                        <div class="col-md-3" ng-hide="IsTotalExtra">
                                            <div class="form-group">
                                                <label class=" "> القيمة المضافة </label>
                                                <input type="text" name="BILL_TOTAL_EXTRA" ng-change="calculateTotalMustPaid()" ng-model="billMaster.BILL_TOTAL_EXTRA"
                                                       class="form-control" placeholder="القيمة المضافة ">
                                            </div>
                                        </div>
                                        <!--/.col-md-12-->
                                        <div class="col-md-3" ng-hide="IsTotalPaid">
                                            <div class="form-group">
                                                <label class=" "> إجمالي المدفوع </label>
                                                <input name="totalPaid" ng-change="calculateRemaining()" ng-model="billMaster.TotalPaid" class="form-control"
                                                       placeholder="إجمالي المدفوع">
                                            </div>
                                        </div>
                                        <!--/.col-md-12-->
                                        <div class="col-md-3" ng-hide="isQty">
                                            <div class="form-group">
                                                <label class=" "> عدد القطع </label>
                                                <input type="number" name="totalQuantity" ng-model="billMaster.totalQuantity" class="form-control"
                                                       placeholder="عدد القطع" disabled="disabled">
                                            </div>
                                        </div>
                                        <!--/.col-md-12-->
                                    </div>
                                    <!--/.my-box   -->
                                </div>
                                <div class="col-md-12">
                                    <div class="my-box col-xs-12 " ng-hide="isDiscRate && isDiscValue && isDiscRate && isDiscValue && isDiscRate && isDiscValue && isDiscRate && isDiscValue">
                                        <div class=" col-lg-3 col-md-4 " ng-hide="isDiscRate ">
                                            <div class="form-group">
                                                <label class=" "> نسبة الخصم للفاتورة </label>
                                                <input type="number" max-Num="100 " name="BILL_PERCENTAGE_DISC " ng-change="calculateTotalMustPaidBasedOnDiscountPercentage() "
                                                       ng-model="billMaster.BILL_PERCENTAGE_DISC " class="form-control " placeholder="نسبة الخصم للفاتورة ">
                                            </div>
                                        </div>
                                        <div class=" col-lg-3 col-md-4 " ng-hide="isDiscValue ">
                                            <div class="form-group">
                                                <label class=" "> الخصم للفاتورة </label>
                                                <input type="number" name="BILL_TOTAL_DISC " ng-change="calculateTotalMustPaidBasedOnDiscount() " ng-model="billMaster.BILL_TOTAL_DISC "
                                                       class="form-control " placeholder="الخصم للفاتورة ">
                                            </div>
                                        </div>
                                        <div class=" col-lg-3 col-md-4 " ng-hide="isDiscRate ">
                                            <div class="form-group">
                                                <label class=" ">اجمالى نسبة الخصم </label>
                                                <input type="text" max-Num="100 " name="totalDiscPercentage " ng-model="billMaster.TotalDiscPercentage "
                                                       class="form-control " placeholder="اجمالى نسبة الخصم " readonly>
                                            </div>
                                        </div>
                                        <div class=" col-lg-3 col-md-4 " ng-hide="isDiscValue ">
                                            <div class="form-group">
                                                <label class=" "> اجمالي الخصم </label>
                                                <input type="text" name="totalDisc " ng-model="billMaster.TotalDisc " class="form-control " placeholder="اجمالى الخصم "
                                                       readonly>
                                            </div>
                                        </div>
                                        <div class=" col-lg-3 col-md-4 " ng-hide="isDiscRate ">
                                            <div class="form-group has-success ">
                                                <label class=" ">اجمالى نسبة الخصومات </label>
                                                <input type="text" max-Num="100 " name="totalAllDiscPercentage " ng-model="billMaster.TotalAllDiscPercentage "
                                                       class="form-control " placeholder="اجمالى نسبة الخصومات " readonly>
                                            </div>
                                        </div>
                                        <div class=" col-lg-3 col-md-4 " ng-hide="isDiscValue ">
                                            <div class="form-group">
                                                <label class=" "> اجمالي الخصومات </label>
                                                <input type="text" name="totalAllDisc " ng-model="billMaster.TotalAllDisc " class="form-control "
                                                       placeholder="اجمالى الخصومات " readonly>
                                            </div>
                                        </div>
                                        <div class=" col-lg-3 col-md-4 " ng-hide="isDiscRate ">
                                            <div class="form-group">
                                                <label class=" ">اجمالى قبل الخصومات </label>
                                                <input type="text" max-Num="100 " name="TotalBeforeDiscount " ng-model="billMaster.TotalBeforeDiscount "
                                                       class="form-control " placeholder="اجمالى قبل الخصومات " readonly>
                                            </div>
                                        </div>
                                        <div class=" col-lg-3 col-md-4 " ng-hide="isDiscValue ">
                                            <div class="form-group">
                                                <label class=" "> اجمالي بعد الخصومات </label>
                                                <input type="text" name="TotalAfterDiscount " ng-model="billMaster.TotalAfterDiscount " class="form-control "
                                                       placeholder="اجمالى بعد الخصومات " readonly>
                                            </div>
                                        </div>
                                    </div>
                                    <!--/.my-box   -->
                                </div>
                                <div class="col-md-12">
                                    <div class="my-box    col-xs-12">
                                        <div class="col-md-4" ng-hide="IsTotalMustPaid">
                                            <div class="form-group">
                                                <label class=" "> المبلغ المستحق دفعة </label>
                                                <input type="text" name="totalMustPaid " ng-model="billMaster.totalMustPaid " class="form-control "
                                                       placeholder="المبلغ المستحق دفعة " disabled="disabled">
                                            </div>
                                        </div>
                                        <div class="col-md-4" ng-hide="IsTotalRemaining">
                                            <div class="form-group">
                                                <label class=" "> الباقى</label>
                                                <input type="text" name="totalRemaining " ng-model="billMaster.totalRemaining " class="form-control input-sm "
                                                       placeholder="الباقى " disabled="disabled">
                                            </div>
                                        </div>
                                        <div class="col-md-4" ng-hide="isUnitCost ">
                                            <div class="form-group">
                                                <label class=" "> إجمالي النقديه </label>
                                                <input type="text" name="totalPrice " ng-model="billMaster.totalPrice " class="form-control " placeholder="إجمالي النقديه "
                                                       disabled="disabled">
                                            </div>
                                        </div>
                                        <div class="col-md-8 col-md-offset-2">
                                            <hr />
                                        </div>
                                        <div class="col-md-4" ng-hide="isVatValue ">
                                            <div class="form-group">
                                                <label class=" "> اجمالي قيمة الضريبة </label>
                                                <input type="text" name="TotalVatValue " ng-model="billMaster.TotalVatValue " class="form-control "
                                                       placeholder="اجمالي قيمة الضريبة " disabled="disabled">
                                            </div>
                                        </div>
                                        <div class="col-md-4" ng-hide="isVATRate ">
                                            <div class="form-group">
                                                <label class=" "> الاجمالي قبل الضريبة </label>
                                                <input type="text" name="TotalBeforeTax " ng-model="billMaster.TotalBeforeTax " class="form-control "
                                                       placeholder="الاجمالي قبل الضريبة " disabled="disabled">
                                            </div>
                                        </div>
                                        <div class="col-md-4" ng-hide="isVatValue ">
                                            <div class="form-group">
                                                <label class=" "> الاجمالي بعد الضريبة</label>
                                                <input type="text" name="TotalAfterTax " ng-model="billMaster.TotalAfterTax " class="form-control "
                                                       placeholder="الاجمالي بعد الضريبة " disabled="disabled">
                                            </div>
                                        </div>
                                        <div class="col-md-8 col-md-offset-2">
                                            <hr />
                                        </div>
                                        <div class=" col-lg-3 col-md-4 " ng-hide="isVATRate">
                                            <div class="form-group">
                                                <label class=" ">
                                                    اجمالي المبلغ الخاضع للضريبة
                                                </label>
                                                <input type="text" name="TotalTaxableAmount" ng-model="billMaster.TotalTaxableAmount " class="form-control "
                                                       placeholder="اجمالي المبلغ الخاضع للضريبة " disabled="disabled">
                                            </div>
                                        </div>
                                        <div class=" col-lg-3 col-md-4 " ng-hide="isVatValue">
                                            <div class="form-group">
                                                <label class=" ">
                                                    اجمالي المبلغ الغير الخاضع
                                                    للضريبة
                                                </label>
                                                <input type="text" name="TotalNotTaxableAmount" ng-model="billMaster.TotalNotTaxableAmount" class="form-control "
                                                       placeholder="اجمالي المبلغ الغير الخاضع للضريبة " disabled="disabled">
                                            </div>
                                        </div>


                                        <div class=" col-lg-3 col-md-4 ">
                                            <div class="form-group">
                                                <label class=" ">
                                                    اجمالي المعفي من الضريبه
                                                </label>
                                                <input type="text" name="TotalExemptOfTax" ng-model="billMaster.TotalExemptOfTax" class="form-control "
                                                       placeholder="اجمالي المعفي من الضريبه " disabled="disabled">
                                            </div>
                                        </div>

                                        <div class=" col-lg-3 col-md-4 ">
                                            <div class="form-group">
                                                <label class=" ">
                                                    قيمه المعفي من الضريبه
                                                </label>
                                                <input type="text" name="ExemptOfTaxValue" ng-model="billMaster.ExemptOfTaxValue" class="form-control "
                                                       placeholder="قيمه المعفي من الضريبه " disabled="disabled">
                                            </div>
                                        </div>
                                        <div class=" col-lg-3 col-md-4 ">
                                            <div class="form-group">
                                                <label class=" ">
                                                    اجمالي الضريبه الاساسيه من الضريبه
                                                </label>
                                                <input type="text" name="TotalMainVat" ng-model="billMaster.TotalMainVat" class="form-control " placeholder="اجمالي الضريبه الاساسيه من الضريبه "
                                                       disabled="disabled">
                                            </div>
                                        </div>
                                        <div class=" col-lg-3 col-md-4 ">
                                            <div class="form-group">
                                                <label class=" ">
                                                    قيمه الضريبه الاساسيه من الضريبه
                                                </label>
                                                <input type="text" name="MainVatValue" ng-model="billMaster.MainVatValue" class="form-control " placeholder="قيمه الضريبه الاساسيه من الضريبه "
                                                       disabled="disabled">
                                            </div>
                                        </div>
                                        <div class=" col-lg-3 col-md-4 ">
                                            <div class="form-group">
                                                <label class=" ">
                                                    اجمالي ضريبه زيرو من الضريبه
                                                </label>
                                                <input type="text" name="TotalZeroVat" ng-model="billMaster.TotalZeroVat" class="form-control " placeholder="اجمالي الضريبه الزيرو من الضريبه "
                                                       disabled="disabled">
                                            </div>
                                        </div>
                                        <div class=" col-lg-3 col-md-4 ">
                                            <div class="form-group">
                                                <label class=" ">
                                                    قيمه ضريبه زيرو من الضريبه
                                                </label>
                                                <input type="text" name="ZeroVatValue" ng-model="billMaster.ZeroVatValue" class="form-control " placeholder="قيمه الضريبه الزيرو من الضريبه "
                                                       disabled="disabled">
                                            </div>
                                        </div>
                                        <div class="col-md-8 col-md-offset-2">
                                            <hr />
                                        </div>
                                        <div class=" col-lg-3 col-md-4 " ng-hide="isVATRate || !HasGoldModule">
                                            <div class="form-group">
                                                <label class=" ">
                                                    اجمالي قيمة اجور التصنيع
                                                </label>
                                                <input type="text" name="totalManufactWages" ng-model="billMaster.totalManufactWages " class="form-control "
                                                       placeholder="اجمالي قيمة اجور التصنيع" disabled="disabled">
                                            </div>
                                        </div>
                                        <div class=" col-lg-3 col-md-4 " ng-hide="isVATRate || !HasGoldModule">
                                            <div class="form-group">
                                                <label class=" ">
                                                    اجمالي قيمة الضريبة على اجور
                                                    التصنيع
                                                </label>
                                                <input type="text" name="TotalWagesValue" ng-model="TotalWagesValue" class="form-control " placeholder="اجمالي  قيمة الضريبة على اجور التصنيع"
                                                       disabled="disabled">
                                            </div>
                                        </div>
                                    </div>
                                    <!--/.mybox-->
                                </div>
                                <!--/.col-md-12-->
                            </div>
                        </div>
                    </div>
                </div>


                <!--الاجماليات-->
                <div class="col-md-12" ng-show="IsShowTaxesBox">
                    <div class="panel panel-white lightGreen-side-border">
                        <!--<div class="panel-heading border-light">
                                <h4 class="panel-title ">الاجماليات</h4>
                                <div class="panel-tools">
                                    <a data-original-title="Collapse" data-toggle="tooltip" data-placement="top" class="btn btn-transparent btn-sm panel-collapse" href="#"><i class="ti-minus collapse-off"></i><i class="ti-plus collapse-on"></i></a>
                                </div>
                            </div>-->
                        <div class="panel-body no-padding">
                            <div class="col-xs-12 no-padding">
                                <table class="table table-bordered no-margin">
                                    <thead class="success">
                                        <tr>
                                            <th ng-if="HasGoldModule" colspan="4" style="background :#7f6aa1 !important; color : #f9e188  !important">اجمالي العيارات </th>
                                            <th colspan="5" style="background :#3782c2 !important; color : #f9e188  !important"> الاجماليات</th>
                                            <th colspan="4" style="background :#16a085 !important; color : #f9e188  !important">الضريبة</th>
                                            <th rowspan="2" style="background :#2f7082 !important; color : #f9e188  !important">الاجمالي بعد الضريبة</th>
                                        </tr>
                                        <tr>
                                            <th ng-if="HasGoldModule" style="background: #9A89B5 !important; color : #f9e188  !important">عيار 24</th>
                                            <th ng-if="HasGoldModule" style="background: #9A89B5 !important; color : #f9e188  !important">عيار 22</th>
                                            <th ng-if="HasGoldModule" style="background: #9A89B5 !important; color : #f9e188  !important">عيار 21</th>
                                            <th ng-if="HasGoldModule" style="background: #9A89B5 !important; color : #f9e188  !important">عيار 18</th>

                                            <th ng-hide="bill_type_Id ==13 || bill_type_Id ==14" style="background: #6fa7d7 !important; color : #f9e188  !important">
                                                الغير
                                                خاضع للضريبه
                                            </th>
                                            <th ng-hide="bill_type_Id ==13 || bill_type_Id ==14" style="background: #6fa7d7 !important; color : #f9e188  !important">
                                                الخاضع
                                                بنسبة 5%
                                            </th>
                                            <th style="background: #6fa7d7 !important; color : #f9e188  !important">الخاضع بنسبة 0%</th>
                                            <th ng-hide="bill_type_Id ==13 || bill_type_Id ==14" style="background: #6fa7d7 !important; color : #f9e188  !important">المعفي</th>
                                            <!--الاجمالي-->
                                            <!--<th ng-hide="bill_type_Id ==13 || bill_type_Id ==14" style="background: #6fa7d7 !important; color : #f9e188  !important">{{totalName}}</th>-->
                                            <th ng-hide="bill_type_Id ==13 || bill_type_Id ==14" style="background: #6fa7d7 !important; color : #f9e188  !important">{{totalName}}</th>


                                            <th style="background: #1abc9c !important; color : #f9e188  !important">ضريبة 5%</th>
                                            <th style="background: #1abc9c !important; color : #f9e188  !important">ضريبة 0%</th>
                                            <th style="background: #1abc9c !important; color : #f9e188  !important">ضريبة المعفي</th>
                                            <th style="background: #1abc9c !important; color : #f9e188  !important">اجمالي الضريبة</th>



                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <!--عيار 24-->
                                            <th ng-if="HasGoldModule">{{billMaster.total24Quantity}} &nbsp;</th>
                                            <!-- عيار 22 -->
                                            <th ng-if="HasGoldModule">{{billMaster.total22Quantity}} &nbsp;</th>
                                            <!-- عيار 21 -->
                                            <th ng-if="HasGoldModule">{{billMaster.total21Quantity}} &nbsp;</th>
                                            <!-- عيار 18  -->
                                            <th ng-if="HasGoldModule">{{billMaster.total18Quantity}} &nbsp;</th>

                                            <!-- الغير خاضع للضريبه -->
                                            <th ng-hide="bill_type_Id ==13 || bill_type_Id ==14">{{billMaster.TotalExemptOfTax}}&nbsp;</th>
                                            <!--<!-- الغير خاضع للضريبه -->-->
                                            <!--<th ng-hide="bill_type_Id ==13 || bill_type_Id ==14">{{billMaster.TotalNotTaxableAmount}}&nbsp;</th>-->
                                            <!-- الخاضع بنسبة 5% -->
                                            <!--<th ng-hide="bill_type_Id ==13 || bill_type_Id ==14">{{billMaster.TotalTaxableAmount}}&nbsp;</th>-->
                                            <th>{{billMaster.TotalMainVat}} &nbsp;</th>
                                            <!-- الخاضع بنسبة 0% -->

                                            <th>{{billMaster.TotalZeroVat}}&nbsp;</th>
                                            <!-- الضريبه -->
                                            <!--<th ng-hide="bill_type_Id ==13 || bill_type_Id ==14">{{billMaster.MainVatValue}}&nbsp;</th>-->
                                            <th>{{billMaster.TotalExemptOfTax}} &nbsp;</th>


                                            <!--<th ng-hide="bill_type_Id ==13 || bill_type_Id ==14">{{billMaster.totalMustPaid}}&nbsp;</th>-->
                                            <th ng-hide="bill_type_Id ==13 || bill_type_Id ==14">{{sumAllVat}}&nbsp;</th>



                                            <th>{{billMaster.MainVatValue}} &nbsp;</th>
                                            <th>{{billMaster.ZeroVatValue}}&nbsp;</th>
                                            <th>{{billMaster.ExemptOfTaxValue}} &nbsp;</th>
                                            <th>{{billMaster.MainVatValue}}</th>

                                            <th>{{billMaster.totalMustPaid}}</th>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>


                <div class="col-md-12 margin-top-10" ng-hide="IsItemsGroups">
                    <div class="panel panel-white blue-side-border" ng-hide="IsItemsGroups">
                        <div class="panel-heading border-light">
                            <h4 class="panel-title">{{BILL_SHOW_NAME}} </h4>
                            <div class="panel-tools">
                                <a data-original-title="Collapse" data-toggle="tooltip" data-placement="top" class="btn btn-transparent btn-sm panel-collapse"
                                   href="#"><i class="ti-minus collapse-off"></i><i class="ti-plus collapse-on"></i></a>
                            </div>
                        </div>
                        <div class="panel-body">
                            <div class="col-md-12">
                                <div class="col-md-12 " ng-hide="IsItemsGroups">
                                    <div class="panel">
                                        <div class="space12 text-center margin-20">
                                            <div class="btn-group">
                                                <a class="btn btn-wide btn-default" ng-repeat="item in mainItemsGroupsList" ng-click="getItemsByGroupID(item)">{{item.GroupARName}}</a>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-12" ng-hide="IsItems">
                                    <div class="panel">
                                        <div class="panel-body">
                                            <div class="ps-scrollbar-x-rail height-20 text-center">
                                                <div class="col-lg-2 col-md-4" ng-repeat="item in items">
                                                    <button ng-click="getItemDataUsingItemCode(item.ITEM_CODE,billMaster.SELL_TYPE_ID)" type="button" class="btn btn-block btn-wide btn-o btn-primary margin-5">{{item.ITEM_AR_NAME}}</button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!--/.panel-body-->
                    </div>
                    <!--/.panel-->
                </div>

                <!--التحويلات-->
            <div class="col-md-12" ng-hide="{{ IsCurrencyTrans || HasGoldModule}}">
                <div class="panel panel-white purple-side-border" ng-hide="IsCurrencyTrans">
                    <!--<div class="panel-heading border-light">
                        <h4 class="panel-title ">التحويلات</h4>
                        <div class="panel-tools">
                            <a data-original-title="Collapse" data-toggle="tooltip" data-placement="top" class="btn btn-transparent btn-sm panel-collapse" href="#"><i class="ti-minus collapse-off"></i><i class="ti-plus collapse-on"></i></a>
                        </div>
                    </div>-->
                    <div class="panel-body">
                        <div class="col-md-12" ng-hide="IsCurrencyTrans">
                            <div class="" ng-hide="IsCurrencyTrans">
                                <table class="table table-bordered center">
                                    <tr ng-repeat="item in matrixList track by $index ">
                                        <td class="success input-heading">
                                            <span e-name="ColName" ng-show="rowform.$show()" editable-text="item.ColName" e-form="rowform" e-readonly="true">
                                                {{ item.ColName || 'empty' }}
                                            </span>
                                        </td>
                                        <td>
                                            <span e-name="ColQuantity" ng-show="rowform.$show()" editable-text="item.ColQuantity" e-form="rowform"
                                                  e-ng-change="changeQuantity($data,$index)" e-readonly="true">{{ item.ColQuantity }}</span>
                                        </td>
                                        <td>
                                            <span e-name="Col24" ng-show="rowform.$show()" editable-text="item.Col24" e-form="rowform" e-ng-readonly="item.read24"
                                                  e-ng-change="changeTransQunatity('24',$data,$index)">
                                                {{ item.Col24 }}
                                            </span>
                                        </td>
                                        <td>
                                            <span editable-text="item.Col22" e-name="Col22" ng-show="rowform.$show()" e-form="rowform" e-ng-readonly="item.read22"
                                                  e-ng-change="changeTransQunatity('22',$data,$index)">
                                                {{ item.Col22 }}
                                            </span>
                                        </td>
                                        <td>
                                            <span e-name="Col21" ng-show="rowform.$show()" editable-text="item.Col21" e-form="rowform" e-ng-readonly="item.read21"
                                                  e-ng-change="changeTransQunatity('21',$data,$index)">
                                                {{ item.Col21 }}
                                            </span>
                                        </td>
                                        <td>
                                            <span editable-text="item.Col18" e-name="Col18" ng-show="rowform.$show()" e-form="rowform" e-ng-readonly="item.read18"
                                                  e-ng-change="changeTransQunatity('18',$data,$index)">
                                                {{ item.Col18 }}
                                            </span>
                                        </td>
                                        <td>
                                            <span editable-text="item.TransQuant" e-name="TransQuant" ng-show="rowform.$show()" e-form="rowform"
                                                  e-ng-readonly="true">
                                                {{ item.Col18 }}
                                            </span>
                                        </td>
                                        <td class="hidden">
                                            <form editable-form name="rowform" ng-show="rowform.$show()" class="form-buttons form-inline" shown="inserted == item"></form>
                                        </td>
                                    </tr>
                                </table>
                            </div>
                        </div>
                        <!-- End Panel Section Table -->
                        <!-- Start Panel Section Table -->
                    </div>
                    <!--/.panel-collapse-->
                    <!--/.panel-->
                </div>
            </div>

                <!--طرق الدفع-->
                <div class="col-md-12" ng-hide="IsPayTypes">
                    <div class="panel panel-white blue-side-border">
                        <!--<div class="panel-heading border-light">
                                <h4 class="panel-title">طرق الدفع</h4>
                                <div class="panel-tools">
                                    <a data-original-title="Collapse" data-toggle="tooltip" data-placement="top" class="btn btn-transparent btn-sm panel-collapse" href="#"><i class="ti-minus collapse-off"></i><i class="ti-plus collapse-on"></i></a>
                                </div>
                            </div>-->
                        <div class="panel-body">

                            <div class="">
                                <div class="my-Table-responsive payment-methodes no-margin">
                                    <table class="table text-center table-bordered">
                                        <tr class="" style="font-weight: bold">
                                            <td>طريقة الدفع</td>
                                            <td>القيمة</td>
                                            <td>نسبة العمولة البنكيه %</td>
                                            <td>قيمة العموله</td>
                                            <td>الحد الاقصي للعموله</td>
                                            <td>نسبة الضريبه علي العموله%</td>
                                            <td>قيمة الضريبه علي العموله</td>
                                            <td>الحساب</td>
                                        </tr>
                                        <tr ng-repeat="item in payTypesList track by $index ">
                                            <td>
                                                <span e-name="PAY_TYPE_AR_NAME" ng-show="rowform.$show()" editable-text="item.PAY_TYPE_AR_NAME" e-form="rowform"
                                                      e-readonly>
                                                    {{ item.PAY_TYPE_AR_NAME || 'empty' }}
                                                </span>
                                            </td>

                                            <td>
                                                <span e-name="value" ng-show="rowform.$show()" editable-text="item.PayTypeValue" e-form="rowform"
                                                      e-ng-model-options='{ debounce: 750 }' e-ng-change="valuesCalc($data,$index)" e-ng-readonly="item.isReadOnly">
                                                    {{ item.value || '0' }}
                                                </span>
                                            </td>
                                            <td>
                                                <span e-name="BankCommissionRate" ng-show="rowform.$show()" editable-text="item.BankCommissionRate" e-form="rowform"
                                                      e-readonly>
                                                    {{item.BankCommissionRate || 'empty' }}
                                                </span>
                                            </td>

                                            <td>
                                                <span e-name="BankCommissionValue" ng-show="rowform.$show()" editable-text="item.BankCommissionValue"
                                                      e-form="rowform" e-readonly>{{item.BankCommissionValue || 'empty' }}</span>
                                            </td>

                                            <td>
                                                <span e-name="MaxCommission" ng-show="rowform.$show()" editable-text="item.MaxCommission" e-form="rowform"
                                                      e-readonly>{{ item.MaxCommission || 0 }}</span>
                                            </td>

                                            <td>
                                                <span editable-text="item.CommissionTaxRate" e-name="CommissionTaxRate" ng-show="rowform.$show()" e-form="rowform"
                                                      e-readonly>{{item.CommissionTaxRate || 'empty'}}</span>
                                            </td>

                                            <td>
                                                <span editable-text="item.CommissionTaxValue" e-name="CommissionTaxValue" ng-show="rowform.$show()" e-form="rowform"
                                                      e-readonly>
                                                    {{item.CommissionTaxValue || 'empty'}}
                                                </span>
                                            </td>
                                            <td>
                                                <span editable-select="item.AccountID" e-placeholder="الحساب" e-name="costCenter" ng-show="rowform.$show()"
                                                      e-form="rowform" e-ng-options="x.ACC_ID as x.ACC_AR_NAME for x in accountList" e-ng-change="getAccount($data,$index)">
                                                    {{ item.AccountID || 0 }}
                                                </span>
                                            </td>
                                            <form editable-form name="rowform" ng-show="rowform.$show()" class="form-buttons form-inline" shown="inserted == item"></form>
                                        </tr>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

            
                <div class="col-md-12">
                    <div class="panel panel-white bricky-side-border">
                        <div class="panel-heading border-light">
                            <h4 class="panel-title text-primary">فواتير {{BILL_SHOW_NAME}} السابقه</h4>
                            <div class="panel-tools">
                                <a data-original-title="Collapse" data-toggle="tooltip" data-placement="top" class="btn btn-transparent btn-sm panel-collapse"
                                   href="#"><i class="ti-minus collapse-off"></i><i class="ti-plus collapse-on"></i></a>
                            </div>
                        </div>

                        <div class="panel-body  ">
                            <div class="col-md-12">
                                <table class="table table-bordered table-hover">
                                    <tr class="success">
                                        <th>#</th>
                                        <th class="hidden-xs">رقم الفاتورة </th>
                                        <th>التاريخ </th>
                                        <th>االدرج</th>
                                        <th class="hidden-xs">بيان الفاتورة</th>
                                        <th>تعديل / حذف</th>
                                    </tr>
                                    <tr ng-repeat="item in billMasters">
                                        <td class="hidden-xs">{{ $index + 1 }}</td>
                                        <td>{{ item.BILL_NUMBER }}</td>
                                        <td>{{ item.BILL_DATE| date: "yyyy-MM-dd" }}</td>
                                        <td>{{ item.SHIFT_NUMBER }}</td>
                                        <td class="hidden-xs">{{ item.BILL_REMARKS }}</td>
                                        <td class="center">
                                            <div class="visible-md visible-lg hidden-sm hidden-xs">
                                                <a href="" ng-click="dirEnity(item)" class="btn btn-transparent btn-xs" data-toggle="tooltip"
                                                   data-placement="top" title="Edit">
                                                    <i class="fa fa-pencil"></i>
                                                </a>
                                                <a href="" ng-click="deleteEnity(item)" class="btn btn-transparent btn-xs tooltips" data-toggle="tooltip"
                                                   data-placement="top" title="Remove">
                                                    <i class="fa fa-times fa fa-white"></i>
                                                </a>
                                            </div>
                                            <div class="visible-xs visible-sm hidden-md hidden-lg">
                                                <div class="btn-group dropdown ">
                                                    <button type="button" class="btn btn-o btn-sm dropdown-toggle" data-toggle="dropdown">
                                                        <i class="fa fa-cog"></i>&nbsp;<span class="caret"></span>
                                                    </button>
                                                    <ul class="dropdown-menu pull-right dropdown-light" role="menu">
                                                        <li>
                                                            <a href="" ng-click="dirEnity(item)"> تعديل </a>
                                                        </li>
                                                        <li>
                                                            <a href="" ng-click="deleteEnity(item)"> حذف </a>
                                                        </li>
                                                    </ul>
                                                </div>
                                            </div>
                                        </td>
                                    </tr>
                                </table>
                                <ul uib-pagination total-items="PointOfSaleTotalCount" ng-model="pageNum" max-size="maxSize" class="pagination-sm"
                                    boundary-links="true" num-pages="numPages" ng-change="pageChanged()"></ul>
                                <pre>صفحه: {{pageNum}} / {{numPages}}</pre>
                            </div>
                        </div>
                        <!--/.panel-body-->

                    </div>
                    <!--/.panel-->
                </div>

                <!-- طباعة عام -->
                <div id="divTotals" class="printSection">
                    <table>
                        <tr style="font-weight: bold">
                            <td colspan="3">{{billMaster.BILL_NUMBER}}</td>
                            <td colspan="2">-</td>
                            <td colspan="3">{{getbillTypeName()}}</td>
                        </tr>
                        <tr style="font-weight: bold">
                            <td colspan="4">مسلسل:{{billMaster.BILL_NUMBER}}</td>
                            <!-- </td>-->
                            <td colspan="4">
                                التاريخ:{{billMaster.BILL_DATE | date: "yyyy-MM-dd"}}
                            </td>
                        </tr>
                        <tr style="font-weight: bold">
                            <td colspan="4">شفت:{{billMaster.SHIFT_NUMBER}}</td>
                            <td colspan="4">الوقت:{{getCurrentTime()}}</td>
                        </tr>
                        <tr style="font-weight: bold">
                            <td colspan="4">الكاشير :{{getCurrentEmployeeName()}}</td>
                            <td colspan="4">{{getCurrentBillPayWay()}}</td>
                        </tr>
                        <tr style="font-weight: bold">
                            <td colspan="4">صندوق النقد :{{getPayName()}}</td>
                            <td colspan="4"> صندوق الذهب :{{getGoldName()}}</td>
                        </tr>
                    </table>
                    <table>
                        <tr class="success" style="font-weight: bold">
                            <th>كود</th>
                            <th colspan="2">الصنف</th>
                            <th>الكمية</th>
                            <th ng-show="HasGoldModule">الوزن</th>
                            <th>الوحدة</th>
                            <th>العيار</th>
                            <th>السعر</th>
                            <th>الخصم</th>
                            <th> الضريبه</th>
                            <th>الاجمالى</th>
                        </tr>
                        <tr ng-repeat="item in selectedItems track by $index">
                            <td>{{ item.ITEM_CODE}}</td>
                            <td colspan="2">{{ item.ITEM_AR_NAME}}</td>
                            <td>{{ item.Quantity}}</td>
                            <td ng-show="HasGoldModule">{{item.ItemWeight}}</td>
                            <td>{{ item.Unit}}</td>
                            <td>{{ item.Unit}}</td>
                            <td>{{ item.Price}}</td>
                            <td>{{ item.Discount}}</td>
                            <td>{{item.VATRate}}</td>
                            <td>{{ item.Total}}</td>
                        </tr>
                    </table>
                    <table>
                        <tr style="font-weight: bold">
                            <td colspan="4">عدد القطع</td>
                            <td colspan="4">{{billMaster.totalQuantity||0}}</td>
                        </tr>
                        <tr style="font-weight: bold">
                            <td colspan="4">الإجمالي قبل الخصم</td>
                            <td colspan="4">{{billMaster.totalMustPaid||0.0}} {{getCurrencyName()}}</td>
                        </tr>
                        <tr style="font-weight: bold">
                            <td colspan="4">إجمالي خصم الاصناف</td>
                            <td colspan="4">{{billMaster.TotalDisc||0.0}} {{getCurrencyName()}}</td>
                        </tr>
                        <tr style="font-weight: bold">
                            <td colspan="4">الخصم علي الفاتورة</td>
                            <td colspan="4">{{billMaster.BILL_TOTAL_DISC||0.0}} {{getCurrencyName()}}</td>
                        </tr>
                        <tr style="font-weight: bold">
                            <td colspan="4">القيمة المضافة</td>
                            <td colspan="4">
                                {{billMaster.BILL_TOTAL_EXTRA||0.0}} {{getCurrencyName()}}
                            </td>
                        </tr>
                        <tr style="font-weight: bold">
                            <td colspan="4">اجمالي الضريبه</td>
                            <td colspan="4">
                                {{billMaster.TotalVatRate||0.0}} {{getCurrencyName()}}
                            </td>
                        </tr>
                        <tr style="font-weight: bold">
                            <td colspan="4">الإجمالي</td>
                            <td colspan="4">
                                {{billMaster.totalMustPaid||0.0}} {{getCurrencyName()}}
                            </td>

                        </tr>
                        <tr style="font-weight: bold">
                            <td colspan="4">المدفوع</td>
                            <td colspan="4">
                                {{billMaster.totalPaid||0.0}} {{getCurrencyName()}}
                            </td>

                        </tr>
                        <tr style="font-weight: bold">
                            <td colspan="4">الباقى</td>
                            <td colspan="4">
                                {{billMaster.totalRemaining||0.0}} {{getCurrencyName()}}
                            </td>
                        </tr>
                        <tr style="font-weight: bold">
                            <td colspan="8">{{billMaster.totalMustPaid||0.0}} {{getCurrencyName()}} فقط لاغير </td>
                        </tr>
                    </table>
                </div>
                <!--/.نهاية طباعة عام-->
                <div class="col-xs-12">
                    <!-- Start Panel Section Table -->
                    <div id="divTotals" class="printSection">
                        <table border="0">
                            <tr style="font-weight: bold">
                                <td colspan="3">{{billMaster.BILL_NUMBER}}</td>
                                <td colspan="2">-</td>
                                <td colspan="3">{{getbillTypeName()}}</td>
                            </tr>
                            <tr style="font-weight: bold">
                                <td colspan="4">مسلسل:{{billMaster.BILL_NUMBER}}</td>
                                <!-- </td>-->
                                <td colspan="4">
                                    التاريخ:{{billMaster.BILL_DATE | date: "yyyy-MM-dd"}}
                                </td>
                            </tr>
                            <tr style="font-weight: bold">
                                <td colspan="4">شفت:{{billMaster.SHIFT_NUMBER}}</td>
                                <td colspan="4">الوقت:{{getCurrentTime()}}</td>
                            </tr>
                            <tr style="font-weight: bold">
                                <td colspan="4">الكاشير :{{getCurrentEmployeeName()}}</td>
                                <td colspan="4">{{getCurrentBillPayWay()}}</td>
                            </tr>
                            <tr style="font-weight: bold">
                                <td colspan="4">صندوق النقد :{{getPayName()}}</td>
                                <td colspan="4"> صندوق الذهب :{{getGoldName()}}</td>
                            </tr>
                            <tr class="success" style="font-weight: bold">
                                <td>كود</td>
                                <td colspan="2">الصنف</td>
                                <td>الكمية</td>
                                <td ng-show="HasGoldModule">الوزن</td>
                                <td>الوحدة</td>
                                <td>العيار</td>
                                <td>السعر</td>
                                <td>الخصم</td>
                                <td> الضريبه</td>
                                <td>الاجمالى</td>
                            </tr>
                            <tr ng-repeat="item in selectedItems track by $index">
                                <td>{{ item.ITEM_CODE}}</td>
                                <td colspan="2">{{ item.ITEM_AR_NAME}}</td>
                                <td>{{ item.Quantity}}</td>
                                <td ng-show="HasGoldModule">{{item.ItemWeight}}</td>
                                <td>{{ item.Unit}}</td>
                                <td>{{ item.Unit}}</td>
                                <td>{{ item.Price}}</td>
                                <td>{{ item.Discount}}</td>
                                <td>{{item.VATRate}}</td>
                                <td>{{ item.Total}}</td>
                            </tr>
                            <tr style="font-weight: bold">
                                <td colspan="4">عدد القطع</td>
                                <td colspan="4">{{billMaster.totalQuantity||0}}</td>
                            </tr>
                            <tr style="font-weight: bold">
                                <td colspan="4">الإجمالي قبل الخصم</td>
                                <td colspan="4">{{billMaster.totalMustPaid||0.0}} {{getCurrencyName()}}</td>
                            </tr>
                            <tr style="font-weight: bold">
                                <td colspan="4">إجمالي خصم الاصناف</td>
                                <td colspan="4">{{billMaster.TotalDisc||0.0}} {{getCurrencyName()}}</td>
                            </tr>
                            <tr style="font-weight: bold">
                                <td colspan="4">الخصم علي الفاتورة</td>
                                <td colspan="4">{{billMaster.BILL_TOTAL_DISC||0.0}} {{getCurrencyName()}}</td>
                            </tr>
                            <tr style="font-weight: bold">
                                <td colspan="4">القيمة المضافة</td>
                                <td colspan="4">{{billMaster.BILL_TOTAL_EXTRA||0.0}} {{getCurrencyName()}}</td>
                            </tr>
                            <tr style="font-weight: bold">
                                <td colspan="4">اجمالي الضريبه</td>
                                <td colspan="4">{{billMaster.TotalVatRate||0.0}} {{getCurrencyName()}}</td>
                            </tr>
                            <tr style="font-weight: bold">
                                <td colspan="4">الإجمالي</td>
                                <td colspan="4">{{billMaster.totalMustPaid||0.0}} {{getCurrencyName()}}</td>

                            </tr>
                            <tr style="font-weight: bold">
                                <td colspan="4">المدفوع</td>
                                <td colspan="4">{{billMaster.totalPaid||0.0}} {{getCurrencyName()}}</td>
                            </tr>
                            <tr style="font-weight: bold">
                                <td colspan="4">الباقى</td>
                                <td colspan="4">{{billMaster.totalRemaining||0.0}} {{getCurrencyName()}}</td>
                            </tr>
                            <tr style="font-weight: bold">
                                <td colspan="8">{{billMaster.totalMustPaid||0.0}} {{getCurrencyName()}} فقط لاغير </td>
                            </tr>
                        </table>
                    </div>
                </div>

            </div>
            <!--/.container-fluid-->
        </div>
        <!--/.wrap-content-->
    </div>
    <!--/.main-content-->
</div>
<!--/.app-content-->

<!-- Start Modal Demo -->
<div class="modal-demo">
    <script type="text/ng-template" id="SearchItemsPopUp.html">
        <div class="modal-body" id="modal-body">
            <div class="panel-body panel-body">
                <div class="table-responsive">
                    <div class="col-md-6 col-md-offset-3">
                        <form role="search" class="navbar-form main-search">
                            <div class="form-group">
                                <input type="text" ng-model="search.itm" press-enter="searchForItems()" placeholder="البحث عن الكود او اسم المنتج" class="form-control">
                            </div>
                        </form>
                    </div>
                    <div class="col-md-12">
                        <table class="table table-bordered table-hover" id="sample-table-Item">
                            <tr class="success">
                                <th class="hidden-xs">#</th>
                                <th class="hidden-xs">كود الصنف</th>
                                <th>الاسم عربى </th>
                                <th>الاسم انجليزى</th>
                                <th class="hidden-xs">ملاحظات</th>
                                <th>تحديد</th>
                            </tr>
                            <tr ng-repeat="item in searchItems">
                                <td class="hidden-xs">{{ $index + 1 }}</td>
                                <td class="hidden-xs">{{ item.ITEM_CODE }}</td>
                                <td>{{ item.ITEM_AR_NAME }}</td>
                                <td>{{ item.ITEM_EN_NAME }}</td>
                                <td class="hidden-xs">{{ item.ITEM_REMARKS }}</td>
                                <td>
                                    <div class="checkbox clip-check check-primary checkbox-inline">
                                        <input id="{{$index}}" type="checkbox" ng-model="item.Selected">
                                        <label for="{{$index}}"></label>
                                    </div>
                                </td>
                            </tr>
                        </table>
                    </div>
                    <!--/.col-md-12-->
                </div>
                <!--/.table-responsive-->
            </div>
        </div>
        <!--/.modal-body-->
        <div class="modal-footer center">
            <button type="button" class="btn btn-wide btn-primary" ng-click="cancel(); openItemsPopup()">عنصر جديد</button>
            <button type="button" class="btn btn-wide btn-primary" ng-click="addSelectedItemstoItemDetails(); cancel()">إضافة واغلاق</button>
            <button type="button" class="btn btn-wide btn-primary" ng-click="addSelectedItemstoItemDetails()">إضافة</button>
            <button type="button" id="closeItemModal" class="btn btn-wide btn-danger" ng-click="cancel()">اغلاق</button>
        </div>
        <!--/.modal-footer-->

    </script>
</div>
<!-- End Modal Demo -->

<!-- Start Modal Demo -->
<div class="modal-demo">
    <script type="text/ng-template" id="searchBillModalContent.html">
        <div class="modal-header">
        </div>
        <div class="modal-body" id="modal-body">
            <div class="panel-body panel-body panel-white">
                <div class="table-responsive">
                    <label> بحث برقم الفاتوره</label>
                    <input type="text" placeholder=" بحث برقم الفاتوره" ng-model="SearchText.BILL_NUMBER" />
                    <label> بحث التاريخ من</label>
                    <input type="date" placeholder="بحث التاريخ من" ng-model="SearchText.BILL_DATE_FROM" />
                    <label> بحث التاريخ الي</label>
                    <input type="date" placeholder="بحث التاريخ الي" ng-model="SearchText.BILL_DATE_TO" />
                    <label> بحث بحساب {{BillAccountName}}</label>
                    <input type="text" placeholder=" بحث بحساب {{BillAccountName}} " ng-model="SearchText.CustName" />
                    <button type="button" class="btn btn-primary" ng-click="getbillsForSearch()">بحث</button>
                    <table class="table table-hover" id="sample-table-Item">
                        <tr class="success">
                            <th>#</th>
                            <th class="hidden-xs">رقم الفاتوره</th>
                            <th>التاريخ</th>
                            <th> حساب {{BillAccountName}} </th>
                            <th>تحديد</th>
                        </tr>
                        <tr ng-repeat="bill in searchBillList">
                            <td class="hidden-xs">{{ $index + 1 }}</td>
                            <td>{{ bill.BILL_NUMBER }}</td>
                            <td>{{ bill.BILL_DATE | date : "MM/dd/yyyy"}}</td>
                            <td>{{ bill.CustName }}</td>
                            <td>
                                <div class="checkbox clip-check check-primary checkbox-inline">
                                    <input id="select{{$index}}" type="checkbox" ng-model="bill.Selected">
                                    <label for="select{{$index}}"></label>
                                </div>
                            </td>
                        </tr>
                    </table>
                </div>
            </div>

        </div>
        <div class="modal-footer">
            <!--<button type="button" class="btn btn-primary" ng-click="cancel(); openItemsPopup()">عنصر جديد</button>-->
            <button type="button" class="btn btn-primary" ng-click="checkSelectedBills()">إضافة </button>
            <!--<button type="button" class="btn btn-primary" ng-click="addSelectedItemstoItemDetails()">إضافة</button>-->
            <button type="button" id="closeItemModal" class="btn btn-danger" ng-click="cancel()">اغلاق</button>
        </div>
    </script>
</div>
<!-- End Modal Demo -->

<!-- طباعة صرف كسر -->
<div id="ExtchangeGoldBroke" class="printSection">
    <div class="fatoraHeader" style="border-bottom: 1px solid ">
        <table border="0">
            <tr style="border: none">
                <td style="border: none; width: 35%">
                    <img style="max-width:100% !important; margin-right: -5px" src="../../../../Content/assets/images/companyName-Ar.png" />
                    <p style="margin: 0 !important">الفرع: <b>{{ReportData.ReportBranchName}} </b></p>
                    <p style="margin: 0 !important">الرقم الضريبي : {{ReportData.CompanyTaxNumber}}</p>
                    <p style="margin: 0 !important">{{ReportData.ReportEnDate}}</p>
                    <p style="margin: 0 !important">الموافق {{ReportData.ReportHigriDate}}</p>
                </td>

                <td style="border: none;text-align: center;width: 30%">
                    <img style="max-width:40% !important; margin: -50px auto 10px !important" src="../../../../Content/assets/images/LOGO.JPG" />
                    <h1 style="margin: -20px auto 0 !important;">صرف ذهب كسر</h1>
                    <p style="color: red !important; font-size: 22px !important; font-weight: bold !important">
                        رقم
                        ({{billMaster.BILL_NUMBER}})
                    </p>
                </td>

                <td style="border: none; text-align:left; width: 35%">
                    <img style="max-width:100% !important" src="../../../../Content/assets/images/companyName-En.png" />
                    <p style="margin: 0 !important">Branch: <b>{{ReportData.ReportBranchEnName}} </b></p>
                    <p style="margin: 0 !important">VAT No. :{{ReportData.CompanyTaxNumber}}</p>
                    <p>&nbsp;</p>
                    <p>&nbsp;</p>
                </td>
            </tr>
        </table>

        <table style="margin: 0 !important">
            <tr>
                <td style="border: none; text-align:right">
                    <p style="margin: 0 !important; font-size: 16px !important; font-weight: bold !important">
                        <b>
                            منصرف الى السادة :
                        </b><span>{{ReportData.custAccountName}}</span>
                    </p>
                    <p style="margin: 0 !important"> مناوله / {{billMaster.DeliveryPersonName}}</p>
                    <p style="border: none" colspan="2"><b>العنوان: </b><span>{{ReportData.customerAddressRemark}}</span></p>
                </td>
                <td style="border: none; text-align:left">
                    <p>رقم حساب/ {{ReportData.custAccountNumber}}</p>
                    <p>الرقم الضريبي للعميل/ {{ReportData.customerTaxNumber}}</p>
                </td>
            </tr>
        </table>
    </div>

    <div class="fatoora-body">

        <p style="border-bottom:1px solid;display: inline-block"><b>اوزان الذهب المنصرفة لكم</b> :</p>

        <table>
            <tr ng-hide="billMaster.total24Quantity <= 0">
                <td>{{billMaster.total24Quantity}}</td>
                <td>جرام 24</td>
                <td>{{ReportData.Total24Tafqeet}}</td>
            </tr>
            <tr ng-hide="billMaster.total22Quantity <= 0">
                <td>{{billMaster.total22Quantity}}</td>
                <td>جرام 22</td>
                <td>{{ReportData.Total22Tafqeet}}</td>
            </tr>
            <tr ng-hide="billMaster.total21Quantity <= 0">
                <td>{{billMaster.total21Quantity}}</td>
                <td>جرام 21</td>
                <td>{{ReportData.Total21Tafqeet}}</td>
            </tr>
            <tr ng-hide="billMaster.total18Quantity <= 0">
                <td>{{billMaster.total18Quantity}}</td>
                <td>جرام 18</td>
                <td>{{ReportData.Total18Tafqeet}}</td>
            </tr>
        </table>

        <div style="border: 1px solid ; padding:10px ; margin: 15px 0">
            <p style="margin: 0 !important">البيان</p>
            {{billMaster.BILL_REMARKS}}
        </div>

        <p style="border-bottom:1px solid;display: inline-block"><b>تحويلات العيار</b> :</p>

        <table>
            <tr ng-repeat="item in matrixList track by $index ">
                <td class="success input-heading">

                    {{ item.ColName || 'empty' }}

                </td>
                <td>{{ item.ColQuantity }}</td>
                <td>

                    {{ item.Col24 }}

                </td>
                <td>

                    {{ item.Col22 }}

                </td>
                <td>

                    {{ item.Col21 }}

                </td>
                <td>

                    {{ item.Col18 }}

                </td>
                <td>

                    {{ item.TransQuant }}

                </td>
            </tr>
        </table>

        <div ng-if="PrintEntryDetailsWithBill">

            <div style="text-align:center;font-weight:bold;">
                <h4 style="border-bottom:1px solid;display: inline-block"><b>تفاصيل القيد</b></h4>
            </div>

            <h3 style="border-bottom:1px solid;display: inline-block">مدين</h3>
            <table>
                <tr class="success" style="font-weight: bold !important">
                    <td>#</td>
                    <td>كود</td>
                    <td>الحساب الرئيسى</td>
                    <td>الحساب</td>
                    <td>مدين</td>
                    <td>مدين 24</td>
                    <td>مدين 22</td>
                    <td>مدين 21</td>
                    <td>مدين 18</td>
                </tr>
                <tr ng-repeat="item in DebitEntries | filter : {ACC_ID : ''} track by $index ">
                    <td>{{ $index+1 }}</td>
                    <td>{{ item.ACC_CODE || '' }}</td>
                    <td>{{ item.Parent_ACC_AR_NAME || '' }}</td>
                    <td>{{ item.ACC_AR_NAME || '' }}</td>
                    <td>{{ item.ENTRY_DEBIT || 0 }}</td>
                    <td>{{ item.ENTRY_GOLD24_DEBIT || 0 }}</td>
                    <td>{{ item.ENTRY_GOLD22_DEBIT || 0 }}</td>
                    <td>{{ item.ENTRY_GOLD21_DEBIT || 0 }}</td>
                    <td>{{ item.ENTRY_GOLD18_DEBIT || 0 }}</td>
                </tr>
            </table>

            <h3 style="border-bottom:1px solid;display: inline-block">دائن</h3>
            <table>
                <tr class="success" style="font-weight: bold !important">
                    <td>#</td>
                    <td>كود</td>
                    <td>الحساب الرئيسى</td>
                    <td>الحساب</td>
                    <td>دائن</td>
                    <td>دائن 24</td>
                    <td>دائن 22</td>
                    <td>دائن 21</td>
                    <td>دائن 18</td>
                </tr>
                <tr ng-repeat="item in CreditEntries | filter : {ACC_ID : ''} track by $index ">
                    <td>{{ $index+1 }}</td>
                    <td>{{ item.ACC_CODE || '' }}</td>
                    <td>{{ item.Parent_ACC_AR_NAME || '' }}</td>
                    <td>{{ item.ACC_AR_NAME || '' }}</td>
                    <td>{{ item.ENTRY_CREDIT || 0 }}</td>
                    <td>{{ item.ENTRY_GOLD24_CREDIT || 0 }}</td>
                    <td>{{ item.ENTRY_GOLD22_CREDIT || 0 }}</td>
                    <td>{{ item.ENTRY_GOLD21_CREDIT || 0 }}</td>
                    <td>{{ item.ENTRY_GOLD18_CREDIT || 0 }}</td>
                </tr>
            </table>

        </div>

        <table cellspacing="10" style="margin:30px 0">
            <tr>
                <td style="width:33.333%;text-align: center; ">
                    <p><b>أمين الصندوق</b></p>
                    <p>{{}}</p>
                </td>
                <td style="width:33.333%;text-align: center; ">
                    <p><b>المستلم </b></p>
                    <p><b>{{ReportData.custAccountName}} </b> </p>
                </td>
                <td style="width:33.333%;text-align: center; ">
                    <p><b>المدير المسؤول </b></p>
                </td>
            </tr>
        </table>

    </div>

    <div id="fatoraFooter" style="bottom: 0; left:0;right:0;">
        <table>
            <tr>
                <td style="border: 1px solid !important">
                    {{ReportData.ReportBranchName}} - {{ReportData.CompanyARName}} - هاتف
                    {{ReportData.COMPANY_TELEPHONE}} - س.ت: {{ReportData.CommercialRegister}}
                </td>
            </tr>
        </table>
    </div>

</div>
<!--  نهاية طباعة صرف كسر -->

<!-- طباعة قبض كسر -->
<div id="CashGoldBroke" class="printSection">
    <div class="fatoraHeader" style="border-bottom: 1px solid ">

        <table border="0">
            <tr style="border: none">
                <td style="border: none; width: 35%">
                    <img style="max-width:100% !important; margin-right: -5px" src="../../../../Content/assets/images/companyName-Ar.png" />
                    <p style="margin: 0 !important">الفرع : <b>{{ReportData.ReportBranchName}} </b></p>
                    <p style="margin: 0 !important">الرقم الضريبي : {{ReportData.CompanyTaxNumber}}</p>
                    <p style="margin: 0 !important">{{ReportData.ReportEnDate}}</p>
                    <p style="margin: 0 !important">الموافق {{ReportData.ReportHigriDate}}</p>
                </td>

                <td style="border: none;text-align: center;width: 30%">
                    <img style="max-width:40% !important; margin: -50px auto 10px !important" src="../../../../Content/assets/images/LOGO.JPG" />
                    <h1 style="margin: -20px auto 0 !important;">قبض ذهب كسر</h1>
                    <p style="color: red !important; font-size: 22px !important; font-weight: bold !important">رقم ({{billMaster.BILL_NUMBER}})</p>
                </td>

                <td style="border: none; text-align:left; width: 35%">
                    <img style="max-width:100% !important" src="../../../../Content/assets/images/companyName-En.png" />
                    <p style="margin: 0 !important">Branch: <b>{{ReportData.ReportBranchEnName}} </b></p>
                    <p style="margin: 0 !important">VAT No. :{{ReportData.CompanyTaxNumber}}</p>
                    <p>&nbsp;</p>
                    <p>&nbsp;</p>
                </td>
            </tr>
        </table>

        <table style="margin: 0 !important">
            <tr>
                <td style="border: none; text-align:right">
                    <p style="margin: 0 !important; font-size: 16px !important; font-weight: bold !important">
                        <b>
                            استلمنا من السادة :
                        </b><span>{{ReportData.custAccountName}}</span>
                    </p>
                    <p style="margin: 0 !important"> مناوله / {{billMaster.DeliveryPersonName}}</p>
                    <p style="border: none" colspan="2"><b>العنوان: </b><span>{{ReportData.customerAddressRemark}}</span></p>
                </td>
                <td style="border: none; text-align:left">
                    <p>رقم حساب/ {{ReportData.custAccountNumber}}</p>
                    <p>الرقم الضريبي للعميل/ {{ReportData.customerTaxNumber}}</p>
                </td>
            </tr>
        </table>

    </div>

    <div class="fatoora-body">

        <p style="border-bottom:1px solid;display: inline-block"><b>اوزان الذهب المستلمة منكم</b> :</p>

        <table>
            <tr ng-hide="billMaster.total24Quantity <= 0">
                <td>{{billMaster.total24Quantity}}</td>
                <td>جرام 24</td>
                <td>{{ReportData.Total24Tafqeet}}</td>
            </tr>
            <tr ng-hide="billMaster.total22Quantity <= 0">
                <td>{{billMaster.total22Quantity}}</td>
                <td>جرام 22</td>
                <td>{{ReportData.Total22Tafqeet}}</td>
            </tr>
            <tr ng-hide="billMaster.total21Quantity <= 0">
                <td>{{billMaster.total21Quantity}}</td>
                <td>جرام 21</td>
                <td>{{ReportData.Total21Tafqeet}}</td>
            </tr>
            <tr ng-hide="billMaster.total18Quantity <= 0">
                <td>{{billMaster.total18Quantity}}</td>
                <td>جرام 18</td>
                <td>{{ReportData.Total18Tafqeet}}</td>
            </tr>
        </table>

        <div style="border: 1px solid ; padding:10px ; margin: 15px 0">
            <p style="margin: 0 !important">البيان</p>
            {{billMaster.BILL_REMARKS}}
        </div>

        <p style="border-bottom:1px solid;display: inline-block"><b>تحويلات العيار</b> :</p>
        <table>
            <tr ng-repeat="item in matrixList track by $index ">
                <td class="success input-heading">

                    {{ item.ColName || 'empty' }}

                </td>
                <td><span>{{ item.ColQuantity }}</span></td>
                <td>

                    {{ item.Col24 }}

                </td>
                <td>

                    {{ item.Col22 }}

                </td>
                <td>

                    {{ item.Col21 }}

                </td>
                <td>

                    {{ item.Col18 }}

                </td>
                <td>

                    {{ item.TransQuant }}

                </td>
            </tr>
        </table>

        <div ng-if="PrintEntryDetailsWithBill">
            <div style="text-align:center;font-weight:bold;">
                <h4 style="border-bottom:1px solid;display: inline-block"><b>تفاصيل القيد</b></h4>
            </div>
            <h3 style="border-bottom:1px solid;display: inline-block"><b>مدين</b></h3>
            <table>
                <tr class="success" style="font-weight: bold !important">
                    <td>#</td>
                    <td>كود</td>
                    <td>الحساب الرئيسى</td>
                    <td>الحساب</td>
                    <td>مدين</td>
                    <td>مدين 24</td>
                    <td>مدين 22</td>
                    <td>مدين 21</td>
                    <td>مدين 18</td>
                </tr>
                <tr ng-repeat="item in DebitEntries | filter : {ACC_ID : ''} track by $index ">
                    <td>{{ $index+1 }}</td>
                    <td>{{ item.ACC_CODE || '' }}</td>
                    <td>{{ item.Parent_ACC_AR_NAME || '' }}</td>
                    <td>{{ item.ACC_AR_NAME || '' }}</td>
                    <td>{{ item.ENTRY_DEBIT || 0 }}</td>
                    <td>{{ item.ENTRY_GOLD24_DEBIT || 0 }}</td>
                    <td>{{ item.ENTRY_GOLD22_DEBIT || 0 }}</td>
                    <td>{{ item.ENTRY_GOLD21_DEBIT || 0 }}</td>
                    <td>{{ item.ENTRY_GOLD18_DEBIT || 0 }}</td>
                </tr>
            </table>

            <h3 style="border-bottom:1px solid;display: inline-block"><b>دائن</b></h3>
            <table>
                <tr class="success" style="font-weight: bold !important">
                    <td>#</td>
                    <td>كود</td>
                    <td>الحساب الرئيسى</td>
                    <td>الحساب</td>
                    <td>دائن</td>
                    <td>دائن 24</td>
                    <td>دائن 22</td>
                    <td>دائن 21</td>
                    <td>دائن 18</td>
                </tr>
                <tr ng-repeat="item in CreditEntries | filter : {ACC_ID : ''} track by $index ">
                    <td>{{ $index+1 }}</td>
                    <td>{{ item.ACC_CODE || '' }}</td>
                    <td>{{ item.Parent_ACC_AR_NAME || '' }}</td>
                    <td>{{ item.ACC_AR_NAME || '' }}</td>
                    <td>{{ item.ENTRY_CREDIT || 0 }}</td>
                    <td>{{ item.ENTRY_GOLD24_CREDIT || 0 }}</td>
                    <td>{{ item.ENTRY_GOLD22_CREDIT || 0 }}</td>
                    <td>{{ item.ENTRY_GOLD21_CREDIT || 0 }}</td>
                    <td>{{ item.ENTRY_GOLD18_CREDIT || 0 }}</td>
                </tr>
            </table>
        </div>

        <table cellspacing="10" style="margin:15px 0">
            <tr>
                <td style="width:33.333%;text-align: center; ">
                    <p><b>أمين الصندوق</b></p>
                    <p>{{}}</p>
                </td>
                <td style="width:33.333%;text-align: center; ">
                    <p><b>المستلم </b></p>
                    <p>{{ReportData.custAccountName}}</p>

                </td>
                <td style="width:33.333%;text-align: center; ">
                    <p><b>المدير المسؤول </b></p>
                </td>
            </tr>
        </table>

    </div>

    <div id="fatoraFooter" style="bottom: 0; left:0;right:0;">
        <table>
            <tr>
                <td style="border: 1px solid !important">
                    {{ReportData.ReportBranchName}} - {{ReportData.CompanyARName}} - هاتف
                    {{ReportData.COMPANY_TELEPHONE}} - س.ت: {{ReportData.CommercialRegister}}
                </td>
            </tr>
        </table>
    </div>
</div>
<!--/.نهاية طباعة قبض كسر-->

<!-- طباعة فاتورة بيع -->
<div id="SellBillReport" class="printSection">

    <div class="fatoraHeader">
        <table border="0">
            <tr style="border: none">
                <td style="border: none; width: 35%">
                    <img style="max-width:100% !important; margin-right: -5px" src="../../../../Content/assets/images/companyName-Ar.png" />
                    <p style="margin: 0 !important">الفرع : <b>{{ReportData.ReportBranchName}} </b></p>
                    <p style="margin-bottom: 5px !important"> الرقم الضريبي :{{ReportData.CompanyTaxNumber}}</p>
                    <p style="margin: 0 !important">{{ReportData.ReportEnDate}}</p>
                    <p style="margin: 0 !important">الموافق {{ReportData.ReportHigriDate}}</p>


                </td>
                <td style="border: none;text-align: center;width: 30%">
                    <img style="max-width:40% !important; margin: -50px auto 10px !important" src="../../../../Content/assets/images/LOGO.JPG" />
                    <h1 style="margin: -20px auto 0 !important;">فاتورة بيع</h1>
                    <p style="color: red !important; font-size: 22px !important; font-weight: bold !important">
                        رقم
                        ({{billMaster.BILL_NUMBER}})
                    </p>
                </td>
                <td style="border: none; text-align:left; width: 35%">
                    <img style="max-width:100% !important" src="../../../../Content/assets/images/companyName-En.png" />
                    <p style="margin: 0 !important">Branch : <b>{{ReportData.ReportBranchEnName}} </b></p>
                    <p style="margin-bottom: 5px !important">VAT No. :{{ReportData.CompanyTaxNumber}}</p>
                    <p style="margin: 0 !important">&nbsp;</p>
                    <p style="margin: 0 !important">&nbsp;</p>
                </td>
            </tr>
        </table>
        <table style="margin: 0 !important">
            <tr>
                <td style="border: none; text-align:right">
                    <p style="margin: 0 !important; font-size: 16px !important; font-weight: bold !important">
                        <b>
                            مباع الي
                            الساده
                        </b>/{{ReportData.custAccountName != null?ReportData.custAccountName : billMaster.DeliveryPersonName }}
                    </p>
                    <p style="margin: 0 !important"> <b>مناوله</b> / {{billMaster.DeliveryPersonName}}</p>
                </td>
                <td style="border: none; text-align:left">
                    <p><b>رقم حساب</b>/ {{ReportData.custAccountNumber}}</p>
                    <p> <b>الرقم الضريبي للعميل</b> / {{ReportData.customerTaxNumber}}</p>
                </td>
            </tr>
        </table>
    </div>

    <div class="fatoora-body">

        <table style="margin:0 !important">

            <thead>
                <tr style="text-align: center !important">
                    <td rowspan="2" style="width: 20px !important; padding: 0 !important"> <b>كود</b> </td>

                    <td rowspan="2" colspan="2" style="width: 200px !important"><b style="width: 200px !important"> اسم الصنف</b></td>

                    <td rowspan="2" style="width: 20px !important; padding: 0 !important"><b>العدد</b></td>

                    <td rowspan="2" style="width: 20px !important; padding: 0 !important"><b>العيار</b></td>

                    <td rowspan="2"><b>الوزن بالجرام</b></td>

                    <td rowspan="2"><b>سعر الجرام ريال</b></td>

                    <td rowspan="2"><b>القيمه ريال</b></td>

                    <td rowspan="2" ng-hide="billMaster.TotalDisc <= 0"><b>الخصم ريال</b></td>

                    <td rowspan="2" ng-hide="billMaster.TotalDisc <= 0"><b>الصافي ريال</b></td>

                    <td colspan="2"><b>ضريبة القيمة المضافة</b></td>

                    <td rowspan="2"><b>الاجمالي بعد الضريبة</b></td>
                </tr>
                <tr style="text-align: center !important">
                    <td style="width: 20px !important; padding: 0 !important"><b>النسبة</b></td>
                    <td><b>قيمة</b></td>
                </tr>

            </thead>

            <tbody>
                <tr ng-repeat="item in selectedItems track by $index" ng-if="!$last" style="text-align: center !important">

                    <!--كود-->
                    <td row><b>{{$index + 1}}</b></td>

                    <!--اسم الصنف-->
                    <td colspan="2"><b>{{item.ITEM_AR_NAME}}</b></td>

                    <!-- العدد -->
                    <td><b>{{item.Quantity}}</b></td>

                    <!--العيار-->
                    <td><b>{{item.ARName}}</b></td>

                    <!--الوزن بالجرام-->
                    <td><b>{{item.ItemWeight}}</b></td>

                    <!--اجرة بالجرام-->
                    <!--<td>{{item.ItemWeight}}</td>-->
                    <!--سعر الجرام ريال-->
                    <td><b>{{item.GmPrice}}</b></td>

                    <!--الاجور ريال-->
                    <!--<td>{{item.TotalItemGmWages}}</td>-->
                    <!--قيمه   ريال-->
                    <td><b>{{item.Price}}</b></td>

                    <!--الخصم-->
                    <!--خصم قيمة-->
                    <td ng-hide="billMaster.TotalDisc <= 0"><b>{{item.DISC_VALUE}}</b></td>

                    <!--الصافي-->
                    <!--صافي قيمة-->
                    <td ng-hide="billMaster.TotalDisc <= 0"><b>{{item.GoldAfterDisc}}</b></td>

                    <!--ضريبة القيمة المضافة-->
                    <!--ضريبة نسبة-->

                    <td>
                        <span ng-if="item.IsExemptOfTax == true "><b>معفي</b><br></span>

                        <span ng-if="item.SubjectToVAT == true "><b>{{item.VATRate}}</b><br></span>
                        <span ng-if="item.IsExemptOfTax != true && item.SubjectToVAT != true "><b>غير</b> <br></span>


                    </td>
                    <!--ضريبة قيمة-->
                    <td><b>{{item.VatValue}}</b></td>
                    <!--الاجمالي بعد الضريبة-->
                    <td><b>{{item.TaxTotal}}</b></td>

                </tr>
            </tbody>

            <tfoot>
                <tr style="text-align: center !important; color: red !important">
                    <td colspan="3" style="font-weight:bold !important"><b>المجموع</b></td>

                    <!--العيار-->
                    <td></td>

                    <!--الوزن بالجرام-->
                    <td></td>

                    <!--سعر الجرام ريال-->
                    <td></td>

                    <!--الاجور ريال-->
                    <td>
                        <!--{{footerTotalItemGmWages}}-->
                    </td>

                    <!--قيمه   ريال-->
                    <td><b>{{footerTotalPrice}}</b></td>

                    <!--الخصم-->
                    <!--خصم قيمة-->
                    <td ng-hide="billMaster.TotalDisc <= 0"><b>{{billMaster.TotalDisc}}</b></td>

                    <!--الصافي-->
                    <!--صافي قيمة-->
                    <td ng-hide="billMaster.TotalDisc <= 0"><b>{{footerGoldAfterDisc}}</b></td>


                    <!--ضريبة القيمة المضافة-->
                    <!--ضريبة نسبة-->
                    <td> </td>
                    <!--ضريبة قيمة-->
                    <td><b>{{(footerGoldVat /100).toFixed(2)}}</b></td>

                    <!--الاجمالي بعد الضريبة-->
                    <td><b>{{billMaster.totalMustPaid}}</b></td>
                </tr>
            </tfoot>

        </table>


        <p><span style="font-weight:bold !important; border-bottom: 1px solid ">اجماليات الفاتورة</span></p>

        <table>
            <tr>
                <td>{{billMaster.totalMustPaid}}</td>
                <td><b>ريــــال</b></td>
                <td>{{ReportData.totalMustPaidTafqeet}}</td>
            </tr>

            <tr ng-hide="billMaster.total24Quantity <= 0">
                <td>{{billMaster.total24Quantity}}</td>
                <td>جرام 24</td>
                <td>{{ReportData.Total24Tafqeet}}</td>
            </tr>
            <tr ng-hide="billMaster.total22Quantity <= 0">
                <td>{{billMaster.total22Quantity}}</td>
                <td>جرام 22</td>
                <td>{{ReportData.Total22Tafqeet}}</td>
            </tr>
            <tr ng-hide="billMaster.total21Quantity <= 0">
                <td>{{billMaster.total21Quantity}}</td>
                <td>جرام 21</td>
                <td>{{ReportData.Total21Tafqeet}}</td>
            </tr>
            <tr ng-hide="billMaster.total18Quantity <= 0">
                <td>{{billMaster.total18Quantity}}</td>
                <td>جرام 18</td>
                <td>{{ReportData.Total18Tafqeet}}</td>
            </tr>
        </table>


        <table>
            <tr>
                <td rowspan="2" colspan="{{payTypesList.length + 1}}"><b>طريقة السداد</b></td>
                <td style="font-weight:bold !important"><b>البيان</b></td>
                <td ng-repeat="item in payTypesList track by $index " style="font-weight:bold !important">
                    {{item.PAY_TYPE_AR_NAME || '0' }}
                </td>
            </tr>
            <tr>
                <td style="font-weight:bold !important"><b>القيمة</b></td>
                <td ng-repeat="item in payTypesList track by $index ">{{ item.PayTypeValue || '0' }}</td>
            </tr>
        </table>

        <div ng-if="PrintEntryDetailsWithBill">
            <div style="text-align:center;font-weight:bold;">
                <h4 style="border-bottom:1px solid;display: inline-block"><b>تفاصيل القيد</b></h4>
            </div>
            <h3 style="border-bottom:1px solid;display: inline-block"><b>مدين</b></h3>
            <table>
                <tr class="success" style="font-weight: bold !important">
                    <td>#</td>
                    <td>كود</td>
                    <td>الحساب الرئيسى</td>
                    <td>الحساب</td>
                    <td>مدين</td>
                    <td>مدين 24</td>
                    <td>مدين 22</td>
                    <td>مدين 21</td>
                    <td>مدين 18</td>
                </tr>
                <tr ng-repeat="item in DebitEntries | filter : {ACC_ID : ''} track by $index ">
                    <td>{{ $index+1 }}</td>
                    <td>{{ item.ACC_CODE || '' }}</td>
                    <td>{{ item.Parent_ACC_AR_NAME || '' }}</td>
                    <td>{{ item.ACC_AR_NAME || '' }}</td>
                    <td>{{ item.ENTRY_DEBIT || 0 }}</td>
                    <td>{{ item.ENTRY_GOLD24_DEBIT || 0 }}</td>
                    <td>{{ item.ENTRY_GOLD22_DEBIT || 0 }}</td>
                    <td>{{ item.ENTRY_GOLD21_DEBIT || 0 }}</td>
                    <td>{{ item.ENTRY_GOLD18_DEBIT || 0 }}</td>
                </tr>
            </table>

            <h3 style="border-bottom:1px solid;display: inline-block"><b>دائن</b></h3>
            <table>
                <tr class="success" style="font-weight: bold !important">
                    <td>#</td>
                    <td>كود</td>
                    <td>الحساب الرئيسى</td>
                    <td>الحساب</td>
                    <td>دائن</td>
                    <td>دائن 24</td>
                    <td>دائن 22</td>
                    <td>دائن 21</td>
                    <td>دائن 18</td>
                </tr>
                <tr ng-repeat="item in CreditEntries | filter : {ACC_ID : ''} track by $index ">
                    <td>{{ $index+1 }}</td>
                    <td>{{ item.ACC_CODE || '' }}</td>
                    <td>{{ item.Parent_ACC_AR_NAME || '' }}</td>
                    <td>{{ item.ACC_AR_NAME || '' }}</td>
                    <td>{{ item.ENTRY_CREDIT || 0 }}</td>
                    <td>{{ item.ENTRY_GOLD24_CREDIT || 0 }}</td>
                    <td>{{ item.ENTRY_GOLD22_CREDIT || 0 }}</td>
                    <td>{{ item.ENTRY_GOLD21_CREDIT || 0 }}</td>
                    <td>{{ item.ENTRY_GOLD18_CREDIT || 0 }}</td>
                </tr>
            </table>
        </div>

        <table cellspacing="10" style="margin:15px 0; border:none !important">
            <tr style=" border none !important">
                <td style="width:33.333%;text-align: center !important; margin: 10px">
                    <p style="margin-bottom:20px;text-align: center !important"><b>استلمت البضاعة سليمة وخالية من العيوب</b></p>
                    <p style="margin-bottom:20px;text-align: center !important">
                        <b>
                            {{
	ReportData.custAccountName !=
								null?ReportData.custAccountName : billMaster.DeliveryPersonName
                            }}
                        </b>
                    </p>

                </td>
                <td style="width:33.333%;text-align: center; ">
                    <p style="text-align: center !important"><b>امين الصندوق </b></p>
                    <p>&nbsp;</p>
                </td>
                <td style="width:33.333%;text-align: center; ">
                    <p style="text-align: center !important"><b>المدير المسئول </b></p>
                    <p>&nbsp;</p>
                </td>
            </tr>
        </table>

    </div>

    <div id="fatoraFooter" style="bottom: 0; left:0;right:0;">
        <table cellspacing="10" style="margin:15px 0 0">
            <tr>
                <td style="border: 1px solid !important">
                    {{ReportData.ReportBranchName}} - {{ReportData.CompanyARName}} - هاتف
                    {{ReportData.COMPANY_TELEPHONE}} - س.ت: {{ReportData.CommercialRegister}}
                </td>
            </tr>
        </table>
    </div>

</div>
<!--/.نهاية طباعة فاتورة بيع -->

<!-- طباعة فاتورة شراء -->
<div id="PurchBillReport" class="printSection">
    <div class="fatoraHeader">
        <table border="0" style="margin: 0 !important">
            <tr style="border: none; width: 35%">
                <td style="border: none">
                    <img style="max-width:100% !important; margin-right: -5px" src="../../../../Content/assets/images/companyName-Ar.png" />
                    <p style="margin: 0 !important">الفرع : <b>{{ReportData.ReportBranchName}} </b></p>
                    <p style="margin-bottom: 5px !important">الرقم الضريبي : {{ReportData.CompanyTaxNumber}}</p>
                    <p style="margin-bottom: 0 !important">{{ReportData.ReportEnDate}}</p>
                    <p style="margin-bottom: 0 !important">الموافق {{ReportData.ReportHigriDate}}</p>
                </td>

                <td style="border: none;text-align: center;width: 30%">
                    <img style="max-width:40% !important; margin: -50px auto 10px !important" src="../../../../Content/assets/images/LOGO.JPG" />
                    <h1 style="margin: -20px auto 0 !important">فاتورة شراء</h1>
                    <p style="color: red !important; font-size: 22px !important; font-weight: bold !important">رقم ({{billMaster.BILL_NUMBER}}) </p>
                </td>

                <td style="border: none; text-align:left; width: 35%">
                    <img style="max-width:90% !important" src="../../../../Content/assets/images/companyName-En.png" />
                    <p style="margin: 0 !important">Branch : <b>{{ReportData.ReportBranchEnName}} </b></p>
                    <p style="margin-bottom: 5px !important">VAT No. :{{ReportData.CompanyTaxNumber}}</p>
                    <p style="margin-bottom: 0 !important">&nbsp;</p>
                    <p style="margin-bottom: 0 !important">&nbsp;</p>
                </td>
            </tr>
        </table>

        <table style="margin: 0 !important">
            <tr>
                <td style="border: none; text-align:right">
                    <p style="margin-bottom: 0 !important">
                        <b>مشترى من الساده / {{ReportData.custAccountName != null?ReportData.custAccountName : billMaster.DeliveryPersonName}}</b>
                    </p>
                    <p style="margin-bottom: 0 !important"><b>مناوله </b>/ {{billMaster.DeliveryPersonName}}</p>
                </td>
                <td style="border: none; text-align:left">
                    <p><b>رقم حساب</b> / {{ReportData.custAccountNumber}}</p>
                    <p> <b>الرقم الضريبي للعميل</b> / {{ReportData.customerTaxNumber}}</p>
                </td>
            </tr>
        </table>
    </div>

    <div class="fatoora-body">

        <table style="margin:0 !important">

            <thead>
                <tr style="text-align: center !important">
                    <td rowspan="2" style="width: 20px !important; padding: 0 !important"> <b>كود</b> </td>

                    <td rowspan="2" colspan="2" style="width: 200px !important"><b style="width: 200px !important"> اسم الصنف</b></td>

                    <td rowspan="2" style="width: 20px !important; padding: 0 !important"><b>العدد</b></td>

                    <td rowspan="2" style="width: 10px !important; padding: 0 !important"><b>العيار</b></td>

                    <td rowspan="2"><b>الوزن بالجرام</b></td>

                    <td rowspan="2"><b>سعر الجرام ريال</b></td>

                    <td rowspan="2"><b>القيمه ريال</b></td>

                    <td rowspan="2" ng-hide="billMaster.TotalDisc <= 0"><b>الخصم ريال</b></td>

                    <td rowspan="2" ng-hide="billMaster.TotalDisc <= 0"><b>الصافي ريال</b></td>

                    <td colspan="2"><b>ضريبة القيمة المضافة</b></td>

                    <td rowspan="2"><b>الاجمالي بعد الضريبة</b></td>
                </tr>
                <tr style="text-align: center !important">
                    <td style="width: 20px !important; padding: 0 !important"><b>النسبة</b></td>
                    <td><b>قيمة</b></td>
                </tr>

            </thead>

            <tbody>
                <tr ng-repeat="item in selectedItems track by $index" ng-if="!$last" style="text-align: center !important">

                    <!--كود-->
                    <td row><b>{{$index + 1}}</b></td>

                    <!--اسم الصنف-->
                    <td colspan="2"><b>{{item.ITEM_AR_NAME}}</b></td>

                    <!-- العدد -->
                    <td><b>{{item.Quantity}}</b></td>

                    <!--العيار-->
                    <td><b>{{item.ARName}}</b></td>

                    <!--الوزن بالجرام-->
                    <td><b>{{item.ItemWeight}}</b></td>

                    <!--اجرة بالجرام-->
                    <!--<td>{{item.ItemWeight}}</td>-->
                    <!--سعر الجرام ريال-->
                    <td><b>{{item.GmPrice}}</b></td>

                    <!--الاجور ريال-->
                    <!--<td>{{item.TotalItemGmWages}}</td>-->
                    <!--قيمه   ريال-->
                    <td><b>{{item.Price}}</b></td>

                    <!--الخصم-->
                    <!--خصم قيمة-->
                    <td ng-hide="billMaster.TotalDisc <= 0"><b>{{item.DISC_VALUE}}</b></td>

                    <!--الصافي-->
                    <!--صافي قيمة-->
                    <td ng-hide="billMaster.TotalDisc <= 0"><b>{{item.GoldAfterDisc}}</b></td>

                    <!--ضريبة القيمة المضافة-->
                    <!--ضريبة نسبة-->

                    <td>
                        <span ng-if="item.IsExemptOfTax == true "><b>معفي</b><br></span>
                        <span ng-if="item.SubjectToVAT == true "><b>{{item.VATRate}}</b><br></span>
                        <span ng-if="item.IsExemptOfTax != true && item.SubjectToVAT != true "><b>غير</b> <br></span>


                    </td>
                    <!--ضريبة قيمة-->
                    <td><b>{{item.VatValue}}</b></td>

                    <!--الاجمالي بعد الضريبة-->
                    <td><b>{{item.TaxTotal}}</b></td>

                </tr>
            </tbody>

            <tfoot>
                <tr style="text-align: center !important; color: red !important">
                    <td colspan="3" style="font-weight:bold !important"><b>المجموع</b></td>

                    <!--العيار-->
                    <td></td>

                    <!--الوزن بالجرام-->
                    <td></td>

                    <!--سعر الجرام ريال-->
                    <td></td>

                    <!--الاجور ريال-->
                    <td><b>{{footerTotalItemGmWages}}</b></td>

                    <!--قيمه   ريال-->
                    <td><b>{{footerTotalPrice}}</b></td>

                    <!--الخصم-->
                    <!--خصم قيمة-->
                    <td ng-hide="billMaster.TotalDisc <= 0"><b>{{billMaster.TotalDisc}}</b></td>

                    <!--الصافي-->
                    <!--صافي قيمة-->
                    <td ng-hide="billMaster.TotalDisc <= 0"><b>{{footerGoldAfterDisc}}</b></td>


                    <!--ضريبة القيمة المضافة-->
                    <!--ضريبة نسبة-->
                    <td> </td>
                    <!--ضريبة قيمة-->
                    <td><b>{{footerGoldAfterDisc}}</b></td>

                    <!--الاجمالي بعد الضريبة-->
                    <td><b>{{footerTaxTotal}}</b></td>
                </tr>
            </tfoot>

        </table>

        <p><span style="font-weight:bold !important; border-bottom: 1px solid ">اجماليات الفاتورة</span></p>
        <table>
            <tr>
                <td>{{billMaster.totalMustPaid}}</td>
                <td>ريــــال</td>
                <td>{{ReportData.totalMustPaidTafqeet}}</td>
            </tr>


            <tr ng-hide="billMaster.total24Quantity <= 0">
                <td>{{billMaster.total24Quantity}}</td>
                <td>جرام 24</td>
                <td>{{ReportData.Total24Tafqeet}}</td>
            </tr>
            <tr ng-hide="billMaster.total22Quantity <= 0">
                <td>{{billMaster.total22Quantity}}</td>
                <td>جرام 22</td>
                <td>{{ReportData.Total22Tafqeet}}</td>
            </tr>
            <tr ng-hide="billMaster.total21Quantity <= 0">
                <td>{{billMaster.total21Quantity}}</td>
                <td>جرام 21</td>
                <td>{{ReportData.Total21Tafqeet}}</td>
            </tr>
            <tr ng-hide="billMaster.total18Quantity <= 0">
                <td>{{billMaster.total18Quantity}}</td>
                <td>جرام 18</td>
                <td>{{ReportData.Total18Tafqeet}}</td>
            </tr>

        </table>

        <div ng-if="PrintEntryDetailsWithBill">
            <div style="text-align:center;font-weight:bold;">
                <h4 style="border-bottom:1px solid;display: inline-block">تفاصيل القيد</h4>
            </div>
            <h3 style="border-bottom:1px solid;display: inline-block">مدين</h3>
            <table>
                <tr class="success" style="font-weight: bold">
                    <td>#</td>
                    <td>كود</td>
                    <td>الحساب الرئيسى</td>
                    <td>الحساب</td>
                    <td>مدين</td>
                    <td>مدين 24</td>
                    <td>مدين 22</td>
                    <td>مدين 21</td>
                    <td>مدين 18</td>
                </tr>
                <tr ng-repeat="item in DebitEntries | filter : {ACC_ID : ''} track by $index ">
                    <td>{{ $index+1 }}</td>
                    <td>{{ item.ACC_CODE || '' }}</td>
                    <td>{{ item.Parent_ACC_AR_NAME || '' }}</td>
                    <td>{{ item.ACC_AR_NAME || '' }}</td>
                    <td>{{ item.ENTRY_DEBIT || 0 }}</td>
                    <td>{{ item.ENTRY_GOLD24_DEBIT || 0 }}</td>
                    <td>{{ item.ENTRY_GOLD22_DEBIT || 0 }}</td>
                    <td>{{ item.ENTRY_GOLD21_DEBIT || 0 }}</td>
                    <td>{{ item.ENTRY_GOLD18_DEBIT || 0 }}</td>
                </tr>
            </table>

            <h3 style="border-bottom:1px solid;display: inline-block">دائن</h3>
            <table>
                <tr class="success" style="font-weight: bold">
                    <td>#</td>
                    <td>كود</td>
                    <td>الحساب الرئيسى</td>
                    <td>الحساب</td>
                    <td>دائن</td>
                    <td>دائن 24</td>
                    <td>دائن 22</td>
                    <td>دائن 21</td>
                    <td>دائن 18</td>
                </tr>
                <tr ng-repeat="item in CreditEntries | filter : {ACC_ID : ''} track by $index ">
                    <td>{{ $index+1 }}</td>
                    <td>{{ item.ACC_CODE || '' }}</td>
                    <td>{{ item.Parent_ACC_AR_NAME || '' }}</td>
                    <td>{{ item.ACC_AR_NAME || '' }}</td>
                    <td>{{ item.ENTRY_CREDIT || 0 }}</td>
                    <td>{{ item.ENTRY_GOLD24_CREDIT || 0 }}</td>
                    <td>{{ item.ENTRY_GOLD22_CREDIT || 0 }}</td>
                    <td>{{ item.ENTRY_GOLD21_CREDIT || 0 }}</td>
                    <td>{{ item.ENTRY_GOLD18_CREDIT || 0 }}</td>
                </tr>
            </table>
        </div>

        <table cellspacing="10" style="margin:30px 0">
            <tr>
                <td style="width:33.333%;text-align: center; ">
                    <p><b>البائع</b></p>
                    <p>{{billMaster.DeliveryPersonName}}</p>
                </td>
                <td style="width:33.333%;text-align: center; ">
                    <p><b>امين الصندوق </b></p>
                    <p></p>

                </td>
                <td style="width:33.333%;text-align: center; ">
                    <p><b>المدير المسئول </b></p>
                    <p></p>
                </td>
            </tr>
        </table>
    </div>

    <div id="fatoraFooter" style="bottom: 0; left:0;right:0;">
        <table>
            <tr>
                <td style="border: 1px solid !important">
                    {{ReportData.ReportBranchName}} - {{ReportData.CompanyARName}} - هاتف
                    {{ReportData.COMPANY_TELEPHONE}} - س.ت: {{ReportData.CommercialRegister}}
                </td>
            </tr>
        </table>
    </div>

</div>
<!--/.نهاية طباعة فاتورة شراء -->

<!-- طباعة قبض مشغولات ( ذهب وأجور)  -->
<div id="CashGold" class="printSection">
    <div class="fatoraHeader">
        <table border="0">
            <tr style="border: none">

                <td style="border: none; width: 35%">
                    <img style="max-width:100% !important;margin-right: -5px" src="../../../../Content/assets/images/companyName-Ar.png" />
                    <p style="margin: 0 !important"> الفرع : <b>{{ReportData.ReportBranchName}} </b></p>
                    <p style="margin-bottom: 5px !important">الرقم الضريبي : {{ReportData.CompanyTaxNumber}}</p>
                    <p style="margin: 0 !important">{{ReportData.ReportEnDate}}</p>
                    <p style="margin: 0 !important">الموافق {{ReportData.ReportHigriDate}}</p>
                </td>

                <td style="border: none;text-align: center;width: 30%">
                    <img style="max-width:40% !important; margin: -50px auto 10px !important" src="../../../../Content/assets/images/LOGO.JPG" />
                    <h1 style="margin: -20px auto 0 !important">قبض مشغولات</h1>
                    <p style="color: red !important; font-size: 22px !important; font-weight: bold !important"><span style="color: #000 !important; margin: 0 5px !important">ذهب و أجور </span> رقم ({{billMaster.BILL_NUMBER}})</p>
                </td>

                <td style="border: none; text-align:left; width: 35%">
                    <img style="max-width:100% !important" src="../../../../Content/assets/images/companyName-En.png" />
                    <p style="margin: 0 !important">Branch : <b>{{ReportData.ReportBranchEnName}} </b></p>
                    <p style="margin-bottom: 5px !important">VAT No. :{{ReportData.CompanyTaxNumber}}</p>
                    <p style="margin: 0 !important">&nbsp;</p>
                    <p style="margin: 0 !important">&nbsp;</p>
                </td>

            </tr>

        </table>

        <table style="margin: 0 !important">
            <tr>
                <td style="border: none; text-align:right">
                    <p style="margin: 0 !important; font-weight: bold !important">
                        مستلم من الساده / {{	ReportData.custAccountName != null?ReportData.custAccountName : illMaster.DeliveryPersonName }}
                    </p>
                    <p style="margin: 0 !important"> مناوله / {{billMaster.DeliveryPersonName}}</p>
                </td>
                <td style="border: none; text-align:left">
                    <p style="margin: 0 !important"> رقم حساب / {{ReportData.custAccountNumber}}</p>
                    <p>الرقم الضريبي للعميل / {{ReportData.customerTaxNumber}}</p>
                </td>
            </tr>
        </table>
    </div>

    <div class="fatoora-body">

        <table style="margin:0 !important">
            <thead>
                <tr style="text-align: center !important">
                    <td rowspan="2" style="width: 20px !important; padding: 0 !important"> <b>كود</b> </td>

                    <td rowspan="2" colspan="2" style="width: 200px !important"><b style="width: 200px !important"> اسم الصنف</b></td>

                    <td rowspan="2" style="width: 20px !important; padding: 0 !important"><b>العدد</b></td>

                    <td rowspan="2" style="width: 20px !important; padding: 0 !important"><b>العيار</b></td>

                    <td rowspan="2"><b>الوزن بالجرام</b></td>

                    <td rowspan="2"><b>اجرة الجرام ريال</b></td>

                    <td rowspan="2"><b>القيمه ريال</b></td>

                    <td rowspan="2" ng-hide="billMaster.TotalWagesDiscValue <= 0"><b>الخصم ريال</b></td>

                    <td rowspan="2" ng-hide="billMaster.TotalWagesDiscValue <= 0"><b>الصافي ريال</b></td>

                    <td colspan="2"><b>ضريبة القيمة المضافة</b></td>

                    <td rowspan="2"><b>الاجمالي بعد الضريبة</b></td>
                </tr>
                <tr style="text-align: center !important">
                    <td style="width: 20px !important; padding: 0 !important"><b>النسبة</b></td>
                    <td><b>قيمة</b></td>
                </tr>

            </thead>
            <tbody>
                <tr ng-repeat="item in selectedItems track by $index" ng-if="!$last" style="text-align: center !important">

                    <!--كود-->
                    <td row><b>{{$index + 1}}</b></td>

                    <!--اسم الصنف-->
                    <td colspan="2"><b>{{item.ITEM_AR_NAME}}</b></td>

                    <!-- العدد -->
                    <td><b>{{item.Quantity}}</b></td>

                    <!--العيار-->
                    <td><b>{{item.ARName}}</b></td>

                    <!--الوزن بالجرام-->
                    <td><b>{{item.ItemWeight}}</b></td>

                    <!--اجرة بالجرام-->
                    <!--<td>{{item.itemGmWages}}</td>-->
                    <!--سعر الجرام ريال-->
                    <td><b>{{item.itemGmWages}}</b></td>

                    <!--الاجور ريال-->
                    <!--<td>{{item.TotalItemGmWages}}</td>-->
                    <!--قيمه   ريال-->
                    <td><b>{{item.TotalItemGmWages}}</b></td>

                    <!--الخصم-->
                    <!--خصم قيمة-->
                    <td ng-hide="billMaster.TotalWagesDiscValue <= 0"><b>{{item.WagesDiscValue}}</b></td>

                    <!--الصافي-->
                    <!--صافي قيمة-->
                    <td ng-hide="billMaster.TotalWagesDiscValue <= 0"><b>{{item.WagesAfterDisc}}</b></td>

                    <!--ضريبة القيمة المضافة-->
                    <!--ضريبة نسبة-->
                    <td>
                        <span ng-if="item.IsExemptOfTax == true "><b>معفي</b><br></span>

                        <span ng-if="item.SubjectToVAT == true "><b>{{item.VATRate}}</b><br></span>

                        <span ng-if="item.IsExemptOfTax != true && item.SubjectToVAT != true "><b>غير</b><br></span>


                    </td>
                    <!--ضريبة قيمة-->


                    <td>


                        <span ng-if="item.SubjectToVAT == true ">{{(item.WagesVat / 100).toFixed(2)}}<br></span>

                        <span ng-if="item.IsExemptOfTax != true && item.SubjectToVAT != true ">0<br></span>


                    </td>




                    <!--الاجمالي بعد الضريبة-->
                    <td>{{item.TaxTotal}}</td>

                </tr>
            </tbody>
            <tfoot>
                <tr style="text-align: center !important; color: red !important">
                    <td colspan="3" style="font-weight:bold !important"><b>المجموع</b></td>

                    <!--العيار-->
                    <td></td>

                    <!--الوزن بالجرام-->
                    <td></td>

                    <!--سعر الجرام ريال-->
                    <td></td>



                    <!--الاجور ريال-->
                    <td></td>

                    <!--قيمه   ريال-->
                    <td><b>{{footerTotalItemGmWages}}</b></td>

                    <!--الخصم-->
                    <!--خصم قيمة-->
                    <td ng-hide="billMaster.TotalWagesDiscValue <= 0"><b>{{billMaster.TotalWagesDiscValue}}</b></td>

                    <!--الصافي-->
                    <!--صافي قيمة-->
                    <td ng-hide="billMaster.TotalWagesDiscValue <= 0"><b>{{footerWagesAfterDisc}}</b></td>


                    <!--ضريبة القيمة المضافة-->
                    <!--ضريبة نسبة-->
                    <td> </td>
                    <!--ضريبة قيمة-->
                    <td><b>{{(footerWagesVat / 100).toFixed(2)}}</b></td>

                    <!--الاجمالي بعد الضريبة-->
                    <!--<td>{{billMaster.TotalMainVat*1  +  billMaster.TotalZeroVat*1 + billMaster.TotalExemptOfTax*1 + billMaster.TotalBeforeTax*1}}</td>-->
                    <td><b>{{billMaster.totalMustPaid}}</b></td>
                </tr>
            </tfoot>
        </table>

        <p style="margin-bottom: 5px !important">
            <span style="font-weight:bold !important; border-bottom: 1px solid ">اجماليات الفاتورة </span>
        </p>
        <table style="margin-top: 0 !important">
            <tr>
                <td>{{billMaster.totalMustPaid}}</td>
                <td>
                    <!--{{ReportData.CURRENCY_Name}}--> ريال
                </td>
                <td>{{ReportData.totalMustPaidTafqeet}}</td>
            </tr>

            <tr ng-hide="billMaster.total24Quantity <= 0">
                <td>{{billMaster.total24Quantity}}</td>
                <td>جرام 24</td>
                <td>{{ReportData.Total24Tafqeet}}</td>
            </tr>
            <tr ng-hide="billMaster.total22Quantity <= 0">
                <td>{{billMaster.total22Quantity}}</td>
                <td>جرام 22</td>
                <td>{{ReportData.Total22Tafqeet}}</td>
            </tr>
            <tr ng-hide="billMaster.total21Quantity <= 0">
                <td>{{billMaster.total21Quantity}}</td>
                <td>جرام 21</td>
                <td>{{ReportData.Total21Tafqeet}}</td>
            </tr>
            <tr ng-hide="billMaster.total18Quantity <= 0">
                <td>{{billMaster.total18Quantity}}</td>
                <td>جرام 18</td>
                <td>{{ReportData.Total18Tafqeet}}</td>
            </tr>
        </table>

        <div style="border: 1px solid ; padding:10px ; margin: 5px 0">
            <p><b>البيان</b></p> {{billMaster.BILL_REMARKS}}
        </div>

        <div ng-if="PrintEntryDetailsWithBill">
            <div style="text-align:center;font-weight:bold;">
                <h4 style="border-bottom:1px solid;display: inline-block">تفاصيل القيد</h4>
            </div>
            <h3 style="border-bottom:1px solid;display: inline-block">مدين</h3>
            <table>
                <tr class="success" style="font-weight: bold">
                    <td>#</td>
                    <td>كود</td>
                    <td>الحساب الرئيسى</td>
                    <td>الحساب</td>
                    <td>مدين</td>
                    <td>مدين 24</td>
                    <td>مدين 22</td>
                    <td>مدين 21</td>
                    <td>مدين 18</td>
                </tr>
                <tr ng-repeat="item in DebitEntries | filter : {ACC_ID : ''} track by $index ">
                    <td>{{ $index+1 }}</td>
                    <td>{{ item.ACC_CODE || '' }}</td>
                    <td>{{ item.Parent_ACC_AR_NAME || '' }}</td>
                    <td>{{ item.ACC_AR_NAME || '' }}</td>
                    <td>{{ item.ENTRY_DEBIT || 0 }}</td>
                    <td>{{ item.ENTRY_GOLD24_DEBIT || 0 }}</td>
                    <td>{{ item.ENTRY_GOLD22_DEBIT || 0 }}</td>
                    <td>{{ item.ENTRY_GOLD21_DEBIT || 0 }}</td>
                    <td>{{ item.ENTRY_GOLD18_DEBIT || 0 }}</td>
                </tr>
            </table>

            <h3 style="border-bottom:1px solid;display: inline-block">دائن</h3>
            <table>
                <tr class="success" style="font-weight: bold">
                    <td>#</td>
                    <td>كود</td>
                    <td>الحساب الرئيسى</td>
                    <td>الحساب</td>
                    <td>دائن</td>
                    <td>دائن 24</td>
                    <td>دائن 22</td>
                    <td>دائن 21</td>
                    <td>دائن 18</td>
                </tr>
                <tr ng-repeat="item in CreditEntries | filter : {ACC_ID : ''} track by $index ">
                    <td>{{ $index+1 }}</td>
                    <td>{{ item.ACC_CODE || '' }}</td>
                    <td>{{ item.Parent_ACC_AR_NAME || '' }}</td>
                    <td>{{ item.ACC_AR_NAME || '' }}</td>
                    <td>{{ item.ENTRY_CREDIT || 0 }}</td>
                    <td>{{ item.ENTRY_GOLD24_CREDIT || 0 }}</td>
                    <td>{{ item.ENTRY_GOLD22_CREDIT || 0 }}</td>
                    <td>{{ item.ENTRY_GOLD21_CREDIT || 0 }}</td>
                    <td>{{ item.ENTRY_GOLD18_CREDIT || 0 }}</td>
                </tr>
            </table>
        </div>

        <table cellspacing="10" style="margin:10px 0">
            <tr style="height: 50px">
                <td style="width:33.333%;text-align: center; ">
                    <p style="margin-bottom:30px"><b>البائع</b></p>
                    <p>{{ReportData.custAccountName != null?ReportData.custAccountName : illMaster.DeliveryPersonName}}</p>
                </td>
                <td style="width:33.333%;text-align: center; ">
                    <p style="margin-bottom:30px;text-align: center"><b>امين الصندوق </b></p>
                    <p>&nbsp;</p>
                </td>
                <td style="width:33.333%;text-align: center; ">
                    <p style="margin-bottom:30px; text-align: center"><b>المدير المسؤول </b></p>
                    <p style="margin-bottom:30px; text-align: center">&nbsp;</p>
                </td>
            </tr>
        </table>

    </div>

    <div id="fatoraFooter" style="bottom: 0; left:0;right:0;">
        <table>
            <tr>
                <td style="border: 1px solid !important">
                    {{ReportData.ReportBranchName}} - {{ReportData.CompanyARName}} - هاتف {{ReportData.COMPANY_TELEPHONE}} - س.ت:
                    {{ReportData.CommercialRegister}}
                </td>
            </tr>
        </table>
    </div>

</div>
<!--/.نهاية طباعة قبض مشغولات ( ذهب وأجور) -->

<!-- طباعة مرجع مشغولات ( ذهب وأجور)  -->
<div id="ExchangeGold" class="printSection">

    <div class="fatoraHeader">
        <table border="0">
            <tr style="border: none">
                <td style="border: none; width: 35%">
                    <img style="max-width:100% !important;margin-right: -5px" src="../../../../Content/assets/images/companyName-Ar.png" />

                    <p style="margin: 0 !important">الفرع : <b>{{ReportData.ReportBranchName}} </b></p>
                    <p style="margin-bottom: 5px !important">(الرقم الضريبي : {{ReportData.CompanyTaxNumber}})</p>
                    <p style="margin: 0 !important">{{ReportData.ReportEnDate}}</p>
                    <p style="margin: 0 !important">الموافق {{ReportData.ReportHigriDate}}</p>
                </td>
                <td style="border: none;text-align: center;width: 30%">

                    <img style="max-width:40% !important; margin: -50px auto 10px !important" src="../../../../Content/assets/images/LOGO.JPG" />
                    <h1 style="margin: -20px auto 0 !important">مرجع مشغولات</h1>
                    <span style="color: #000 !important; margin: 0 5px !important">(ذهب وأجور)</span>
                    <p style="color: red !important; font-size: 22px !important; font-weight: bold !important">رقم ({{billMaster.BILL_NUMBER}})</p>
                </td>
                <td style="border: none; text-align:left; width: 35%">
                    <img style="max-width:100% !important" src="../../../../Content/assets/images/companyName-En.png" />
                    <p style="margin: 0 !important">Branch : <b>{{ReportData.ReportBranchEnName}} </b></p>
                    <p style="margin-bottom: 5px !important">VAT No. :{{ReportData.CompanyTaxNumber}}</p>
                    <p style="margin: 0 !important">&nbsp;</p>
                    <p style="margin: 0 !important">&nbsp;</p>

                </td>
            </tr>
        </table>

        <table style="margin: 0 !important">
            <tr>
                <td style="border: none; text-align:right">
                    <p style="margin: 0 !important">
                        <b>مشغولات مرجعه الي الساده / {{ReportData.custAccountName !=null?ReportData.custAccountName : billMaster.DeliveryPersonName}} </b>
                    </p>
                    <p style="margin: 0 !important"><b> مناوله / {{billMaster.DeliveryPersonName}} </b></p>
                </td>

                <td style="border: none; text-align:left">
                    <p style="margin: 0 !important"> رقم حساب / {{ReportData.custAccountNumber}}</p>
                    <p>الرقم الضريبي للعميل/ {{ReportData.customerTaxNumber}}</p>
                </td>
            </tr>
        </table>
    </div>

    <div class="fatoora-body">

        <table style="margin:0 !important">

            <thead>
                <tr style="text-align: center !important">
                    <td rowspan="2" style="width: 20px !important"><b>كود</b> </td>

                    <td rowspan="2" colspan="2" style="width: 200px !important"><b style="width: 200px !important"> اسم الصنف</b></td>

                    <td rowspan="2" style="width: 20px !important"><b>العدد</b></td>

                    <td rowspan="2" style="width: 20px !important"><b>العيار</b></td>

                    <td rowspan="2"><b>الوزن بالجرام</b></td>

                    <td rowspan="2"><b>اجرة الجرام ريال</b></td>

                    <td rowspan="2"><b>القيمه ريال</b></td>

                    <td rowspan="2" ng-hide="billMaster.TotalWagesDiscValue <= 0"><b>الخصم ريال</b></td>

                    <td rowspan="2" ng-hide="billMaster.TotalWagesDiscValue <= 0"><b>الصافي ريال</b></td>

                    <td colspan="2"><b>ضريبة القيمة المضافة</b></td>

                    <td rowspan="2"><b>الاجمالي بعد الضريبة</b></td>
                </tr>
                <tr style="text-align: center !important">
                    <td style="width: 20px !important"><b>النسبة</b></td>
                    <td><b>قيمة</b></td>
                </tr>

            </thead>

            <tbody>
                <tr ng-repeat="item in selectedItems track by $index" ng-if="!$last" style="text-align: center !important">

                    <!--كود-->
                    <td row><b>{{$index + 1}}</b></td>

                    <!--اسم الصنف-->
                    <td colspan="2"><b>{{item.ITEM_AR_NAME}}</b></td>

                    <!-- العدد -->
                    <td><b>{{item.Quantity}}</b></td>

                    <!--العيار-->
                    <td><b>{{item.ARName}}</b></td>

                    <!--الوزن بالجرام-->
                    <td>{{item.ItemWeight}}</td>

                    <!--اجرة بالجرام-->
                    <!--<td>{{item.itemGmWages}}</td>-->
                    <!--سعر الجرام ريال-->
                    <td><b>{{item.itemGmWages}}</b></td>

                    <!--الاجور ريال-->
                    <!--<td>{{item.TotalItemGmWages}}</td>-->
                    <!--قيمه   ريال-->
                    <td><b>{{item.TotalItemGmWages}}</b></td>

                    <!--الخصم-->
                    <!--خصم قيمة-->
                    <td ng-hide="billMaster.TotalWagesDiscValue <= 0"><b>{{item.WagesDiscValue}}</b></td>

                    <!--الصافي-->
                    <!--صافي قيمة-->
                    <td ng-hide="billMaster.TotalWagesDiscValue <= 0"><b>{{item.WagesAfterDisc}}</b></td>

                    <!--ضريبة القيمة المضافة-->
                    <!--ضريبة نسبة-->
                    <td>
                        <span ng-if="item.IsExemptOfTax == true "><b>معفي</b><br></span>

                        <span ng-if="item.SubjectToVAT == true "><b>{{item.VATRate}}</b><br></span>
                        <span ng-if="item.IsExemptOfTax != true && item.SubjectToVAT != true "><b>غير</b> <br></span>


                    </td>
                    <!--ضريبة اجور-->
                    <td>
                        <b>{{(((item.WagesVat !=null && item.WagesVat != undefined && item.WagesVat != '') ? item.WagesVat : 0) / 100).toFixed(2)}}</b>
                    </td>
                    <!--ضريبة قيمة-->
                    <!-- <td>{{ (((item.GoldVat !=null &&  item.GoldVat != undefined &&  item.GoldVat != '') ? item.GoldVat : 0) / 100 ).toFixed(2)}}</td>-->
                    <!--الاجمالي بعد الضريبة-->
                    <td><b>{{item.TaxTotal}}</b></td>

                </tr>
            </tbody>

            <tfoot>
                <tr style="text-align: center !important; color: red !important">
                    <td colspan="3" style="font-weight:bold !important"><b>المجموع</b></td>

                    <!--العيار-->
                    <td></td>

                    <!--الوزن بالجرام-->
                    <td></td>

                    <!--سعر الجرام ريال-->
                    <td></td>

                    <!--الاجور ريال-->
                    <td></td>

                    <!--قيمه   ريال-->
                    <td><b>{{footerTotalItemGmWages}}</b></td>

                    <!--الخصم-->
                    <!--خصم قيمة-->
                    <td ng-hide="billMaster.TotalWagesDiscValue <= 0"><b>{{billMaster.TotalWagesDiscValue}}</b></td>

                    <!--الصافي-->
                    <!--صافي قيمة-->
                    <td ng-hide="billMaster.TotalWagesDiscValue <= 0"><b>{{footerWagesAfterDisc}}</b></td>


                    <!--ضريبة القيمة المضافة-->
                    <!--ضريبة نسبة-->
                    <td> </td>
                    <!--ضريبة قيمة-->
                    <td><b>{{(footerWagesVat /100).toFixed(2)}}</b></td>

                    <!--الاجمالي بعد الضريبة-->
                    <!-- <td>{{billMaster.TotalMainVat*1  +  billMaster.TotalZeroVat*1 + billMaster.TotalExemptOfTax*1 + billMaster.TotalBeforeTax*1}}</td>-->
                    <td><b>{{billMaster.totalMustPaid}}</b></td>
                </tr>
            </tfoot>

        </table>

        <table>
            <tr>
                <td colspan="3"><b>اجماليات الفاتورة</b></td>
            </tr>
            <tr>
                <td>{{billMaster.totalMustPaid}}</td>
                <td> <!-- {{ReportData.CURRENCY_Name}} --> ريال</td>
                <td>{{ReportData.totalMustPaidTafqeet}}</td>
            </tr>

            <tr ng-hide="billMaster.total24Quantity <= 0">
                <td>{{billMaster.total24Quantity}}</td>
                <td>جرام 24</td>
                <td>{{ReportData.Total24Tafqeet}}</td>
            </tr>
            <tr ng-hide="billMaster.total22Quantity <= 0">
                <td>{{billMaster.total22Quantity}}</td>
                <td>جرام 22</td>
                <td>{{ReportData.Total22Tafqeet}}</td>
            </tr>
            <tr ng-hide="billMaster.total21Quantity <= 0">
                <td>{{billMaster.total21Quantity}}</td>
                <td>جرام 21</td>
                <td>{{ReportData.Total21Tafqeet}}</td>
            </tr>
            <tr ng-hide="billMaster.total18Quantity <= 0">
                <td>{{billMaster.total18Quantity}}</td>
                <td>جرام 18</td>
                <td>{{ReportData.Total18Tafqeet}}</td>
            </tr>
        </table>

        <div style="border: 1px solid ; padding:10px ; margin: 15px 0">
            <p style="margin: 0 !important"><b>البيان</b></p>
            {{billMaster.BILL_REMARKS}}
        </div>

        <div ng-if="PrintEntryDetailsWithBill">
            <div style="text-align:center;font-weight:bold;">
                <h4 style="border-bottom:1px solid;display: inline-block">تفاصيل القيد</h4>
            </div>
            <h3 style="border-bottom:1px solid;display: inline-block"><b>مدين</b></h3>
            <table>
                <tr class="success" style="font-weight: bold !important">
                    <td>#</td>
                    <td>كود</td>
                    <td>الحساب الرئيسى</td>
                    <td>الحساب</td>
                    <td>مدين</td>
                    <td>مدين 24</td>
                    <td>مدين 22</td>
                    <td>مدين 21</td>
                    <td>مدين 18</td>
                </tr>
                <tr ng-repeat="item in DebitEntries | filter : {ACC_ID : ''} track by $index ">
                    <td>{{ $index+1 }}</td>
                    <td>{{ item.ACC_CODE || '' }}</td>
                    <td>{{ item.Parent_ACC_AR_NAME || '' }}</td>
                    <td>{{ item.ACC_AR_NAME || '' }}</td>
                    <td>{{ item.ENTRY_DEBIT || 0 }}</td>
                    <td>{{ item.ENTRY_GOLD24_DEBIT || 0 }}</td>
                    <td>{{ item.ENTRY_GOLD22_DEBIT || 0 }}</td>
                    <td>{{ item.ENTRY_GOLD21_DEBIT || 0 }}</td>
                    <td>{{ item.ENTRY_GOLD18_DEBIT || 0 }}</td>
                </tr>
            </table>

            <h3 style="border-bottom:1px solid;display: inline-block"><b>دائن</b></h3>
            <table>
                <tr class="success" style="font-weight: bold !important">
                    <td>#</td>
                    <td>كود</td>
                    <td>الحساب الرئيسى</td>
                    <td>الحساب</td>
                    <td>دائن</td>
                    <td>دائن 24</td>
                    <td>دائن 22</td>
                    <td>دائن 21</td>
                    <td>دائن 18</td>
                </tr>
                <tr ng-repeat="item in CreditEntries | filter : {ACC_ID : ''} track by $index ">
                    <td>{{ $index+1 }}</td>
                    <td>{{ item.ACC_CODE || '' }}</td>
                    <td>{{ item.Parent_ACC_AR_NAME || '' }}</td>
                    <td>{{ item.ACC_AR_NAME || '' }}</td>
                    <td>{{ item.ENTRY_CREDIT || 0 }}</td>
                    <td>{{ item.ENTRY_GOLD24_CREDIT || 0 }}</td>
                    <td>{{ item.ENTRY_GOLD22_CREDIT || 0 }}</td>
                    <td>{{ item.ENTRY_GOLD21_CREDIT || 0 }}</td>
                    <td>{{ item.ENTRY_GOLD18_CREDIT || 0 }}</td>
                </tr>
            </table>
        </div>

        <table cellspacing="10" style="margin:15px 0">
            <tr style="height: 50px">

                <td style="width:33.333%;text-align: center; ">
                    <p style="margin-bottom:30px"><b>المستلم</b></p>
                    <p>{{ReportData.custAccountName !=null?ReportData.custAccountName : billMaster.DeliveryPersonName}}</p>
                </td>

                <td style="width:33.333%;text-align: center; ">
                    <p style="margin-bottom:30px"><b>امين الصندوق </b></p>
                </td>

                <td style="width:33.333%;text-align: center; ">
                    <p style="margin-bottom:30px"><b>المدير المسؤول </b></p>
                </td>

            </tr>
        </table>
    </div>

    <div id="fatoraFooter" style="bottom: 0; left:0;right:0">
        <table>
            <tr>
                <td style="border: 1px solid !important">
                    {{ReportData.ReportBranchName}} - {{ReportData.CompanyARName}} - هاتف
                    {{ReportData.COMPANY_TELEPHONE}} - س.ت: {{ReportData.CommercialRegister}}
                </td>
            </tr>
        </table>
    </div>

</div>
<!--/.نهاية طباعة مرجع مشغولات ( ذهب وأجور) -->

<!-- طباعة فاتورة شراء المشغولات (مقفلة بالريال)  -->
<div id="CashGoldPurchases" class="printSection">

    <div class="fatoraHeader" style="border-bottom: 1px solid ">
        <table border="0">
            <tr style="border: none">

                <td style="border: none; width: 35%">
                    <img style="max-width:100% !important;margin-right: -5px" src="../../../../Content/assets/images/companyName-Ar.png" />
                    <p style="margin: 0 !important"><b>{{ReportData.ReportBranchName}} </b></p>
                    <p style="margin: 0 !important">(الرقم الضريبي : {{ReportData.CompanyTaxNumber}})</p>
                    <p style="margin: 0 !important">{{ReportData.ReportEnDate}}</p>
                    <p style="margin: 0 !important">الموافق {{ReportData.ReportHigriDate}}</p>
                </td>

                <td style="border: none;text-align: center;width: 30%">
                    <img style="max-width:40% !important; margin: -50px auto 10px !important" src="../../../../Content/assets/images/LOGO.JPG" />
                    <h2 style="margin: -20px auto 0 !important">فاتورة شراء المشغولات </h2>
                    <p style="color: red !important; font-size: 22px !important; font-weight: bold !important">
                        <span style="color: #000 !important; margin: 0 5px !important">
                            (مقفلة
                            بالريال)
                        </span>رقم({{billMaster.BILL_NUMBER}})
                    </p>
                </td>

                <td style="border: none; text-align:left; width: 35%">
                    <img style="max-width:100% !important" src="../../../../Content/assets/images/companyName-En.png" />
                    <p style="margin: 0 !important"><b>{{ReportData.ReportBranchEnName}} </b></p>
                    <p style="margin: 0 !important">VAT No. :{{ReportData.CompanyTaxNumber}}</p>
                    <p style="margin: 0 !important">&nbsp;</p>
                    <p style="margin: 0 !important">&nbsp;</p>
                </td>

            </tr>
        </table>

        <table style="margin: 0 !important">
            <tr>
                <td style="border: none; text-align:right">
                    <p style="margin: 0 !important"><b>استلمنا من الساده/{{ReportData.custAccountName != null?ReportData.custAccountName: billMaster.DeliveryPersonName}}</b></p>
                    <p style="margin: 0 !important"><b> مناوله / {{billMaster.DeliveryPersonName}} </b></p>
                </td>
                <td style="border: none; text-align:left">
                    <p style="margin: 0 !important"> رقم حساب/ {{ReportData.custAccountNumber}}</p>
                    <p>الرقم الضريبي للعميل/ {{ReportData.customerTaxNumber}}</p>
                </td>
            </tr>
        </table>

    </div>

    <div class="fatoora-body">

        <table style="margin:0 !important">

            <thead>
                <tr style="text-align: center !important">

                    <td rowspan="2"> <b>كود</b> </td>

                    <td rowspan="2" colspan="2" style="width: 200px !important"><b style="width: 200px !important"> اسم الصنف</b></td>

                    <td rowspan="2"><b>العيار</b></td>

                    <!--<td><b>العدد</b></td>-->
                    <td rowspan="2"><b>الوزن بالجرام</b></td>

                    <td rowspan="2"><b>اجرة الجرام</b></td>

                    <td rowspan="2">سعر الجرام ريال</td>

                    <td rowspan="2"><b>الاجور ريال </b></td>

                    <td rowspan="2"><b>قيمه الذهب ريال</b></td>

                    <td colspan="2" ng-hide="billMaster.TotalWagesDiscValue <= 0 &&  billMaster.TotalDisc <= 0"><b>الخصم</b></td>

                    <td colspan="2" ng-hide="billMaster.TotalWagesDiscValue <= 0 &&  billMaster.TotalDisc <= 0"><b>الصافي</b></td>

                    <td colspan="3"><b>ضريبة القيمة المضافة</b></td>

                    <td rowspan="2"><b>الاجمالي بعد الضريبة ريال</b></td>
                </tr>
                <tr style="text-align: center !important">
                    <!--الخصم-->
                    <td ng-hide="billMaster.TotalWagesDiscValue <= 0"><b>اجور</b></td>
                    <td ng-hide="billMaster.TotalDisc <= 0"><b>قيمة</b></td>

                    <!--الصافي-->
                    <td ng-hide="billMaster.TotalWagesDiscValue <= 0"><b>اجور</b></td>
                    <td ng-hide="billMaster.TotalDisc <= 0"><b>قيمة</b></td>

                    <!--ضريبة القيمة المضافة-->
                    <td><b>النسبة</b></td>
                    <td><b>اجور</b></td>
                    <td><b>قيمة</b></td>
                </tr>

            </thead>

            <tbody>
                <tr ng-repeat="item in selectedItems track by $index" ng-if="!$last" style="text-align: center !important">

                    <!--كود-->
                    <td><b>{{index+1}}</b></td>

                    <!--اسم الصنف-->
                    <td colspan="2"><b>{{item.ITEM_AR_NAME}}</b></td>

                    <!--العيار-->
                    <td><b>{{item.ARName}}</b></td>

                    <!--الوزن بالجرام-->
                    <td><b>{{item.ItemWeight}}</b></td>

                    <!--اجرة الجرام-->
                    <td><b>{{item.itemGmWages}}</b></td>

                    <!--اجرة بالجرام-->
                    <td><b>{{item.GmPrice}}</b></td>

                    <!--الاجور ريال-->
                    <td><b>{{item.TotalItemGmWages}}</b></td>

                    <!--قيمه الذهب  ريال-->
                    <td><b>{{item.Price}}</b></td>

                    <!--الخصم-->
                    <!--خصم اجور-->
                    <td ng-hide="billMaster.TotalWagesDiscValue <= 0"><b>{{item.WagesDiscValue}}</b></td>
                    <!--خصم قيمة-->
                    <td ng-hide="billMaster.TotalDisc <= 0"><b>{{item.DISC_VALUE}}</b></td>


                    <!--الصافي-->
                    <!--صافي اجور-->
                    <td ng-hide="billMaster.TotalWagesDiscValue <= 0"><b>{{item.WagesAfterDisc}}</b></td>
                    <!--صافي قيمة-->
                    <td ng-hide="billMaster.TotalDisc <= 0"><b>{{item.GoldAfterDisc}}</b></td>

                    <!--ضريبة القيمة المضافة-->
                    <!--ضريبة نسبة-->
                    <td>
                        <span ng-if="item.IsExemptOfTax == true "><b>معفي</b><br></span>

                        <span ng-if="item.SubjectToVAT == true "><b>{{item.VATRate}}</b><br></span>
                        <span ng-if="item.IsExemptOfTax != true && item.SubjectToVAT != true "><b>غير</b> <br></span>


                    </td>
                    <!--ضريبة اجور-->
                    <td><b>{{(((item.WagesVat !=null && item.WagesVat != undefined && item.WagesVat != '') ? item.WagesVat : 0) / 100).toFixed(2)}}</b></td>
                    <!--ضريبة قيمة-->
                    <td><b>{{(((item.GoldVat !=null && item.GoldVat != undefined && item.GoldVat != '') ? item.GoldVat : 0) / 100).toFixed(2)}}</b></td>

                    <!--الاجمالي بعد الضريبة-->
                    <td><b>{{item.TaxTotal}}</b></td>

                </tr>
            </tbody>

            <tfoot>
                <tr style="text-align: center !important; color: red !important">
                    <td colspan="3" style="font-weight:bold !important"><b>المجموع</b></td>

                    <!--العيار-->
                    <td></td>

                    <!--الوزن بالجرام-->
                    <td></td>

                    <!--اجرة بالجرام-->
                    <td> </td>

                    <!--سعر الجرام ريال-->
                    <td></td>

                    <!--الاجور ريال-->
                    <td><b>{{footerTotalItemGmWages}}</b></td>

                    <!--قيمه الذهب  ريال-->
                    <td><b>{{footerTotalPrice}}</b></td>

                    <!--الخصم-->
                    <!--خصم اجور-->
                    <td ng-hide="billMaster.TotalWagesDiscValue <= 0"><b>{{billMaster.TotalWagesDiscValue}}</b></td>
                    <!--خصم قيمة-->
                    <td ng-hide="billMaster.TotalDisc <= 0"><b>{{billMaster.TotalDisc}}</b></td>

                    <!--الصافي-->
                    <!--صافي اجور-->
                    <td ng-hide="billMaster.TotalWagesDiscValue <= 0"><b>{{footerWagesAfterDisc}}</b></td>
                    <!--صافي قيمة-->
                    <td ng-hide="billMaster.TotalDisc <= 0"><b>{{footerGoldAfterDisc}}</b></td>


                    <!--ضريبة القيمة المضافة-->
                    <!--ضريبة نسبة-->
                    <td> </td>
                    <!--ضريبة اجور-->
                    <td><b>{{(footerWagesVat /100).toFixed(2)}}</b></td>
                    <!--ضريبة قيمة-->
                    <td><b>{{(footerGoldVat /100).toFixed(2)}}</b></td>


                    <!--الاجمالي بعد الضريبة-->
                    <!--<td>{{((calcTotalBillReport(billMaster.totalPrice,footerTotalItemGmWages)) - ( billMaster.TotalWagesDiscValue*1 +  billMaster.TotalDisc*1))+((billMaster.manufacturingWagesMainVat * billMaster.MainVatRate / 100) + footerTotalVatValue*1)}}</td>-->

                    <td><b>{{billMaster.totalMustPaid}}</b></td>
                </tr>
            </tfoot>

        </table>


        <p><span style="font-weight:bold !important; border-bottom: 1px solid "><b>اجماليات الفاتورة</b></span></p>

        <table>
            <tr>
                <td>{{billMaster.totalMustPaid}}</td>
                <td>{{ReportData.CURRENCY_Name}}</td>
                <td>{{ReportData.totalMustPaidTafqeet}}</td>
            </tr>
            <tr ng-hide="billMaster.total24Quantity <= 0">
                <td>{{billMaster.total24Quantity}}</td>
                <td>جرام 24</td>
                <td>{{ReportData.Total24Tafqeet}}</td>
            </tr>
            <tr ng-hide="billMaster.total22Quantity <= 0">
                <td>{{billMaster.total22Quantity}}</td>
                <td>جرام 22</td>
                <td>{{ReportData.Total22Tafqeet}}</td>
            </tr>
            <tr ng-hide="billMaster.total21Quantity <= 0">
                <td>{{billMaster.total21Quantity}}</td>
                <td>جرام 21</td>
                <td>{{ReportData.Total21Tafqeet}}</td>
            </tr>
            <tr ng-hide="billMaster.total18Quantity <= 0">
                <td>{{billMaster.total18Quantity}}</td>
                <td>جرام 18</td>
                <td>{{ReportData.Total18Tafqeet}}</td>
            </tr>
        </table>

        <div style="border: 1px solid ; padding:10px ; margin: 15px 0">
            <p style="margin: 0 !important"><b>البيان</b></p>
            {{billMaster.BILL_REMARKS}}
        </div>

        <div ng-if="PrintEntryDetailsWithBill">
            <div style="text-align:center;font-weight:bold;">
                <h4 style="border-bottom:1px solid;display: inline-block">تفاصيل القيد</h4>
            </div>
            <h3 style="border-bottom:1px solid;display: inline-block">مدين</h3>
            <table>
                <tr class="success" style="font-weight: bold !important">
                    <td>#</td>
                    <td>كود</td>
                    <td>الحساب الرئيسى</td>
                    <td>الحساب</td>
                    <td>مدين</td>
                    <td>مدين 24</td>
                    <td>مدين 22</td>
                    <td>مدين 21</td>
                    <td>مدين 18</td>
                </tr>
                <tr ng-repeat="item in DebitEntries | filter : {ACC_ID : ''} track by $index ">
                    <td>{{ $index+1 }}</td>
                    <td>{{ item.ACC_CODE || '' }}</td>
                    <td>{{ item.Parent_ACC_AR_NAME || '' }}</td>
                    <td>{{ item.ACC_AR_NAME || '' }}</td>
                    <td>{{ item.ENTRY_DEBIT || 0 }}</td>
                    <td>{{ item.ENTRY_GOLD24_DEBIT || 0 }}</td>
                    <td>{{ item.ENTRY_GOLD22_DEBIT || 0 }}</td>
                    <td>{{ item.ENTRY_GOLD21_DEBIT || 0 }}</td>
                    <td>{{ item.ENTRY_GOLD18_DEBIT || 0 }}</td>
                </tr>
            </table>

            <h3 style="border-bottom:1px solid;display: inline-block">دائن</h3>
            <table>
                <tr class="success" style="font-weight: bold">
                    <td>#</td>
                    <td>كود</td>
                    <td>الحساب الرئيسى</td>
                    <td>الحساب</td>
                    <td>دائن</td>
                    <td>دائن 24</td>
                    <td>دائن 22</td>
                    <td>دائن 21</td>
                    <td>دائن 18</td>
                </tr>
                <tr ng-repeat="item in CreditEntries | filter : {ACC_ID : ''} track by $index ">
                    <td>{{ $index+1 }}</td>
                    <td>{{ item.ACC_CODE || '' }}</td>
                    <td>{{ item.Parent_ACC_AR_NAME || '' }}</td>
                    <td>{{ item.ACC_AR_NAME || '' }}</td>
                    <td>{{ item.ENTRY_CREDIT || 0 }}</td>
                    <td>{{ item.ENTRY_GOLD24_CREDIT || 0 }}</td>
                    <td>{{ item.ENTRY_GOLD22_CREDIT || 0 }}</td>
                    <td>{{ item.ENTRY_GOLD21_CREDIT || 0 }}</td>
                    <td>{{ item.ENTRY_GOLD18_CREDIT || 0 }}</td>
                </tr>
            </table>
        </div>

        <table cellspacing="10" style="margin:30px 0">
            <tr>
                <td style="width:33.333%;text-align: center; ">
                    <p><b>البائع</b></p>
                    <p style="font-weight: bold !important">{{ReportData.custAccountName != null?ReportData.custAccountName : billMaster.DeliveryPersonName }}</p>
                </td>
                <td style="width:33.333%;text-align: center;">
                    <p><b>امين الصندوق </b></p>

                </td>
                <td style="width:33.333%;text-align: center;">
                    <p><b>المدير المسؤول </b></p>
                    <!--<p>مشتريات كسر متنوعة</p>-->
                </td>
            </tr>
        </table>
    </div>

    <div id="fatoraFooter" style="bottom: 0; left:0;right:0">
        <table>
            <tr>
                <td style="border: 1px solid !important">
                    {{ReportData.ReportBranchName}} - {{ReportData.CompanyARName}} - هاتف
                    {{ReportData.COMPANY_TELEPHONE}} - س.ت: {{ReportData.CommercialRegister}}
                </td>
            </tr>
        </table>
    </div>

</div>
<!--/نهاية طباعة  فاتورة شراء المشغولات (مقفلة بالريال)  -->

<!-- طباعة مرجع المشغولات (مقفلة بالريال)  -->
<div id="ExchangeGoldPurchases" class="printSection">
    <div class="fatoraHeader" style="border-bottom: 1px solid ">

        <table border="0">
            <tr>
                <td style="border: none; width: 35%">
                    <img style="max-width:100% !important;margin-right: -5px" src="../../../../Content/assets/images/companyName-Ar.png" />

                    <p style="margin: 0 !important"><b>{{ReportData.ReportBranchName}} </b></p>
                    <p style="margin: 0 !important">(الرقم الضريبي : {{ReportData.CompanyTaxNumber}})</p>
                    <p style="margin: 0 !important">{{ReportData.ReportEnDate}}</p>
                    <p style="margin: 0 !important">الموافق {{ReportData.ReportHigriDate}}</p>
                </td>
                <td style="border: none;text-align: center;width: 30%">
                    <img style="max-width:40% !important; margin: -50px auto 10px !important" src="../../../../Content/assets/images/LOGO.JPG" />
                    <h1 style="margin: -20px auto 0 !important">مرجع المشغولات </h1>
                    <p style="color: red !important; font-size: 22px !important; font-weight: bold !important"><span style="color: #000 !important; margin: 0 5px !important">(مقفلة بالريال) </span>رقم({{billMaster.BILL_NUMBER}})</p>
                </td>
                <td style="border: none; text-align:left; width: 35%">
                    <img style="max-width:100% !important" src="../../../../Content/assets/images/companyName-En.png" />
                    <p style="margin: 0 !important"><b>{{ReportData.ReportBranchEnName}} </b></p>
                    <p style="margin: 0 !important">VAT No. :{{ReportData.CompanyTaxNumber}}</p>
                    <p style="margin: 0 !important">&nbsp;</p>
                    <p style="margin: 0 !important">&nbsp;</p>
                </td>
            </tr>
        </table>

        <table style="margin: 0 !important">
            <tr>
                <td style="border: none; text-align:right">
                    <p style="margin: 0 !important"><b>مشغولات مرجعه من الساده / {{ReportData.custAccountName !=null?ReportData.custAccountName : billMaster.DeliveryPersonName}}</b></p>
                    <p style="margin: 0 !important"><b>مناوله / {{billMaster.DeliveryPersonName}} </b></p>
                </td>
                <td style="border: none; text-align:left">
                    <p style="margin: 0 !important"> رقم حساب / {{ReportData.custAccountNumber}}</p>
                    <p>الرقم الضريبي للعميل/ {{ReportData.customerTaxNumber}}</p>
                </td>
            </tr>
        </table>

    </div>

    <div class="fatoora-body">

        <table style="margin:0 !important">
            <thead>
                <tr style="text-align: center !important">

                    <td rowspan="2"> <b>كود</b> </td>

                    <td rowspan="2" colspan="2" style="width: 200px !important"><b style="width: 200px !important"> اسم الصنف</b></td>

                    <td rowspan="2"><b>العيار</b></td>

                    <!--<td><b>العدد</b></td>-->
                    <td rowspan="2"><b>الوزن بالجرام</b></td>

                    <td rowspan="2"><b>اجرة الجرام</b></td>

                    <td rowspan="2">سعر الجرام ريال</td>

                    <td rowspan="2"><b>الاجور ريال </b></td>

                    <td rowspan="2"><b>قيمه الذهب ريال</b></td>

                    <td colspan="2" ng-hide="billMaster.TotalWagesDiscValue <= 0 &&  billMaster.TotalDisc <= 0"><b>الخصم</b></td>

                    <td colspan="2" ng-hide="billMaster.TotalWagesDiscValue <= 0 &&  billMaster.TotalDisc <= 0"><b>الصافي</b></td>

                    <td colspan="3"><b>ضريبة القيمة المضافة</b></td>

                    <td rowspan="2"><b>الاجمالي بعد الضريبة ريال</b></td>
                </tr>
                <tr style="text-align: center !important">
                    <!--الخصم-->
                    <td ng-hide="billMaster.TotalWagesDiscValue <= 0"><b>اجور</b></td>
                    <td ng-hide="billMaster.TotalDisc <= 0"><b>قيمة</b></td>

                    <!--الصافي-->
                    <td ng-hide="billMaster.TotalWagesDiscValue <= 0"><b>اجور</b></td>
                    <td ng-hide="billMaster.TotalDisc <= 0"><b>قيمة</b></td>

                    <!--ضريبة القيمة المضافة-->
                    <td><b>النسبة</b></td>
                    <td><b>اجور</b></td>
                    <td><b>قيمة</b></td>
                </tr>

            </thead>
            <tbody>
                <tr ng-repeat="item in selectedItems track by $index" ng-if="!$last" style="text-align: center !important">

                    <!--كود-->
                    <td><b>{{index+1}}</b></td>

                    <!--اسم الصنف-->
                    <td colspan="2"><b>{{item.ITEM_AR_NAME}}</b></td>

                    <!--العيار-->
                    <td><b>{{item.ARName}}</b></td>

                    <!--الوزن بالجرام-->
                    <td><b>{{item.ItemWeight}}</b></td>

                    <!--اجرة الجرام-->
                    <td><b>{{item.itemGmWages}}</b></td>

                    <!--اجرة بالجرام-->
                    <td><b>{{item.GmPrice}}</b></td>

                    <!--الاجور ريال-->
                    <td><b>{{item.TotalItemGmWages}}</b></td>

                    <!--قيمه الذهب  ريال-->
                    <td><b>{{item.Price}}</b></td>

                    <!--الخصم-->
                    <!--خصم اجور-->
                    <td ng-hide="billMaster.TotalWagesDiscValue <= 0"><b>{{item.WagesDiscValue}}</b></td>
                    <!--خصم قيمة-->
                    <td ng-hide="billMaster.TotalDisc <= 0"><b>{{item.DISC_VALUE}}</b></td>


                    <!--الصافي-->
                    <!--صافي اجور-->
                    <td ng-hide="billMaster.TotalWagesDiscValue <= 0"><b>{{item.WagesAfterDisc}}</b></td>
                    <!--صافي قيمة-->
                    <td ng-hide="billMaster.TotalDisc <= 0"><b>{{item.GoldAfterDisc}}</b></td>

                    <!--ضريبة القيمة المضافة-->
                    <!--ضريبة نسبة-->
                    <td>
                        <span ng-if="item.IsExemptOfTax == true "><b>معفي</b><br></span>

                        <span ng-if="item.SubjectToVAT == true "><b>{{item.VATRate}}</b><br></span>
                        <span ng-if="item.IsExemptOfTax != true && item.SubjectToVAT != true "><b>غير</b> <br></span>


                    </td>
                    <!--ضريبة اجور-->
                    <td><b>{{(((item.WagesVat !=null && item.WagesVat != undefined && item.WagesVat != '') ? item.WagesVat : 0) / 100).toFixed(2)}}</b></td>
                    <!--ضريبة قيمة-->
                    <td><b>{{(((item.GoldVat !=null && item.GoldVat != undefined && item.GoldVat != '') ? item.GoldVat : 0) / 100).toFixed(2)}}</b></td>


                    <!--الاجمالي بعد الضريبة-->
                    <td><b>{{item.TaxTotal}}</b></td>

                </tr>
            </tbody>
            <tfoot>
                <tr style="text-align: center !important; color: red !important">
                    <td colspan="3" style="font-weight:bold !important"><b>المجموع</b></td>

                    <!--العيار-->
                    <td></td>

                    <!--الوزن بالجرام-->
                    <td></td>

                    <!--اجرة بالجرام-->
                    <td> </td>

                    <!--سعر الجرام ريال-->
                    <td></td>

                    <!--الاجور ريال-->
                    <td><b>{{footerTotalItemGmWages}}</b></td>

                    <!--قيمه الذهب  ريال-->
                    <td><b>{{footerTotalPrice}}</b></td>

                    <!--الخصم-->
                    <!--خصم اجور-->
                    <td ng-hide="billMaster.TotalWagesDiscValue <= 0"><b>{{billMaster.TotalWagesDiscValue}}</b></td>
                    <!--خصم قيمة-->
                    <td ng-hide="billMaster.TotalDisc <= 0"><b>{{billMaster.TotalDisc}}</b></td>

                    <!--الصافي-->
                    <!--صافي اجور-->
                    <td ng-hide="billMaster.TotalWagesDiscValue <= 0"><b>{{footerWagesAfterDisc}}</b></td>
                    <!--صافي قيمة-->
                    <td ng-hide="billMaster.TotalDisc <= 0"><b>{{footerGoldAfterDisc}}</b></td>


                    <!--ضريبة القيمة المضافة-->
                    <!--ضريبة نسبة-->
                    <td> </td>
                    <!--ضريبة اجور-->
                    <td><b>{{(footerWagesVat /100).toFixed(2)}}</b></td>
                    <!--ضريبة قيمة-->
                    <td><b>{{(footerGoldVat /100).toFixed(2)}}</b></td>

                    <!--الاجمالي بعد الضريبة-->
                    <!-- <td>{{((calcTotalBillReport(billMaster.totalPrice,footerTotalItemGmWages)) - ( billMaster.TotalWagesDiscValue*1 +  billMaster.TotalDisc*1))+((billMaster.manufacturingWagesMainVat * billMaster.MainVatRate / 100) + footerTotalVatValue*1)}}</td>-->
                    <td>{{billMaster.totalMustPaid}}</td>

                </tr>
            </tfoot>
        </table>

        <p><span style="font-weight:bold !important; border-bottom: 1px solid ">اجماليات الفاتورة</span></p>

        <table>
            <tr>
                <td>{{billMaster.totalMustPaid}}</td>
                <td>{{ReportData.CURRENCY_Name}}</td>
                <td>{{ReportData.totalMustPaidTafqeet}}</td>
            </tr>


            <tr ng-hide="billMaster.total24Quantity <= 0">
                <td>{{billMaster.total24Quantity}}</td>
                <td>جرام 24</td>
                <td>{{ReportData.Total24Tafqeet}}</td>
            </tr>
            <tr ng-hide="billMaster.total22Quantity <= 0">
                <td>{{billMaster.total22Quantity}}</td>
                <td>جرام 22</td>
                <td>{{ReportData.Total22Tafqeet}}</td>
            </tr>
            <tr ng-hide="billMaster.total21Quantity <= 0">
                <td>{{billMaster.total21Quantity}}</td>
                <td>جرام 21</td>
                <td>{{ReportData.Total21Tafqeet}}</td>
            </tr>
            <tr ng-hide="billMaster.total18Quantity <= 0">
                <td>{{billMaster.total18Quantity}}</td>
                <td>جرام 18</td>
                <td>{{ReportData.Total18Tafqeet}}</td>
            </tr>

        </table>

        <div style="border: 1px solid ; padding:10px ; margin: 15px 0">
            <p style="margin: 0 !important"><b>البيان</b></p>
            {{billMaster.BILL_REMARKS}}
        </div>

        <div ng-if="PrintEntryDetailsWithBill">
            <div style="text-align:center;font-weight:bold;">
                <h4 style="border-bottom:1px solid;display: inline-block"><b>تفاصيل القيد</b></h4>
            </div>
            <h3 style="border-bottom:1px solid;display: inline-block"><b>مدين</b></h3>
            <table>
                <tr class="success" style="font-weight: bold !important">
                    <td>#</td>
                    <td>كود</td>
                    <td>الحساب الرئيسى</td>
                    <td>الحساب</td>
                    <td>مدين</td>
                    <td>مدين 24</td>
                    <td>مدين 22</td>
                    <td>مدين 21</td>
                    <td>مدين 18</td>
                </tr>
                <tr ng-repeat="item in DebitEntries | filter : {ACC_ID : ''} track by $index ">
                    <td>{{ $index+1 }}</td>
                    <td>{{ item.ACC_CODE || '' }}</td>
                    <td>{{ item.Parent_ACC_AR_NAME || '' }}</td>
                    <td>{{ item.ACC_AR_NAME || '' }}</td>
                    <td>{{ item.ENTRY_DEBIT || 0 }}</td>
                    <td>{{ item.ENTRY_GOLD24_DEBIT || 0 }}</td>
                    <td>{{ item.ENTRY_GOLD22_DEBIT || 0 }}</td>
                    <td>{{ item.ENTRY_GOLD21_DEBIT || 0 }}</td>
                    <td>{{ item.ENTRY_GOLD18_DEBIT || 0 }}</td>
                </tr>
            </table>

            <h3 style="border-bottom:1px solid;display: inline-block">دائن</h3>
            <table>
                <tr class="success" style="font-weight: bold !important">
                    <td>#</td>
                    <td>كود</td>
                    <td>الحساب الرئيسى</td>
                    <td>الحساب</td>
                    <td>دائن</td>
                    <td>دائن 24</td>
                    <td>دائن 22</td>
                    <td>دائن 21</td>
                    <td>دائن 18</td>
                </tr>
                <tr ng-repeat="item in CreditEntries | filter : {ACC_ID : ''} track by $index ">
                    <td>{{ $index+1 }}</td>
                    <td>{{ item.ACC_CODE || '' }}</td>
                    <td>{{ item.Parent_ACC_AR_NAME || '' }}</td>
                    <td>{{ item.ACC_AR_NAME || '' }}</td>
                    <td>{{ item.ENTRY_CREDIT || 0 }}</td>
                    <td>{{ item.ENTRY_GOLD24_CREDIT || 0 }}</td>
                    <td>{{ item.ENTRY_GOLD22_CREDIT || 0 }}</td>
                    <td>{{ item.ENTRY_GOLD21_CREDIT || 0 }}</td>
                    <td>{{ item.ENTRY_GOLD18_CREDIT || 0 }}</td>
                </tr>
            </table>
        </div>

        <table cellspacing="10" style="margin:15px 0">
            <tr>
                <td style="width:33.333%;text-align: center; ">
                    <p style="margin-bottom:30px"><b>المستلم</b></p>
                    <p style="font-weight: bold !important">{{ReportData.custAccountName !=null?ReportData.custAccountName : billMaster.DeliveryPersonName}}</p>
                </td>
                <td style="width:33.333%;text-align: center; ">
                    <p style="margin-bottom:30px"><b>امين الصندوق </b></p>
                </td>
                <td style="width:33.333%;text-align: center; ">
                    <p style="margin-bottom:30px"><b>المدير المسؤول </b></p>
                </td>
            </tr>
        </table>

    </div>

    <div id="fatoraFooter" style="bottom: 0; left:0;right:0;">
        <table>
            <tr>
                <td style="border: 1px solid !important">
                    {{ReportData.ReportBranchName}} - {{ReportData.CompanyARName}} - هاتف
                    {{ReportData.COMPANY_TELEPHONE}} - س.ت: {{ReportData.CommercialRegister}}
                </td>
            </tr>
        </table>
    </div>

</div>
<!--/.نهاية طباعة مرجع المشغولات (مقفلة بالريال) -->

<!-- طباعة اشعار اقفال شراء  -->
<div id="NoticeClosingPurchase" class="printSection">
    <div class="fatoraHeader" style="border-bottom: 1px solid ">
        <table border="0">
            <tr style="border: none">
                <td style="border: none; width: 35%">
                    <img style="max-width:100% !important;margin-right: -5px" src="../../../../Content/assets/images/companyName-Ar.png" />
                    <p style="margin: 0 !important"><b>{{ReportData.ReportBranchName}} </b></p>
                    <p style="margin: 0 !important">(الرقم الضريبي : {{ReportData.CompanyTaxNumber}})</p>
                    <p style="margin: 0 !important">{{ReportData.ReportEnDate}}</p>
                    <p style="margin: 0 !important">الموافق {{ReportData.ReportHigriDate}}</p>
                </td>
                <td style="border: none;text-align: center;width: 30%">
                    <img style="max-width:40% !important; margin: -50px auto 10px !important" src="../../../../Content/assets/images/LOGO.JPG" />
                    <h2 style="margin: -20px auto 0 !important">اشعار اقفال (شراء) </h2>
                    <p style="color: red !important; font-size: 22px !important; font-weight: bold !important"><span style="color: #000 !important; margin: 0 5px !important"></span>رقم({{billMaster.BILL_NUMBER}})</p>
                </td>
                <td style="border: none; text-align:left; width: 35%">
                    <img style="max-width:100% !important" src="../../../../Content/assets/images/companyName-En.png" />
                    <p style="margin: 0 !important">Branch : <b>{{ReportData.ReportBranchEnName}} </b></p>
                    <p style="margin: 0 !important">VAT No. :{{ReportData.CompanyTaxNumber}}</p>
                    <p style="margin: 0 !important">&nbsp;</p>
                    <p style="margin: 0 !important">&nbsp;</p>
                </td>
            </tr>
        </table>

        <table style="margin: 0 !important">
            <tr>
                <td style="border: none; text-align:right">
                    <p style="margin: 0 !important ; font-weight: bold !important">
                        الساده/{{ReportData.custAccountName != null?ReportData.custAccountName: billMaster.DeliveryPersonName}}
                    </p>
                    <p style="margin: 0 !important ; font-weight: bold !important">مناوله/{{billMaster.DeliveryPersonName}}</p>
                </td>
                <td style="border: none; text-align:left">
                    <p style="margin: 0 !important"> رقم حساب / {{ReportData.custAccountNumber}}</p>
                    <p>الرقم الضريبي للعميل / {{ReportData.customerTaxNumber}}</p>
                </td>
            </tr>
        </table>

    </div>

    <div class="fatoora-body">
        <table style="border: none">
            <tr>
                <td style="border: none;padding-top: 20px" colspan="2">
                    بناء علي طلبكم بإقفال الذهب المبين بهذا السند ، عليه فقد تم التسكير بسعر {{KiloPrice}} ريال للكيلوجرام من الذهب
                    الصافي ، ولقد قيدنا لحسابكم طرفنا مبلغ ( {{billMaster.TotalAfterTax}} ( ريال ، وفي المقابل فقد قيدنا عليكم ) (
                    {{billMaster.total18Quantity}} جرام ذهب عيار 18 ) و ( {{billMaster.total21Quantity}} جرام ذهب عيار21 ) و (
                    {{billMaster.total22Quantity}} جرام ذهب عيار22 ) و ( {{billMaster.total24Quantity}} جرام ذهب عيار 24 ) وبيان ذلك
                    كالتالي :
                </td>
            </tr>
        </table>

        <table style="margin:0 !important">

            <thead>
                <tr style="text-align: center !important">
                    <td rowspan="2" style="width: 20px !important; padding: 0 !important"> <b>كود</b> </td>

                    <td rowspan="2" colspan="2" style="width: 200px !important"><b style="width: 200px !important"> اسم الصنف</b></td>

                    <td rowspan="2" style="width: 20px !important; padding: 0 !important"><b>العدد</b></td>

                    <td rowspan="2" style="width: 10px !important; padding: 0 !important"><b>العيار</b></td>

                    <td rowspan="2"><b>الوزن بالجرام</b></td>

                    <td rowspan="2"><b>سعر الجرام ريال</b></td>

                    <td rowspan="2"><b>القيمه ريال</b></td>

                    <td rowspan="2" ng-hide="billMaster.TotalDisc <= 0"><b>الخصم ريال</b></td>

                    <td rowspan="2" ng-hide="billMaster.TotalDisc <= 0"><b>الصافي ريال</b></td>

                    <td colspan="2"><b>ضريبة القيمة المضافة</b></td>

                    <td rowspan="2"><b>الاجمالي بعد الضريبة</b></td>
                </tr>
                <tr style="text-align: center !important">
                    <td style="width: 20px !important; padding: 0 !important"><b>النسبة</b></td>
                    <td><b>قيمة</b></td>
                </tr>

            </thead>

            <tbody>
                <tr ng-repeat="item in selectedItems track by $index" ng-if="!$last" style="text-align: center !important">

                    <!--كود-->
                    <td row><b>{{$index + 1}}</b></td>

                    <!--اسم الصنف-->
                    <td colspan="2"><b>{{item.ITEM_AR_NAME}}</b></td>

                    <!-- العدد -->
                    <td><b>{{item.Quantity}}</b></td>

                    <!--العيار-->
                    <td><b>{{item.ARName}}</b></td>

                    <!--الوزن بالجرام-->
                    <td><b>{{item.ItemWeight}}</b></td>

                    <!--اجرة بالجرام-->
                    <!--<td>{{item.ItemWeight}}</td>-->
                    <!--سعر الجرام ريال-->
                    <td><b>{{item.GmPrice}}</b></td>

                    <!--الاجور ريال-->
                    <!--<td>{{item.TotalItemGmWages}}</td>-->
                    <!--قيمه   ريال-->
                    <td><b>{{item.Price}}</b></td>

                    <!--الخصم-->
                    <!--خصم قيمة-->
                    <td ng-hide="billMaster.TotalDisc <= 0"><b>{{item.DISC_VALUE}}</b></td>

                    <!--الصافي-->
                    <!--صافي قيمة-->
                    <td ng-hide="billMaster.TotalDisc <= 0"><b>{{item.GoldAfterDisc}}</b></td>

                    <!--ضريبة القيمة المضافة-->
                    <!--ضريبة نسبة-->

                    <td>
                        <span ng-if="item.IsExemptOfTax == true "><b>معفي</b><br></span>
                        <span ng-if="item.SubjectToVAT == true "><b>{{item.VATRate}}</b><br></span>
                        <span ng-if="item.IsExemptOfTax != true && item.SubjectToVAT != true "><b>غير</b> <br></span>


                    </td>
                    <!--ضريبة قيمة-->
                    <td><b>{{item.VatValue}}</b></td>

                    <!--الاجمالي بعد الضريبة-->
                    <td><b>{{item.TaxTotal}}</b></td>

                </tr>
            </tbody>

            <tfoot>
                <tr style="text-align: center !important; color: red !important">
                    <td colspan="3" style="font-weight:bold !important"><b>المجموع</b></td>

                    <!--العيار-->
                    <td></td>

                    <!--الوزن بالجرام-->
                    <td></td>

                    <!--سعر الجرام ريال-->
                    <td></td>

                    <!--الاجور ريال-->
                    <td><b>{{footerTotalItemGmWages}}</b></td>

                    <!--قيمه   ريال-->
                    <td><b>{{footerTotalPrice}}</b></td>

                    <!--الخصم-->
                    <!--خصم قيمة-->
                    <td ng-hide="billMaster.TotalDisc <= 0"><b>{{billMaster.TotalDisc}}</b></td>

                    <!--الصافي-->
                    <!--صافي قيمة-->
                    <td ng-hide="billMaster.TotalDisc <= 0"><b>{{footerGoldAfterDisc}}</b></td>


                    <!--ضريبة القيمة المضافة-->
                    <!--ضريبة نسبة-->
                    <td> </td>
                    <!--ضريبة قيمة-->
                    <td><b>{{footerGoldAfterDisc}}</b></td>

                    <!--الاجمالي بعد الضريبة-->
                    <td><b>{{footerTaxTotal}}</b></td>
                </tr>
            </tfoot>

        </table>


        <!--
            <table>
             <tr style="font-weight: bold !important">
                 <td>سعـر كلج ذهب صافي</td>
                 <td>العيار</td>
                 <td>الوزن بالجرام</td>
                 <td>القيمة</td>
                 <td>خصـم</td>
                 <td> الصافي - ريال</td>
             </tr>
             <tr>
                 <td rowspan="6">
                     <h2 style="text-align: center">{{KiloPrice}}</h2>
                 </td>
                 <td ng-if="!isTotal24QuantityZero"><b>ذهب عيار 24</b></td>
                 <td ng-if="!isTotal24QuantityZero">{{billMaster.total24Quantity}}</td>
                 <td ng-if="!isTotal24QuantityZero">{{goldPrint.price24}}</td>
                 <td ng-if="!isTotal24QuantityZero">{{goldPrint.disc24}}</td>
                 <td ng-if="!isTotal24QuantityZero">{{goldPrint.afterDisc24}}</td>
             </tr>
             <tr ng-if="!isTotal22QuantityZero">
                 <td><b>ذهب عيار22</b></td>
                 <td>{{billMaster.total22Quantity}}</td>
                 <td>{{goldPrint.price22}}</td>
                 <td>{{goldPrint.disc22}}</td>
                 <td>{{goldPrint.afterDisc22}}</td>
             </tr>

             <tr ng-if="!isTotal21QuantityZero">
                 <td><b>ذهب عيار 21</b></td>
                 <td>{{billMaster.total21Quantity}}</td>
                 <td>{{goldPrint.price21}}</td>
                 <td>{{goldPrint.disc21}}</td>
                 <td>{{goldPrint.afterDisc21}}</td>
             </tr>

             <tr ng-if="!isTotal18QuantityZero">
                 <td><b>ذهب عيار 18</b></td>
                 <td>{{billMaster.total18Quantity}}</td>
                 <td>{{goldPrint.price18}}</td>
                 <td>{{goldPrint.disc18}}</td>
                 <td>{{goldPrint.afterDisc18}}</td>
             </tr>
             <tr>
                 <td colspan="2" style="text-align: left"><b>اجـمـــاليـــــات الســــــــند</b></td>
                 <td>{{goldPrint.totalGoldPrice}}</td>
                 <td>{{goldPrint.totalGoldDisc}}</td>
                 <td>{{goldPrint.totalGoldAfterDisc}}</td>
             </tr>
             <tr>
                 <td colspan="4" style="text-align: left"><b>صافي قيمة الفاتوره بالريال</b></td>
                 <td>{{billMaster.TotalBeforeTax}}</td>
             </tr>
             <tr>
                 <td colspan="4" style="text-align: left"><b>الضريبة المضافة</b></td>
                 <td>{{billMaster.TotalVatValue}}</td>
             </tr>
             <tr>
                 <td colspan="4" style="text-align: left"><b>الاجمالي بعد الضريبة</b></td>
                 <td>{{billMaster.TotalAfterTax}}</td>
             </tr>
         </table>

            -->

        <p style="border-bottom:1px solid;display: inline-block; font-weight: bold">قيدنا على حسابكم طرفنا :</p>


        <table>
            <tr ng-hide="billMaster.total24Quantity <= 0">
                <td>{{billMaster.total24Quantity}}</td>
                <td>جرام 24</td>
                <td>{{ReportData.Total24Tafqeet}}</td>
            </tr>
            <tr ng-hide="billMaster.total22Quantity <= 0">
                <td>{{billMaster.total22Quantity}}</td>
                <td>جرام 22</td>
                <td>{{ReportData.Total22Tafqeet}}</td>
            </tr>
            <tr ng-hide="billMaster.total21Quantity <= 0">
                <td>{{billMaster.total21Quantity}}</td>
                <td>جرام 21</td>
                <td>{{ReportData.Total21Tafqeet}}</td>
            </tr>
            <tr ng-hide="billMaster.total18Quantity <= 0">
                <td>{{billMaster.total18Quantity}}</td>
                <td>جرام 18</td>
                <td>{{ReportData.Total18Tafqeet}}</td>
            </tr>
        </table>

        <p style="border-bottom:1px solid;display: inline-block; font-weight: bold">قيدنا لحسابكم على طرفنا :</p>

        <table>
            <tr>
                <td>{{billMaster.TotalAfterTax}}</td>
                <td><b>ريــال</b></td>
                <td>{{ReportData.TotalAfterTaxTafqeet}}</td>
            </tr>
        </table>

        <div ng-if="PrintEntryDetailsWithBill">
            <div style="text-align:center;font-weight:bold;">
                <h4 style="border-bottom:1px solid;display: inline-block"><b>تفاصيل القيد</b></h4>
            </div>
            <h3 style="border-bottom:1px solid;display: inline-block"><b>مدين</b></h3>
            <table>
                <tr class="success" style="font-weight: bold !important">
                    <td>#</td>
                    <td>كود</td>
                    <td>الحساب الرئيسى</td>
                    <td>الحساب</td>
                    <td>مدين</td>
                    <td>مدين 24</td>
                    <td>مدين 22</td>
                    <td>مدين 21</td>
                    <td>مدين 18</td>
                </tr>
                <tr ng-repeat="item in DebitEntries | filter : {ACC_ID : ''} track by $index ">
                    <td>{{ $index+1 }}</td>
                    <td>{{ item.ACC_CODE || '' }}</td>
                    <td>{{ item.Parent_ACC_AR_NAME || '' }}</td>
                    <td>{{ item.ACC_AR_NAME || '' }}</td>
                    <td>{{ item.ENTRY_DEBIT || 0 }}</td>
                    <td>{{ item.ENTRY_GOLD24_DEBIT || 0 }}</td>
                    <td>{{ item.ENTRY_GOLD22_DEBIT || 0 }}</td>
                    <td>{{ item.ENTRY_GOLD21_DEBIT || 0 }}</td>
                    <td>{{ item.ENTRY_GOLD18_DEBIT || 0 }}</td>
                </tr>
            </table>

            <h3 style="border-bottom:1px solid;display: inline-block"><b>دائن</b></h3>
            <table>
                <tr class="success" style="font-weight: bold !important">
                    <td>#</td>
                    <td>كود</td>
                    <td>الحساب الرئيسى</td>
                    <td>الحساب</td>
                    <td>دائن</td>
                    <td>دائن 24</td>
                    <td>دائن 22</td>
                    <td>دائن 21</td>
                    <td>دائن 18</td>
                </tr>
                <tr ng-repeat="item in CreditEntries | filter : {ACC_ID : ''} track by $index ">
                    <td>{{ $index+1 }}</td>
                    <td>{{ item.ACC_CODE || '' }}</td>
                    <td>{{ item.Parent_ACC_AR_NAME || '' }}</td>
                    <td>{{ item.ACC_AR_NAME || '' }}</td>
                    <td>{{ item.ENTRY_CREDIT || 0 }}</td>
                    <td>{{ item.ENTRY_GOLD24_CREDIT || 0 }}</td>
                    <td>{{ item.ENTRY_GOLD22_CREDIT || 0 }}</td>
                    <td>{{ item.ENTRY_GOLD21_CREDIT || 0 }}</td>
                    <td>{{ item.ENTRY_GOLD18_CREDIT || 0 }}</td>
                </tr>
            </table>
        </div>

        <table cellspacing="10" style="margin:15px 0">
            <tr style="height: 100px">
                <td style="width:33.333%;text-align: center; margin: 10px">
                    <p style="margin-bottom:50px"><b>تمت بمعرفة</b></p>
                    <p></p>
                </td>

                <td style="width:33.333%;text-align: center; margin: 10px">
                    <p style="margin-bottom:50px"><b>العميل</b></p>
                    <p>{{ReportData.custAccountName}}</p>
                </td>
                <td style="width:33.333%;text-align: center; margin: 10px">
                    <p style="margin-bottom:50px"><b>المدير المسئول</b></p>
                    <p></p>
                </td>

            </tr>
        </table>

    </div>

    <div id="fatoraFooter" style="bottom: 0; left:0;right:0;">
        <table>
            <tr>
                <td style="border: 1px solid !important">
                    {{ReportData.ReportBranchName}} - {{ReportData.CompanyARName}} - هاتف
                    {{ReportData.COMPANY_TELEPHONE}} - س.ت: {{ReportData.CommercialRegister}}
                </td>
            </tr>
        </table>
    </div>
</div>
<!--/.نهاية  طباعة اشعار اقفال شراء-->

<!-- طباعة اشعار اقفال بيع  -->
<div id="NoticeClosingSale" class="printSection">

    <div class="fatoraHeader">
        <table border="0">
            <tr style="border: none">
                <td style="border: none; width: 35%">
                    <img style="max-width:100% !important;margin-right: -5px" src="../../../../Content/assets/images/companyName-Ar.png" />

                    <p style="margin: 0 !important"><b>{{ReportData.ReportBranchName}} </b></p>
                    <p style="margin: 0 !important">(الرقم الضريبي : {{ReportData.CompanyTaxNumber}})</p>
                    <p style="margin: 0 !important">{{ReportData.ReportEnDate}}</p>
                    <p style="margin: 0 !important">الموافق {{ReportData.ReportHigriDate}}</p>
                </td>
                <td style="border: none;text-align: center;width: 30%">
                    <img style="max-width:40% !important; margin: -50px auto 10px !important" src="../../../../Content/assets/images/LOGO.JPG" />
                    <h2 style="margin: -20px auto 0 !important">اشعار اقفال (بيع)</h2>
                    <p style="color: red !important; font-size: 22px !important; font-weight: bold !important"><span style="color: #000 !important; margin: 0 5px !important"></span>رقم({{billMaster.BILL_NUMBER}})</p>
                </td>
                <td style="border: none; text-align:left; width: 35%">
                    <img style="max-width:100% !important" src="../../../../Content/assets/images/companyName-En.png" />
                    <p style="margin: 0 !important">Branch: <b>{{ReportData.ReportBranchEnName}} </b></p>
                    <p style="margin: 0 !important">VAT No. :{{ReportData.CompanyTaxNumber}}</p>
                    <p style="margin: 0 !important">&nbsp;</p>
                    <p style="margin: 0 !important">&nbsp;</p>
                </td>
            </tr>
        </table>

        <table style="margin: 0 !important">
            <tr>
                <td style="border: none; text-align:right">
                    <p style="margin: 0 !important;  font-weight: bold !important"> الساده / {{ReportData.custAccountName != null?ReportData.custAccountName : billMaster.DeliveryPersonName}}</p>
                    <p style="margin: 0 !important ; font-weight: bold !important">مناوله / {{billMaster.DeliveryPersonName}}</p>
                </td>
                <td style="border: none; text-align:left">
                    <p style="margin: 0 !important"> رقم حساب / {{ReportData.custAccountNumber}}</p>
                    <p>الرقم الضريبي للعميل / {{ReportData.customerTaxNumber}}</p>
                </td>
            </tr>
        </table>
    </div>

    <div class="fatoora-body">
        <table style="border: none">
            <tr>
                <td style="border: none;padding-top: 20px" colspan="2">
                    بناء علي طلبكم بإقفال الذهب المبين بهذا السند ، عليه فقد تم التسكير بسعر {{KiloPrice}} ريال للكيلوجرام من الذهب
                    الصافي ، ولقد قيدنا علي حسابكم طرفنا مبلغ ( {{billMaster.TotalAfterTax}} ( ريال ، وفي المقابل فقد قيدنا لكم ) (
                    {{billMaster.total18Quantity}} جرام ذهب عيار 18 ) و ( {{billMaster.total21Quantity}} جرام ذهب عيار21 ) و (
                    {{billMaster.total22Quantity}} جرام ذهب عيار22 ) و ( {{billMaster.total24Quantity}} جرام ذهب عيار 24 ) وبيان ذلك
                    كالتالي :
                </td>
            </tr>
        </table>

        <table style="margin:0 !important">

            <thead>
                <tr style="text-align: center !important">
                    <td rowspan="2" style="width: 20px !important; padding: 0 !important"> <b>كود</b> </td>

                    <td rowspan="2" colspan="2" style="width: 200px !important"><b style="width: 200px !important"> اسم الصنف</b></td>

                    <td rowspan="2" style="width: 20px !important; padding: 0 !important"><b>العدد</b></td>

                    <td rowspan="2" style="width: 20px !important; padding: 0 !important"><b>العيار</b></td>

                    <td rowspan="2"><b>الوزن بالجرام</b></td>

                    <td rowspan="2"><b>سعر الجرام ريال</b></td>

                    <td rowspan="2"><b>القيمه ريال</b></td>

                    <td rowspan="2" ng-hide="billMaster.TotalDisc <= 0"><b>الخصم ريال</b></td>

                    <td rowspan="2" ng-hide="billMaster.TotalDisc <= 0"><b>الصافي ريال</b></td>

                    <td colspan="2"><b>ضريبة القيمة المضافة</b></td>

                    <td rowspan="2"><b>الاجمالي بعد الضريبة</b></td>
                </tr>
                <tr style="text-align: center !important">
                    <td style="width: 20px !important; padding: 0 !important"><b>النسبة</b></td>
                    <td><b>قيمة</b></td>
                </tr>

            </thead>

            <tbody>
                <tr ng-repeat="item in selectedItems track by $index" ng-if="!$last" style="text-align: center !important">

                    <!--كود-->
                    <td row><b>{{$index + 1}}</b></td>

                    <!--اسم الصنف-->
                    <td colspan="2"><b>{{item.ITEM_AR_NAME}}</b></td>

                    <!-- العدد -->
                    <td><b>{{item.Quantity}}</b></td>

                    <!--العيار-->
                    <td><b>{{item.ARName}}</b></td>

                    <!--الوزن بالجرام-->
                    <td><b>{{item.ItemWeight}}</b></td>

                    <!--اجرة بالجرام-->
                    <!--<td>{{item.ItemWeight}}</td>-->
                    <!--سعر الجرام ريال-->
                    <td><b>{{item.GmPrice}}</b></td>

                    <!--الاجور ريال-->
                    <!--<td>{{item.TotalItemGmWages}}</td>-->
                    <!--قيمه   ريال-->
                    <td><b>{{item.Price}}</b></td>

                    <!--الخصم-->
                    <!--خصم قيمة-->
                    <td ng-hide="billMaster.TotalDisc <= 0"><b>{{item.DISC_VALUE}}</b></td>

                    <!--الصافي-->
                    <!--صافي قيمة-->
                    <td ng-hide="billMaster.TotalDisc <= 0"><b>{{item.GoldAfterDisc}}</b></td>

                    <!--ضريبة القيمة المضافة-->
                    <!--ضريبة نسبة-->

                    <td>
                        <span ng-if="item.IsExemptOfTax == true "><b>معفي</b><br></span>

                        <span ng-if="item.SubjectToVAT == true "><b>{{item.VATRate}}</b><br></span>
                        <span ng-if="item.IsExemptOfTax != true && item.SubjectToVAT != true "><b>غير</b> <br></span>


                    </td>
                    <!--ضريبة قيمة-->
                    <td>{{item.VatValue}}</td>
                    <!--الاجمالي بعد الضريبة-->
                    <td>{{item.TaxTotal}}</td>

                </tr>
            </tbody>

            <tfoot>
                <tr style="text-align: center !important; color: red !important">
                    <td colspan="3" style="font-weight:bold !important"><b>المجموع</b></td>

                    <!--العيار-->
                    <td></td>

                    <!--الوزن بالجرام-->
                    <td></td>

                    <!--سعر الجرام ريال-->
                    <td></td>

                    <!--الاجور ريال-->
                    <td>
                        <!--{{footerTotalItemGmWages}}-->
                    </td>

                    <!--قيمه   ريال-->
                    <td><b>{{footerTotalPrice}}</b></td>

                    <!--الخصم-->
                    <!--خصم قيمة-->
                    <td ng-hide="billMaster.TotalDisc <= 0"><b>{{billMaster.TotalDisc}}</b></td>

                    <!--الصافي-->
                    <!--صافي قيمة-->
                    <td ng-hide="billMaster.TotalDisc <= 0"><b>{{footerGoldAfterDisc}}</b></td>


                    <!--ضريبة القيمة المضافة-->
                    <!--ضريبة نسبة-->
                    <td> </td>
                    <!--ضريبة قيمة-->
                    <td><b>{{(footerGoldVat /100).toFixed(2)}}</b></td>

                    <!--الاجمالي بعد الضريبة-->
                    <td><b>{{billMaster.TotalBeforeTax*1 + billMaster.TotalAllDisc*1 + billMaster.TotalVatValue*1}}</b></td>
                </tr>
            </tfoot>

        </table>

        <p style="border-bottom:1px solid;display: inline-block; font-weight: bold"><b>قيدنا لكم بحسابكم طرفنا</b> :</p>

        <table>
            <tr ng-hide="billMaster.total24Quantity <= 0">
                <td>{{billMaster.total24Quantity}}</td>
                <td>جرام 24</td>
                <td>{{ReportData.Total24Tafqeet}}</td>
            </tr>
            <tr ng-hide="billMaster.total22Quantity <= 0">
                <td>{{billMaster.total22Quantity}}</td>
                <td>جرام 22</td>
                <td>{{ReportData.Total22Tafqeet}}</td>
            </tr>
            <tr ng-hide="billMaster.total21Quantity <= 0">
                <td>{{billMaster.total21Quantity}}</td>
                <td>جرام 21</td>
                <td>{{ReportData.Total21Tafqeet}}</td>
            </tr>
            <tr ng-hide="billMaster.total18Quantity <= 0">
                <td>{{billMaster.total18Quantity}}</td>
                <td>جرام 18</td>
                <td>{{ReportData.Total18Tafqeet}}</td>
            </tr>
        </table>



        <p style="border-bottom:1px solid;display: inline-block; font-weight: bold"><b>قيدنا عليكم بحسابكم طرفنا</b> :</p>

        <table>
            <tr>
                <td>{{billMaster.TotalAfterTax}}</td>
                <td><b>ريــال</b></td>
                <td>{{ReportData.TotalAfterTaxTafqeet}}</td>
            </tr>
        </table>

        <div ng-if="PrintEntryDetailsWithBill">
            <div style="text-align:center;font-weight:bold;">
                <h4 style="border-bottom:1px solid;display: inline-block"><b>تفاصيل القيد</b></h4>
            </div>
            <h3 style="border-bottom:1px solid;display: inline-block">مدين</h3>
            <table>
                <tr class="success" style="font-weight: bold !important">
                    <td>#</td>
                    <td>كود</td>
                    <td>الحساب الرئيسى</td>
                    <td>الحساب</td>
                    <td>مدين</td>
                    <td>مدين 24</td>
                    <td>مدين 22</td>
                    <td>مدين 21</td>
                    <td>مدين 18</td>
                </tr>

                <tr ng-repeat="item in DebitEntries | filter : {ACC_ID : ''} track by $index ">
                    <td>{{ $index+1 }}</td>
                    <td>{{ item.ACC_CODE || '' }}</td>
                    <td>{{ item.Parent_ACC_AR_NAME || '' }}</td>
                    <td>{{ item.ACC_AR_NAME || '' }}</td>
                    <td>{{ item.ENTRY_DEBIT || 0 }}</td>
                    <td>{{ item.ENTRY_GOLD24_DEBIT || 0 }}</td>
                    <td>{{ item.ENTRY_GOLD22_DEBIT || 0 }}</td>
                    <td>{{ item.ENTRY_GOLD21_DEBIT || 0 }}</td>
                    <td>{{ item.ENTRY_GOLD18_DEBIT || 0 }}</td>
                </tr>

            </table>

            <h3 style="border-bottom:1px solid;display: inline-block">دائن</h3>
            <table>
                <tr class="success" style="font-weight: bold !important">
                    <td>#</td>
                    <td>كود</td>
                    <td>الحساب الرئيسى</td>
                    <td>الحساب</td>
                    <td>دائن</td>
                    <td>دائن 24</td>
                    <td>دائن 22</td>
                    <td>دائن 21</td>
                    <td>دائن 18</td>
                </tr>
                <tr ng-repeat="item in CreditEntries | filter : {ACC_ID : ''} track by $index ">
                    <td>{{ $index+1 }}</td>
                    <td>{{ item.ACC_CODE || '' }}</td>
                    <td>{{ item.Parent_ACC_AR_NAME || '' }}</td>
                    <td>{{ item.ACC_AR_NAME || '' }}</td>
                    <td>{{ item.ENTRY_CREDIT || 0 }}</td>
                    <td>{{ item.ENTRY_GOLD24_CREDIT || 0 }}</td>
                    <td>{{ item.ENTRY_GOLD22_CREDIT || 0 }}</td>
                    <td>{{ item.ENTRY_GOLD21_CREDIT || 0 }}</td>
                    <td>{{ item.ENTRY_GOLD18_CREDIT || 0 }}</td>
                </tr>
            </table>
        </div>

        <table cellspacing="10" style="margin:15px 0">
            <tr style="height: 100px">
                <td style="width:33.333%;text-align: center; margin: 10px">
                    <p style=""><b>تمت بمعرفة</b></p>
                    <p></p>
                </td>

                <td style="width:33.333%;text-align: center; margin: 10px">
                    <p style=""><b>العميل</b></p>
                    <p>{{ReportData.custAccountName}}</p>
                </td>
                <td style="width:33.333%;text-align: center; margin: 10px">
                    <p style=""><b>المدير المسئول</b></p>
                    <p></p>
                </td>

            </tr>
        </table>

    </div>

    <div id="fatoraFooter" style="bottom: 0; left:0;right:0">
        <table>
            <tr>
                <td style="border-top: 1px solid !important">
                    {{ReportData.ReportBranchName}} - {{ReportData.CompanyARName}} - هاتف
                    {{ReportData.COMPANY_TELEPHONE}} - س.ت: {{ReportData.CommercialRegister}}
                </td>
            </tr>
        </table>
    </div>

</div>
<!--/.نهاية  طباعة اشعار اقفال بيع-->

<!-- طباعة فاتورة عادية -->
<div id="NormalBillPrint" class="printSection">
    <div class="fatoraHeader">
        <table border="0">
            <tr style="border: none">
                <td style="border: none; width: 35%">
                    <img style="max-width:100% !important; margin-right: -5px" src="../../../../Content/assets/images/companyName-Ar.png" />
                    <p style="margin: 0 !important">الفرع : <b>{{ReportData.ReportBranchName}} </b></p>
                    <p style="margin-bottom: 5px !important"> الرقم الضريبي :{{ReportData.CompanyTaxNumber}}</p>
                    <p style="margin: 0 !important">{{ReportData.ReportEnDate}}</p>
                    <p style="margin: 0 !important">الموافق {{ReportData.ReportHigriDate}}</p>


                </td>
                <td style="border: none;text-align: center;width: 30%">
                    <img style="max-width:40% !important; margin: -50px auto 10px !important" src="../../../../Content/assets/images/LOGO.JPG" />
                    <h1 style="margin: -20px auto 0 !important;">فاتورة بيع</h1>
                    <p style="color: red !important; font-size: 22px !important; font-weight: bold !important">
                        رقم
                        ({{billMaster.BILL_NUMBER}})
                    </p>
                </td>
                <td style="border: none; text-align:left; width: 35%">
                    <img style="max-width:100% !important" src="../../../../Content/assets/images/companyName-En.png" />
                    <p style="margin: 0 !important">Branch : <b>{{ReportData.ReportBranchEnName}} </b></p>
                    <p style="margin-bottom: 5px !important">VAT No. :{{ReportData.CompanyTaxNumber}}</p>
                    <p style="margin: 0 !important">&nbsp;</p>
                    <p> style="margin: 0 !important"&nbsp;</p>
                </td>
            </tr>
        </table>
        <table style="margin: 0 !important">
            <tr>
                <td style="border: none; text-align:right">
                    <p style="margin: 0 !important; font-size: 16px !important; font-weight: bold !important">
                        <b>
                            مباع الي
                            الساده
                        </b>/{{ReportData.custAccountName != null?ReportData.custAccountName : billMaster.DeliveryPersonName }}
                    </p>
                    <p style="margin: 0 !important"> <b>مناوله</b> / {{billMaster.DeliveryPersonName}}</p>
                </td>
                <td style="border: none; text-align:left">
                    <p><b>رقم حساب</b>/ {{ReportData.custAccountNumber}}</p>
                    <p> <b>الرقم الضريبي للعميل</b> / {{ReportData.customerTaxNumber}}</p>
                </td>
            </tr>
        </table>
    </div>

    <div class="fatoora-body">

        <table style="margin:0 !important">

            <thead>
                <tr style="text-align: center !important">
                    <td rowspan="2" style="width: 20px !important; padding: 0 !important"> <b>كود</b> </td>

                    <td rowspan="2" colspan="2" style="width: 200px !important"><b style="width: 200px !important"> اسم الصنف</b></td>

                    <td rowspan="2" style="width: 20px !important; padding: 0 !important"><b>العدد</b></td>

                    <!--<td rowspan="2" style="width: 20px !important; padding: 0 !important"><b>العيار</b></td>

                    <td rowspan="2"><b>الوزن بالجرام</b></td>-->

                    <td rowspan="2"><b>سعر الوحدة</b></td>

                    <td rowspan="2"><b>الاجمالى </b></td>

                    <td rowspan="2" ng-hide="billMaster.TotalDisc <= 0"><b>الخصم </b></td>

                    <td rowspan="2" ng-hide="billMaster.TotalDisc <= 0"><b>الصافي </b></td>

                    <td colspan="2"><b>ضريبة القيمة المضافة</b></td>

                    <td rowspan="2"><b>الاجمالي بعد الضريبة</b></td>
                </tr>
                <tr style="text-align: center !important">
                    <td style="width: 20px !important; padding: 0 !important"><b>النسبة</b></td>
                    <td><b>قيمة</b></td>
                </tr>

            </thead>

            <tbody>
                <tr ng-repeat="item in selectedItems track by $index" ng-if="!$last" style="text-align: center !important">

                    <!--كود-->
                    <td><b>{{$index + 1}}</b></td>

                    <!--اسم الصنف-->
                    <td colspan="2"><b>{{item.ITEM_AR_NAME}}</b></td>

                    <!-- العدد -->
                    <td><b>{{item.Quantity}}</b></td>

                    <!--سعر الجرام ريال-->
                    <td><b>{{item.ItemPrice}}</b></td>

                    <!--قيمه   ريال-->
                    <td><b>{{item.Price}}</b></td>

                    <!--الخصم-->
                    <!--خصم قيمة-->
                    <td ng-hide="billMaster.TotalDisc <= 0"><b>{{item.DISC_VALUE}}</b></td>

                    <!--الصافي-->
                    <!--صافي قيمة-->
                    <td ng-hide="billMaster.TotalDisc <= 0"><b>{{item.GoldAfterDisc}}</b></td>

                    <!--ضريبة القيمة المضافة-->
                    <!--ضريبة نسبة-->

                    <td>
                        <span ng-if="item.IsExemptOfTax == true "><b>معفي</b><br></span>

                        <span ng-if="item.SubjectToVAT == true "><b>{{item.VATRate}}</b><br></span>
                        <span ng-if="item.IsExemptOfTax != true && item.SubjectToVAT != true "><b>غير</b> <br></span>


                    </td>
                    <!--ضريبة قيمة-->
                    <td><b>{{item.VatValue}}</b></td>
                    <!--الاجمالي بعد الضريبة-->
                    <td><b>{{item.TaxTotal}}</b></td>

                </tr>
            </tbody>

            <tfoot>
                <tr style="text-align: center !important; color: red !important">
                    <td colspan="3" style="font-weight:bold !important"><b>المجموع</b></td>
                    <td></td>
                    <td></td>

                    <!--قيمه   ريال-->
                    <td><b>{{footerTotalPrice}}</b></td>

                    <!--الخصم-->
                    <!--خصم قيمة-->
                    <td ng-hide="billMaster.TotalDisc <= 0"><b>{{billMaster.TotalDisc}}</b></td>

                    <!--الصافي-->
                    <!--صافي قيمة-->
                    <td ng-hide="billMaster.TotalDisc <= 0"><b>{{footerGoldAfterDisc}}</b></td>


                    <!--ضريبة القيمة المضافة-->
                    <!--ضريبة نسبة-->
                    <td> </td>
                    <!--ضريبة قيمة-->
                    <td><b>{{(footerGoldVat /100).toFixed(2)}}</b></td>

                    <!--الاجمالي بعد الضريبة-->
                    <td><b>{{billMaster.TotalBeforeTax*1 + billMaster.TotalAllDisc*1 + billMaster.TotalVatValue*1}}</b></td>
                </tr>
            </tfoot>

        </table>


        <p><span style="font-weight:bold !important; border-bottom: 1px solid ">اجماليات الفاتورة</span></p>

        <table>
            <tr>
                <td>{{billMaster.totalMustPaid}}</td>
                <td><b>ريــــال</b></td>
                <td>{{ReportData.totalMustPaidTafqeet}}</td>
            </tr>
        </table>


        <table>
            <tr>
                <td rowspan="2" colspan="{{payTypesList.length + 1}}"><b>طريقة السداد</b></td>
                <td style="font-weight:bold !important"><b>البيان</b></td>
                <td ng-repeat="item in payTypesList track by $index " style="font-weight:bold !important">
                    {{item.PAY_TYPE_AR_NAME || '0' }}
                </td>
            </tr>
            <tr>
                <td style="font-weight:bold !important"><b>القيمة</b></td>
                <td ng-repeat="item in payTypesList track by $index ">{{ item.PayTypeValue || '0' }}</td>
            </tr>
        </table>

        <div ng-if="PrintEntryDetailsWithBill">
            <div style="text-align:center;font-weight:bold;">
                <h4 style="border-bottom:1px solid;display: inline-block"><b>تفاصيل القيد</b></h4>
            </div>
            <h3 style="border-bottom:1px solid;display: inline-block"><b>مدين</b></h3>
            <table>
                <tr class="success" style="font-weight: bold !important">
                    <td>#</td>
                    <td>كود</td>
                    <td>الحساب الرئيسى</td>
                    <td>الحساب</td>
                    <td>مدين</td>
                </tr>
                <tr ng-repeat="item in DebitEntries | filter : {ACC_ID : ''} track by $index ">
                    <td>{{ $index+1 }}</td>
                    <td>{{ item.ACC_CODE || '' }}</td>
                    <td>{{ item.Parent_ACC_AR_NAME || '' }}</td>
                    <td>{{ item.ACC_AR_NAME || '' }}</td>
                    <td>{{ item.ENTRY_DEBIT || 0 }}</td>
                </tr>
            </table>

            <h3 style="border-bottom:1px solid;display: inline-block"><b>دائن</b></h3>
            <table>
                <tr class="success" style="font-weight: bold !important">
                    <td>#</td>
                    <td>كود</td>
                    <td>الحساب الرئيسى</td>
                    <td>الحساب</td>
                    <td>دائن</td>
                </tr>
                <tr ng-repeat="item in CreditEntries | filter : {ACC_ID : ''} track by $index ">
                    <td>{{ $index+1 }}</td>
                    <td>{{ item.ACC_CODE || '' }}</td>
                    <td>{{ item.Parent_ACC_AR_NAME || '' }}</td>
                    <td>{{ item.ACC_AR_NAME || '' }}</td>
                    <td>{{ item.ENTRY_CREDIT || 0 }}</td>
                </tr>
            </table>
        </div>

        <table cellspacing="10" style="margin:15px 0; border:none !important">
            <tr style=" border none !important">
                <td style="width:33.333%;text-align: center !important; margin: 10px">
                    <p style="margin-bottom:20px;text-align: center !important"><b>استلمت البضاعة سليمة وخالية من العيوب</b></p>
                    <p style="margin-bottom:20px;text-align: center !important">
                        <b>
                            {{
	ReportData.custAccountName !=
								null?ReportData.custAccountName : billMaster.DeliveryPersonName
                            }}
                        </b>
                    </p>

                </td>
                <td style="width:33.333%;text-align: center; ">
                    <p style="text-align: center !important"><b>امين الصندوق </b></p>
                    <p>&nbsp;</p>
                </td>
                <td style="width:33.333%;text-align: center; ">
                    <p style="text-align: center !important"><b>المدير المسئول </b></p>
                    <p>&nbsp;</p>
                </td>
            </tr>
        </table>

    </div>

    <div id="fatoraFooter" style="bottom: 0; left:0;right:0;">
        <table cellspacing="10" style="margin:15px 0 0">
            <tr>
                <td style="border: 1px solid !important">
                    {{ReportData.ReportBranchName}} - {{ReportData.CompanyARName}} - هاتف
                    {{ReportData.COMPANY_TELEPHONE}} - س.ت: {{ReportData.CommercialRegister}}
                </td>
            </tr>
        </table>
    </div>

</div>
<!--/.نهاية طباعة فاتورة عادية -->

<style>
    .panel {
        margin-bottom: 5px !important;
    }

    .container-fullw,
    .tab-pane,
    .panel-body {
        padding: 0 !important;
    }

    .printSection * {
        font-family: Cairo !important;
    }
</style>